var Il=Object.defineProperty;var Dl=(e,t,i)=>t in e?Il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var B=(e,t,i)=>(Dl(e,typeof t!="symbol"?t+"":t,i),i);const Xi=window,$s=Xi.ShadowRoot&&(Xi.ShadyCSS===void 0||Xi.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ns=Symbol(),po=new WeakMap;class Ta{constructor(t,i,n){if(this._$cssResult$=!0,n!==Ns)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if($s&&t===void 0){const n=i!==void 0&&i.length===1;n&&(t=po.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&po.set(i,t))}return t}toString(){return this.cssText}}const Rl=e=>new Ta(typeof e=="string"?e:e+"",void 0,Ns),dt=(e,...t)=>{const i=e.length===1?e[0]:t.reduce((n,s,o)=>n+(r=>{if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("use css function "+r+". Use unsafeCSS")})(s)+e[o+1],e[0]);return new Ta(i,e,Ns)},Ol=(e,t)=>{$s?e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet):t.forEach(i=>{const n=document.createElement("style"),s=Xi.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=i.cssText,e.appendChild(n)})},go=$s?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const n of t.cssRules)i+=n.cssText;return Rl(i)})(e):e;var Ln;const an=window,mo=an.trustedTypes,Tl=mo?mo.emptyScript:"",Ao=an.reactiveElementPolyfillSupport,cs={toAttribute(e,t){switch(t){case Boolean:e=e?Tl:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},Fa=(e,t)=>t!==e&&(t==t||e==e),$n={attribute:!0,type:String,converter:cs,reflect:!1,hasChanged:Fa},ls="finalized";class ye extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var i;this.finalize(),((i=this.h)!==null&&i!==void 0?i:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((i,n)=>{const s=this._$Ep(n,i);s!==void 0&&(this._$Ev.set(s,n),t.push(s))}),t}static createProperty(t,i=$n){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const n=typeof t=="symbol"?Symbol():"__"+t,s=this.getPropertyDescriptor(t,n,i);s!==void 0&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,i,n){return{get(){return this[i]},set(s){const o=this[t];this[i]=s,this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||$n}static finalize(){if(this.hasOwnProperty(ls))return!1;this[ls]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const i=this.properties,n=[...Object.getOwnPropertyNames(i),...Object.getOwnPropertySymbols(i)];for(const s of n)this.createProperty(s,i[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const s of n)i.unshift(go(s))}else t!==void 0&&i.push(go(t));return i}static _$Ep(t,i){const n=i.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(i=>i(this))}addController(t){var i,n;((i=this._$ES)!==null&&i!==void 0?i:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)===null||n===void 0||n.call(t))}removeController(t){var i;(i=this._$ES)===null||i===void 0||i.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i])})}createRenderRoot(){var t;const i=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return Ol(i,this.constructor.elementStyles),i}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(i=>{var n;return(n=i.hostConnected)===null||n===void 0?void 0:n.call(i)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(i=>{var n;return(n=i.hostDisconnected)===null||n===void 0?void 0:n.call(i)})}attributeChangedCallback(t,i,n){this._$AK(t,n)}_$EO(t,i,n=$n){var s;const o=this.constructor._$Ep(t,n);if(o!==void 0&&n.reflect===!0){const r=(((s=n.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?n.converter:cs).toAttribute(i,n.type);this._$El=t,r==null?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(t,i){var n;const s=this.constructor,o=s._$Ev.get(t);if(o!==void 0&&this._$El!==o){const r=s.getPropertyOptions(o),a=typeof r.converter=="function"?{fromAttribute:r.converter}:((n=r.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?r.converter:cs;this._$El=o,this[o]=a.fromAttribute(i,r.type),this._$El=null}}requestUpdate(t,i,n){let s=!0;t!==void 0&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||Fa)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),n.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,n))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,o)=>this[o]=s),this._$Ei=void 0);let i=!1;const n=this._$AL;try{i=this.shouldUpdate(n),i?(this.willUpdate(n),(t=this._$ES)===null||t===void 0||t.forEach(s=>{var o;return(o=s.hostUpdate)===null||o===void 0?void 0:o.call(s)}),this.update(n)):this._$Ek()}catch(s){throw i=!1,this._$Ek(),s}i&&this._$AE(n)}willUpdate(t){}_$AE(t){var i;(i=this._$ES)===null||i===void 0||i.forEach(n=>{var s;return(s=n.hostUpdated)===null||s===void 0?void 0:s.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((i,n)=>this._$EO(n,this[n],i)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}ye[ls]=!0,ye.elementProperties=new Map,ye.elementStyles=[],ye.shadowRootOptions={mode:"open"},Ao==null||Ao({ReactiveElement:ye}),((Ln=an.reactiveElementVersions)!==null&&Ln!==void 0?Ln:an.reactiveElementVersions=[]).push("1.6.3");var Nn;const cn=window,Be=cn.trustedTypes,bo=Be?Be.createPolicy("lit-html",{createHTML:e=>e}):void 0,hs="$lit$",Qt=`lit$${(Math.random()+"").slice(9)}$`,Pa="?"+Qt,Fl=`<${Pa}>`,le=document,ri=()=>le.createComment(""),ai=e=>e===null||typeof e!="object"&&typeof e!="function",Qa=Array.isArray,Pl=e=>Qa(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",zn=`[ 	
\f\r]`,ze=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_o=/-->/g,xo=/>/g,Kt=RegExp(`>|${zn}(?:([^\\s"'>=/]+)(${zn}*=${zn}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),yo=/'/g,vo=/"/g,La=/^(?:script|style|textarea|title)$/i,$a=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),S=$a(1),Ql=$a(2),Ce=Symbol.for("lit-noChange"),P=Symbol.for("lit-nothing"),wo=new WeakMap,ne=le.createTreeWalker(le,129,null,!1);function Na(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return bo!==void 0?bo.createHTML(t):t}const Ll=(e,t)=>{const i=e.length-1,n=[];let s,o=t===2?"<svg>":"",r=ze;for(let a=0;a<i;a++){const c=e[a];let l,h,u=-1,d=0;for(;d<c.length&&(r.lastIndex=d,h=r.exec(c),h!==null);)d=r.lastIndex,r===ze?h[1]==="!--"?r=_o:h[1]!==void 0?r=xo:h[2]!==void 0?(La.test(h[2])&&(s=RegExp("</"+h[2],"g")),r=Kt):h[3]!==void 0&&(r=Kt):r===Kt?h[0]===">"?(r=s!=null?s:ze,u=-1):h[1]===void 0?u=-2:(u=r.lastIndex-h[2].length,l=h[1],r=h[3]===void 0?Kt:h[3]==='"'?vo:yo):r===vo||r===yo?r=Kt:r===_o||r===xo?r=ze:(r=Kt,s=void 0);const p=r===Kt&&e[a+1].startsWith("/>")?" ":"";o+=r===ze?c+Fl:u>=0?(n.push(l),c.slice(0,u)+hs+c.slice(u)+Qt+p):c+Qt+(u===-2?(n.push(void 0),a):p)}return[Na(e,o+(e[i]||"<?>")+(t===2?"</svg>":"")),n]};class ci{constructor({strings:t,_$litType$:i},n){let s;this.parts=[];let o=0,r=0;const a=t.length-1,c=this.parts,[l,h]=Ll(t,i);if(this.el=ci.createElement(l,n),ne.currentNode=this.el.content,i===2){const u=this.el.content,d=u.firstChild;d.remove(),u.append(...d.childNodes)}for(;(s=ne.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes()){const u=[];for(const d of s.getAttributeNames())if(d.endsWith(hs)||d.startsWith(Qt)){const p=h[r++];if(u.push(d),p!==void 0){const g=s.getAttribute(p.toLowerCase()+hs).split(Qt),m=/([.?@])?(.*)/.exec(p);c.push({type:1,index:o,name:m[2],strings:g,ctor:m[1]==="."?Nl:m[1]==="?"?Hl:m[1]==="@"?Yl:Mn})}else c.push({type:6,index:o})}for(const d of u)s.removeAttribute(d)}if(La.test(s.tagName)){const u=s.textContent.split(Qt),d=u.length-1;if(d>0){s.textContent=Be?Be.emptyScript:"";for(let p=0;p<d;p++)s.append(u[p],ri()),ne.nextNode(),c.push({type:2,index:++o});s.append(u[d],ri())}}}else if(s.nodeType===8)if(s.data===Pa)c.push({type:2,index:o});else{let u=-1;for(;(u=s.data.indexOf(Qt,u+1))!==-1;)c.push({type:7,index:o}),u+=Qt.length-1}o++}}static createElement(t,i){const n=le.createElement("template");return n.innerHTML=t,n}}function Me(e,t,i=e,n){var s,o,r,a;if(t===Ce)return t;let c=n!==void 0?(s=i._$Co)===null||s===void 0?void 0:s[n]:i._$Cl;const l=ai(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==l&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),l===void 0?c=void 0:(c=new l(e),c._$AT(e,i,n)),n!==void 0?((r=(a=i)._$Co)!==null&&r!==void 0?r:a._$Co=[])[n]=c:i._$Cl=c),c!==void 0&&(t=Me(e,c._$AS(e,t.values),c,n)),t}class $l{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;const{el:{content:n},parts:s}=this._$AD,o=((i=t==null?void 0:t.creationScope)!==null&&i!==void 0?i:le).importNode(n,!0);ne.currentNode=o;let r=ne.nextNode(),a=0,c=0,l=s[0];for(;l!==void 0;){if(a===l.index){let h;l.type===2?h=new ki(r,r.nextSibling,this,t):l.type===1?h=new l.ctor(r,l.name,l.strings,this,t):l.type===6&&(h=new Ul(r,this,t)),this._$AV.push(h),l=s[++c]}a!==(l==null?void 0:l.index)&&(r=ne.nextNode(),a++)}return ne.currentNode=le,o}v(t){let i=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,i),i+=n.strings.length-2):n._$AI(t[i])),i++}}class ki{constructor(t,i,n,s){var o;this.type=2,this._$AH=P,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=n,this.options=s,this._$Cp=(o=s==null?void 0:s.isConnected)===null||o===void 0||o}get _$AU(){var t,i;return(i=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&i!==void 0?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=Me(this,t,i),ai(t)?t===P||t==null||t===""?(this._$AH!==P&&this._$AR(),this._$AH=P):t!==this._$AH&&t!==Ce&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):Pl(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==P&&ai(this._$AH)?this._$AA.nextSibling.data=t:this.$(le.createTextNode(t)),this._$AH=t}g(t){var i;const{values:n,_$litType$:s}=t,o=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=ci.createElement(Na(s.h,s.h[0]),this.options)),s);if(((i=this._$AH)===null||i===void 0?void 0:i._$AD)===o)this._$AH.v(n);else{const r=new $l(o,this),a=r.u(this.options);r.v(n),this.$(a),this._$AH=r}}_$AC(t){let i=wo.get(t.strings);return i===void 0&&wo.set(t.strings,i=new ci(t)),i}T(t){Qa(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let n,s=0;for(const o of t)s===i.length?i.push(n=new ki(this.k(ri()),this.k(ri()),this,this.options)):n=i[s],n._$AI(o),s++;s<i.length&&(this._$AR(n&&n._$AB.nextSibling,s),i.length=s)}_$AR(t=this._$AA.nextSibling,i){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,i);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var i;this._$AM===void 0&&(this._$Cp=t,(i=this._$AP)===null||i===void 0||i.call(this,t))}}class Mn{constructor(t,i,n,s,o){this.type=1,this._$AH=P,this._$AN=void 0,this.element=t,this.name=i,this._$AM=s,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=P}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,n,s){const o=this.strings;let r=!1;if(o===void 0)t=Me(this,t,i,0),r=!ai(t)||t!==this._$AH&&t!==Ce,r&&(this._$AH=t);else{const a=t;let c,l;for(t=o[0],c=0;c<o.length-1;c++)l=Me(this,a[n+c],i,c),l===Ce&&(l=this._$AH[c]),r||(r=!ai(l)||l!==this._$AH[c]),l===P?t=P:t!==P&&(t+=(l!=null?l:"")+o[c+1]),this._$AH[c]=l}r&&!s&&this.j(t)}j(t){t===P?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class Nl extends Mn{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===P?void 0:t}}const zl=Be?Be.emptyScript:"";class Hl extends Mn{constructor(){super(...arguments),this.type=4}j(t){t&&t!==P?this.element.setAttribute(this.name,zl):this.element.removeAttribute(this.name)}}class Yl extends Mn{constructor(t,i,n,s,o){super(t,i,n,s,o),this.type=5}_$AI(t,i=this){var n;if((t=(n=Me(this,t,i,0))!==null&&n!==void 0?n:P)===Ce)return;const s=this._$AH,o=t===P&&s!==P||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,r=t!==P&&(s===P||o);o&&this.element.removeEventListener(this.name,this,s),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,n;typeof this._$AH=="function"?this._$AH.call((n=(i=this.options)===null||i===void 0?void 0:i.host)!==null&&n!==void 0?n:this.element,t):this._$AH.handleEvent(t)}}class Ul{constructor(t,i,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){Me(this,t)}}const Eo=cn.litHtmlPolyfillSupport;Eo==null||Eo(ci,ki),((Nn=cn.litHtmlVersions)!==null&&Nn!==void 0?Nn:cn.litHtmlVersions=[]).push("2.8.0");const jl=(e,t,i)=>{var n,s;const o=(n=i==null?void 0:i.renderBefore)!==null&&n!==void 0?n:t;let r=o._$litPart$;if(r===void 0){const a=(s=i==null?void 0:i.renderBefore)!==null&&s!==void 0?s:null;o._$litPart$=r=new ki(t.insertBefore(ri(),a),a,void 0,i!=null?i:{})}return r._$AI(e),r};var Hn,Yn;class mt extends ye{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,i;const n=super.createRenderRoot();return(t=(i=this.renderOptions).renderBefore)!==null&&t!==void 0||(i.renderBefore=n.firstChild),n}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=jl(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return Ce}}mt.finalized=!0,mt._$litElement$=!0,(Hn=globalThis.litElementHydrateSupport)===null||Hn===void 0||Hn.call(globalThis,{LitElement:mt});const ko=globalThis.litElementPolyfillSupport;ko==null||ko({LitElement:mt});((Yn=globalThis.litElementVersions)!==null&&Yn!==void 0?Yn:globalThis.litElementVersions=[]).push("3.3.3");const Vt=e=>t=>typeof t=="function"?((i,n)=>(customElements.define(i,n),n))(e,t):((i,n)=>{const{kind:s,elements:o}=n;return{kind:s,elements:o,finisher(r){customElements.define(i,r)}}})(e,t),Vl=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(i){i.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}},Gl=(e,t,i)=>{t.constructor.createProperty(i,e)};function it(e){return(t,i)=>i!==void 0?Gl(e,t,i):Vl(e,t)}function nt(e){return it({...e,state:!0})}const Wl=({finisher:e,descriptor:t})=>(i,n)=>{var s;if(n===void 0){const o=(s=i.originalKey)!==null&&s!==void 0?s:i.key,r=t!=null?{kind:"method",placement:"prototype",key:o,descriptor:t(i.key)}:{...i,key:o};return e!=null&&(r.finisher=function(a){e(a,o)}),r}{const o=i.constructor;t!==void 0&&Object.defineProperty(i,n,t(n)),e==null||e(o,n)}};function Kl(e,t){return Wl({descriptor:i=>{const n={get(){var s,o;return(o=(s=this.renderRoot)===null||s===void 0?void 0:s.querySelector(e))!==null&&o!==void 0?o:null},enumerable:!0,configurable:!0};if(t){const s=typeof i=="symbol"?Symbol():"__"+i;n.get=function(){var o,r;return this[s]===void 0&&(this[s]=(r=(o=this.renderRoot)===null||o===void 0?void 0:o.querySelector(e))!==null&&r!==void 0?r:null),this[s]}}return n}})}var Un;((Un=window.HTMLSlotElement)===null||Un===void 0?void 0:Un.prototype.assignedElements)!=null;var Sn=dt`:host,button,input,select{font-family:ui-monospace,system-ui,Helvetica,Roboto,Oxygen,Ubuntu,sans-serif;--primary-color:#03a9f4;transition:all 350ms!important}`,za=dt`.btn,button{cursor:pointer;border-radius:4px;color:#03a9f4;border:none;background-color:unset;padding:8px;font-weight:500;font-size:12.25px;letter-spacing:1.09375px;text-transform:uppercase;margin-right:-8px}.btn:active,button:active{background-image:rgba(127,127,127,.2);transition-duration:1s}.btn:hover,button:hover{background-color:rgba(127,127,127,.2);transition-duration:1s}`,Jl=dt`input[type=text]{width:100%!important;height:1rem!important}`,ql=dt`:host{position:relative}select{background-color:inherit;color:inherit;width:100%;border-radius:4px}option{color:currentColor;background-color:var(--primary-color,currentColor)}input[type=range],input[type=text]{width:calc(100% - 3rem);height:.75rem}.range{text-align:center}.entity-row{display:flex;align-items:center;flex-direction:row;transition:all .3s ease-out 0s;min-height:40px;position:relative}.entity-row.expanded{min-height:240px}.entity-row:nth-child(2n){background-color:rgba(90,90,90,.1)}.entity-row iconify-icon{vertical-align:middle}.entity-row>:nth-child(1){flex:0 0 40px;color:#44739e;line-height:40px;text-align:center}.entity-row>:nth-child(2){flex:1 1 40%;margin-left:16px;margin-right:8px;text-wrap:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:150px}.entity-row>:nth-child(3){flex:1 1 50%;margin-right:8px;margin-left:20px;text-align:right;display:flex;justify-content:space-between}.entity-row>:nth-child(3)>:only-child{margin-left:auto}.binary_sensor_off{color:rgba(127,127,127,.7)}.singlebutton-row button{margin:auto;display:flex}.climate-wrap{width:100%;margin:10px 0 10px 0}.climate-row{width:100%;display:inline-flex;flex-wrap:wrap;text-align:left}.climate-row>select{width:50%}.climate-row>label{align-content:center;width:150px}input[type=color]::-webkit-color-swatch-wrapper{padding:0!important}`,zs=dt`.tab-header{display:inline-flex;max-width:90%;font-weight:400;padding-inline:1.5em;padding-top:.5em;padding-bottom:.5em;align-items:center;border-radius:12px 12px 0 0;background-color:rgba(127,127,127,.3);margin-top:1em;user-select:none}.tab-container{border:2px solid rgba(127,127,127,.3);border-radius:0 12px 12px 12px}`;function Bi(e){return e+.5|0}const Lt=(e,t,i)=>Math.max(Math.min(e,i),t);function Ke(e){return Lt(Bi(e*2.55),0,255)}function Nt(e){return Lt(Bi(e*255),0,255)}function It(e){return Lt(Bi(e/2.55)/100,0,1)}function Bo(e){return Lt(Bi(e*100),0,100)}const pt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},us=[..."0123456789ABCDEF"],Xl=e=>us[e&15],Zl=e=>us[(e&240)>>4]+us[e&15],Fi=e=>(e&240)>>4===(e&15),th=e=>Fi(e.r)&&Fi(e.g)&&Fi(e.b)&&Fi(e.a);function eh(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&pt[e[1]]*17,g:255&pt[e[2]]*17,b:255&pt[e[3]]*17,a:t===5?pt[e[4]]*17:255}:(t===7||t===9)&&(i={r:pt[e[1]]<<4|pt[e[2]],g:pt[e[3]]<<4|pt[e[4]],b:pt[e[5]]<<4|pt[e[6]],a:t===9?pt[e[7]]<<4|pt[e[8]]:255})),i}const ih=(e,t)=>e<255?t(e):"";function nh(e){var t=th(e)?Xl:Zl;return e?"#"+t(e.r)+t(e.g)+t(e.b)+ih(e.a,t):void 0}const sh=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ha(e,t,i){const n=t*Math.min(i,1-i),s=(o,r=(o+e/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function oh(e,t,i){const n=(s,o=(s+e/60)%6)=>i-i*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function rh(e,t,i){const n=Ha(e,1,.5);let s;for(t+i>1&&(s=1/(t+i),t*=s,i*=s),s=0;s<3;s++)n[s]*=1-t-i,n[s]+=t;return n}function ah(e,t,i,n,s){return e===s?(t-i)/n+(t<i?6:0):t===s?(i-e)/n+2:(e-t)/n+4}function Hs(e){const i=e.r/255,n=e.g/255,s=e.b/255,o=Math.max(i,n,s),r=Math.min(i,n,s),a=(o+r)/2;let c,l,h;return o!==r&&(h=o-r,l=a>.5?h/(2-o-r):h/(o+r),c=ah(i,n,s,h,o),c=c*60+.5),[c|0,l||0,a]}function Ys(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(Nt)}function Us(e,t,i){return Ys(Ha,e,t,i)}function ch(e,t,i){return Ys(rh,e,t,i)}function lh(e,t,i){return Ys(oh,e,t,i)}function Ya(e){return(e%360+360)%360}function hh(e){const t=sh.exec(e);let i=255,n;if(!t)return;t[5]!==n&&(i=t[6]?Ke(+t[5]):Nt(+t[5]));const s=Ya(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=ch(s,o,r):t[1]==="hsv"?n=lh(s,o,r):n=Us(s,o,r),{r:n[0],g:n[1],b:n[2],a:i}}function uh(e,t){var i=Hs(e);i[0]=Ya(i[0]+t),i=Us(i),e.r=i[0],e.g=i[1],e.b=i[2]}function dh(e){if(!e)return;const t=Hs(e),i=t[0],n=Bo(t[1]),s=Bo(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${s}%, ${It(e.a)})`:`hsl(${i}, ${n}%, ${s}%)`}const Co={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fh(){const e={},t=Object.keys(Mo),i=Object.keys(Co);let n,s,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],s=0;s<i.length;s++)o=i[s],a=a.replace(o,Co[o]);o=parseInt(Mo[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let Pi;function ph(e){Pi||(Pi=fh(),Pi.transparent=[0,0,0,0]);const t=Pi[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const gh=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mh(e){const t=gh.exec(e);let i=255,n,s,o;if(!!t){if(t[7]!==n){const r=+t[7];i=t[8]?Ke(r):Lt(r*255,0,255)}return n=+t[1],s=+t[3],o=+t[5],n=255&(t[2]?Ke(n):Lt(n,0,255)),s=255&(t[4]?Ke(s):Lt(s,0,255)),o=255&(t[6]?Ke(o):Lt(o,0,255)),{r:n,g:s,b:o,a:i}}}function Ah(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${It(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const jn=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,_e=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function bh(e,t,i){const n=_e(It(e.r)),s=_e(It(e.g)),o=_e(It(e.b));return{r:Nt(jn(n+i*(_e(It(t.r))-n))),g:Nt(jn(s+i*(_e(It(t.g))-s))),b:Nt(jn(o+i*(_e(It(t.b))-o))),a:e.a+i*(t.a-e.a)}}function Qi(e,t,i){if(e){let n=Hs(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,t===0?360:1)),n=Us(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Ua(e,t){return e&&Object.assign(t||{},e)}function So(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Nt(e[3]))):(t=Ua(e,{r:0,g:0,b:0,a:1}),t.a=Nt(t.a)),t}function _h(e){return e.charAt(0)==="r"?mh(e):hh(e)}class li{constructor(t){if(t instanceof li)return t;const i=typeof t;let n;i==="object"?n=So(t):i==="string"&&(n=eh(t)||ph(t)||_h(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Ua(this._rgb);return t&&(t.a=It(t.a)),t}set rgb(t){this._rgb=So(t)}rgbString(){return this._valid?Ah(this._rgb):void 0}hexString(){return this._valid?nh(this._rgb):void 0}hslString(){return this._valid?dh(this._rgb):void 0}mix(t,i){if(t){const n=this.rgb,s=t.rgb;let o;const r=i===o?.5:i,a=2*r-1,c=n.a-s.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,n.r=255&l*n.r+o*s.r+.5,n.g=255&l*n.g+o*s.g+.5,n.b=255&l*n.b+o*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(t,i){return t&&(this._rgb=bh(this._rgb,t._rgb,i)),this}clone(){return new li(this.rgb)}alpha(t){return this._rgb.a=Nt(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=Bi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qi(this._rgb,2,t),this}darken(t){return Qi(this._rgb,2,-t),this}saturate(t){return Qi(this._rgb,1,t),this}desaturate(t){return Qi(this._rgb,1,-t),this}rotate(t){return uh(this._rgb,t),this}}const xh=(()=>{let e=0;return()=>e++})();function F(e){return e==null}function N(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function R(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function V(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ut(e,t){return V(e)?e:t}function O(e,t){return typeof e=="undefined"?t:e}const yh=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ja=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function L(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function tt(e,t,i,n){let s,o,r;if(N(e))if(o=e.length,n)for(s=o-1;s>=0;s--)t.call(i,e[s],s);else for(s=0;s<o;s++)t.call(i,e[s],s);else if(R(e))for(r=Object.keys(e),o=r.length,s=0;s<o;s++)t.call(i,e[r[s]],r[s])}function Io(e,t){let i,n,s,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(s=e[i],o=t[i],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function ln(e){if(N(e))return e.map(ln);if(R(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let s=0;for(;s<n;++s)t[i[s]]=ln(e[i[s]]);return t}return e}function Va(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function vh(e,t,i,n){if(!Va(e))return;const s=t[e],o=i[e];R(s)&&R(o)?hi(s,o,n):t[e]=ln(o)}function hi(e,t,i){const n=N(t)?t:[t],s=n.length;if(!R(e))return e;i=i||{};const o=i.merger||vh;let r;for(let a=0;a<s;++a){if(r=n[a],!R(r))continue;const c=Object.keys(r);for(let l=0,h=c.length;l<h;++l)o(c[l],e,r,i)}return e}function ti(e,t){return hi(e,t,{merger:wh})}function wh(e,t,i){if(!Va(e))return;const n=t[e],s=i[e];R(n)&&R(s)?ti(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ln(s))}const Do={"":e=>e,x:e=>e.x,y:e=>e.y};function Eh(e){const t=e.split("."),i=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function kh(e){const t=Eh(e);return i=>{for(const n of t){if(n==="")break;i=i&&i[n]}return i}}function Se(e,t){return(Do[t]||(Do[t]=kh(t)))(e)}function js(e){return e.charAt(0).toUpperCase()+e.slice(1)}const hn=e=>typeof e!="undefined",Yt=e=>typeof e=="function",Ro=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function Bh(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const z=Math.PI,W=2*z,Ch=W+z,un=Number.POSITIVE_INFINITY,Mh=z/180,ot=z/2,Jt=z/4,Oo=z*2/3,$t=Math.log10,Ie=Math.sign;function ei(e,t,i){return Math.abs(e-t)<i}function To(e){const t=Math.round(e);e=ei(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor($t(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function Sh(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(i|0)&&t.push(i),t.sort((s,o)=>s-o).pop(),t}function ui(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ih(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function Ga(e,t,i){let n,s,o;for(n=0,s=e.length;n<s;n++)o=e[n][i],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function yt(e){return e*(z/180)}function Vs(e){return e*(180/z)}function Fo(e){if(!V(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function Dh(e,t){const i=t.x-e.x,n=t.y-e.y,s=Math.sqrt(i*i+n*n);let o=Math.atan2(n,i);return o<-.5*z&&(o+=W),{angle:o,distance:s}}function Po(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Rh(e,t){return(e-t+Ch)%W-z}function xt(e){return(e%W+W)%W}function dn(e,t,i,n){const s=xt(e),o=xt(t),r=xt(i),a=xt(o-s),c=xt(r-s),l=xt(s-o),h=xt(s-r);return s===o||s===r||n&&o===r||a>c&&l<h}function kt(e,t,i){return Math.max(t,Math.min(i,e))}function Oh(e){return kt(e,-32768,32767)}function Th(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function Gs(e,t,i){i=i||(r=>e[r]<t);let n=e.length-1,s=0,o;for(;n-s>1;)o=s+n>>1,i(o)?s=o:n=o;return{lo:s,hi:n}}const se=(e,t,i,n)=>Gs(e,i,n?s=>{const o=e[s][t];return o<i||o===i&&e[s+1][t]===i}:s=>e[s][t]<i),Fh=(e,t,i)=>Gs(e,i,n=>e[n][t]>=i);function Ph(e,t,i){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>i;)s--;return n>0||s<e.length?e.slice(n,s):e}const Wa=["push","pop","shift","splice","unshift"];function Qh(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Wa.forEach(i=>{const n="_onData"+js(i),s=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function Qo(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(Wa.forEach(o=>{delete e[o]}),delete e._chartjs)}function Lh(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ka=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function Ja(e,t){let i=[],n=!1;return function(...s){i=s,n||(n=!0,Ka.call(window,()=>{n=!1,e.apply(t,i)}))}}function $h(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}const Nh=e=>e==="start"?"left":e==="end"?"right":"center",Lo=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2;function zh(e,t,i){const n=t.length;let s=0,o=n;if(e._sorted){const{iScale:r,_parsed:a}=e,c=r.axis,{min:l,max:h,minDefined:u,maxDefined:d}=r.getUserBounds();u&&(s=kt(Math.min(se(a,c,l).lo,i?n:se(t,c,r.getPixelForValue(l)).lo),0,n-1)),d?o=kt(Math.max(se(a,r.axis,h,!0).hi+1,i?0:se(t,c,r.getPixelForValue(h),!0).hi+1),s,n)-s:o=n-s}return{start:s,count:o}}function Hh(e){const{xScale:t,yScale:i,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=s,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),o}const Li=e=>e===0||e===1,$o=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*W/i)),No=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*W/i)+1,ii={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ot)+1,easeOutSine:e=>Math.sin(e*ot),easeInOutSine:e=>-.5*(Math.cos(z*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Li(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Li(e)?e:$o(e,.075,.3),easeOutElastic:e=>Li(e)?e:No(e,.075,.3),easeInOutElastic(e){return Li(e)?e:e<.5?.5*$o(e*2,.1125,.45):.5+.5*No(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ii.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ii.easeInBounce(e*2)*.5:ii.easeOutBounce(e*2-1)*.5+.5};function Ws(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function zo(e){return Ws(e)?e:new li(e)}function Vn(e){return Ws(e)?e:new li(e).saturate(.5).darken(.1).hexString()}const Yh=["x","y","borderWidth","radius","tension"],Uh=["color","borderColor","backgroundColor"];function jh(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Uh},numbers:{type:"number",properties:Yh}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Vh(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ho=new Map;function Gh(e,t){t=t||{};const i=e+JSON.stringify(t);let n=Ho.get(i);return n||(n=new Intl.NumberFormat(e,t),Ho.set(i,n)),n}function Ci(e,t,i){return Gh(t,i).format(e)}const qa={values(e){return N(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";const n=this.chart.options.locale;let s,o=e;if(i.length>1){const l=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(l<1e-4||l>1e15)&&(s="scientific"),o=Wh(e,i)}const r=$t(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Ci(e,n,c)},logarithmic(e,t,i){if(e===0)return"0";const n=i[t].significand||e/Math.pow(10,Math.floor($t(e)));return[1,2,3,5,10,15].includes(n)||t>.8*i.length?qa.numeric.call(this,e,t,i):""}};function Wh(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var In={formatters:qa};function Kh(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:In.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const he=Object.create(null),ds=Object.create(null);function ni(e,t){if(!t)return e;const i=t.split(".");for(let n=0,s=i.length;n<s;++n){const o=i[n];e=e[o]||(e[o]=Object.create(null))}return e}function Gn(e,t,i){return typeof t=="string"?hi(ni(e,t),i):hi(ni(e,""),t)}class Jh{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Vn(s.backgroundColor),this.hoverBorderColor=(n,s)=>Vn(s.borderColor),this.hoverColor=(n,s)=>Vn(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return Gn(this,t,i)}get(t){return ni(this,t)}describe(t,i){return Gn(ds,t,i)}override(t,i){return Gn(he,t,i)}route(t,i,n,s){const o=ni(this,t),r=ni(this,n),a="_"+i;Object.defineProperties(o,{[a]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){const c=this[a],l=r[s];return R(c)?Object.assign({},l,c):O(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(i=>i(this))}}var Q=new Jh({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jh,Vh,Kh]);function qh(e){return!e||F(e.size)||F(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function fn(e,t,i,n,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,i.push(s)),o>n&&(n=o),n}function Xh(e,t,i,n){n=n||{};let s=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const a=i.length;let c,l,h,u,d;for(c=0;c<a;c++)if(u=i[c],u!=null&&!N(u))r=fn(e,s,o,r,u);else if(N(u))for(l=0,h=u.length;l<h;l++)d=u[l],d!=null&&!N(d)&&(r=fn(e,s,o,r,d));e.restore();const p=o.length/2;if(p>i.length){for(c=0;c<p;c++)delete s[o[c]];o.splice(0,p)}return r}function qt(e,t,i){const n=e.currentDevicePixelRatio,s=i!==0?Math.max(i/2,.5):0;return Math.round((t-s)*n)/n+s}function Yo(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Zh(e,t,i,n){tu(e,t,i,n,null)}function tu(e,t,i,n,s){let o,r,a,c,l,h,u,d;const p=t.pointStyle,g=t.rotation,m=t.radius;let b=(g||0)*Mh;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(i,n),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:s?e.ellipse(i,n,s/2,m,0,0,W):e.arc(i,n,m,0,W),e.closePath();break;case"triangle":h=s?s/2:m,e.moveTo(i+Math.sin(b)*h,n-Math.cos(b)*m),b+=Oo,e.lineTo(i+Math.sin(b)*h,n-Math.cos(b)*m),b+=Oo,e.lineTo(i+Math.sin(b)*h,n-Math.cos(b)*m),e.closePath();break;case"rectRounded":l=m*.516,c=m-l,r=Math.cos(b+Jt)*c,u=Math.cos(b+Jt)*(s?s/2-l:c),a=Math.sin(b+Jt)*c,d=Math.sin(b+Jt)*(s?s/2-l:c),e.arc(i-u,n-a,l,b-z,b-ot),e.arc(i+d,n-r,l,b-ot,b),e.arc(i+u,n+a,l,b,b+ot),e.arc(i-d,n+r,l,b+ot,b+z),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*m,h=s?s/2:c,e.rect(i-h,n-c,2*h,2*c);break}b+=Jt;case"rectRot":u=Math.cos(b)*(s?s/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,d=Math.sin(b)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+d,n-r),e.lineTo(i+u,n+a),e.lineTo(i-d,n+r),e.closePath();break;case"crossRot":b+=Jt;case"cross":u=Math.cos(b)*(s?s/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,d=Math.sin(b)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+d,n-r),e.lineTo(i-d,n+r);break;case"star":u=Math.cos(b)*(s?s/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,d=Math.sin(b)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+d,n-r),e.lineTo(i-d,n+r),b+=Jt,u=Math.cos(b)*(s?s/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,d=Math.sin(b)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+d,n-r),e.lineTo(i-d,n+r);break;case"line":r=s?s/2:Math.cos(b)*m,a=Math.sin(b)*m,e.moveTo(i-r,n-a),e.lineTo(i+r,n+a);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(b)*(s?s/2:m),n+Math.sin(b)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Rt(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function Xa(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Za(e){e.restore()}function eu(e,t,i,n,s){if(!t)return e.lineTo(i.x,i.y);if(s==="middle"){const o=(t.x+i.x)/2;e.lineTo(o,t.y),e.lineTo(o,i.y)}else s==="after"!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function iu(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function nu(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),F(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function su(e,t,i,n,s){if(s.strikethrough||s.underline){const o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,c=i-o.actualBoundingBoxAscent,l=i+o.actualBoundingBoxDescent,h=s.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,h),e.lineTo(a,h),e.stroke()}}function ou(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function pn(e,t,i,n,s,o={}){const r=N(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let c,l;for(e.save(),e.font=s.string,nu(e,o),c=0;c<r.length;++c)l=r[c],o.backdrop&&ou(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),F(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(l,i,n,o.maxWidth)),e.fillText(l,i,n,o.maxWidth),su(e,i,n,l,o),n+=Number(s.lineHeight);e.restore()}function ru(e,t){const{x:i,y:n,w:s,h:o,radius:r}=t;e.arc(i+r.topLeft,n+r.topLeft,r.topLeft,1.5*z,z,!0),e.lineTo(i,n+o-r.bottomLeft),e.arc(i+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,z,ot,!0),e.lineTo(i+s-r.bottomRight,n+o),e.arc(i+s-r.bottomRight,n+o-r.bottomRight,r.bottomRight,ot,0,!0),e.lineTo(i+s,n+r.topRight),e.arc(i+s-r.topRight,n+r.topRight,r.topRight,0,-ot,!0),e.lineTo(i+r.topLeft,n)}const au=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lu(e,t){const i=(""+e).match(au);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}const hu=e=>+e||0;function tc(e,t){const i={},n=R(t),s=n?Object.keys(t):t,o=R(e)?n?r=>O(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of s)i[r]=hu(o(r));return i}function uu(e){return tc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function du(e){return tc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Tt(e){const t=uu(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function De(e,t){e=e||{},t=t||Q.font;let i=O(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let n=O(e.style,t.style);n&&!(""+n).match(cu)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:O(e.family,t.family),lineHeight:lu(O(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:O(e.weight,t.weight),string:""};return s.string=qh(s),s}function $i(e,t,i,n){let s=!0,o,r,a;for(o=0,r=e.length;o<r;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),i!==void 0&&N(a)&&(a=a[i%a.length],s=!1),a!==void 0))return n&&!s&&(n.cacheable=!1),a}function fu(e,t,i){const{min:n,max:s}=e,o=ja(t,(s-n)/2),r=(a,c)=>i&&a===0?0:a+c;return{min:r(n,-Math.abs(o)),max:r(s,o)}}function ge(e,t){return Object.assign(Object.create(e),t)}function Ks(e,t=[""],i,n,s=()=>e[0]){const o=i||e;typeof n=="undefined"&&(n=sc("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:s,override:a=>Ks([a,...e],t,o,n)};return new Proxy(r,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return ic(a,c,()=>yu(c,t,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return jo(a).includes(c)},ownKeys(a){return jo(a)},set(a,c,l){const h=a._storage||(a._storage=s());return a[c]=h[c]=l,delete a._keys,!0}})}function Re(e,t,i,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:ec(e,n),setContext:o=>Re(e,o,i,n),override:o=>Re(e.override(o),t,i,n)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return ic(o,r,()=>gu(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function ec(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:i,indexable:n,isScriptable:Yt(i)?i:()=>i,isIndexable:Yt(n)?n:()=>n}}const pu=(e,t)=>e?e+js(t):t,Js=(e,t)=>R(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ic(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=i();return e[t]=n,n}function gu(e,t,i){const{_proxy:n,_context:s,_subProxy:o,_descriptors:r}=e;let a=n[t];return Yt(a)&&r.isScriptable(t)&&(a=mu(t,a,e,i)),N(a)&&a.length&&(a=Au(t,a,e,r.isIndexable)),Js(t,a)&&(a=Re(a,s,o&&o[t],r)),a}function mu(e,t,i,n){const{_proxy:s,_context:o,_subProxy:r,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=t(o,r||n);return a.delete(e),Js(e,c)&&(c=qs(s._scopes,s,e,c)),c}function Au(e,t,i,n){const{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=i;if(typeof o.index!="undefined"&&n(e))return t[o.index%t.length];if(R(t[0])){const c=t,l=s._scopes.filter(h=>h!==c);t=[];for(const h of c){const u=qs(l,s,e,h);t.push(Re(u,o,r&&r[e],a))}}return t}function nc(e,t,i){return Yt(e)?e(t,i):e}const bu=(e,t)=>e===!0?t:typeof e=="string"?Se(t,e):void 0;function _u(e,t,i,n,s){for(const o of t){const r=bu(i,o);if(r){e.add(r);const a=nc(r._fallback,i,s);if(typeof a!="undefined"&&a!==i&&a!==n)return a}else if(r===!1&&typeof n!="undefined"&&i!==n)return null}return!1}function qs(e,t,i,n){const s=t._rootScopes,o=nc(t._fallback,i,n),r=[...e,...s],a=new Set;a.add(n);let c=Uo(a,r,i,o||i,n);return c===null||typeof o!="undefined"&&o!==i&&(c=Uo(a,r,o,c,n),c===null)?!1:Ks(Array.from(a),[""],s,o,()=>xu(t,i,n))}function Uo(e,t,i,n,s){for(;i;)i=_u(e,t,i,n,s);return i}function xu(e,t,i){const n=e._getTarget();t in n||(n[t]={});const s=n[t];return N(s)&&R(i)?i:s||{}}function yu(e,t,i,n){let s;for(const o of t)if(s=sc(pu(o,e),i),typeof s!="undefined")return Js(e,s)?qs(i,n,e,s):s}function sc(e,t){for(const i of t){if(!i)continue;const n=i[e];if(typeof n!="undefined")return n}}function jo(e){let t=e._keys;return t||(t=e._keys=vu(e._scopes)),t}function vu(e){const t=new Set;for(const i of e)for(const n of Object.keys(i).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function wu(e,t,i,n){const{iScale:s}=e,{key:o="r"}=this._parsing,r=new Array(n);let a,c,l,h;for(a=0,c=n;a<c;++a)l=a+i,h=t[l],r[a]={r:s.parse(Se(h,o),l)};return r}const Eu=Number.EPSILON||1e-14,Oe=(e,t)=>t<e.length&&!e[t].skip&&e[t],oc=e=>e==="x"?"y":"x";function ku(e,t,i,n){const s=e.skip?t:e,o=t,r=i.skip?t:i,a=Po(o,s),c=Po(r,o);let l=a/(a+c),h=c/(a+c);l=isNaN(l)?0:l,h=isNaN(h)?0:h;const u=n*l,d=n*h;return{previous:{x:o.x-u*(r.x-s.x),y:o.y-u*(r.y-s.y)},next:{x:o.x+d*(r.x-s.x),y:o.y+d*(r.y-s.y)}}}function Bu(e,t,i){const n=e.length;let s,o,r,a,c,l=Oe(e,0);for(let h=0;h<n-1;++h)if(c=l,l=Oe(e,h+1),!(!c||!l)){if(ei(t[h],0,Eu)){i[h]=i[h+1]=0;continue}s=i[h]/t[h],o=i[h+1]/t[h],a=Math.pow(s,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),i[h]=s*r*t[h],i[h+1]=o*r*t[h])}}function Cu(e,t,i="x"){const n=oc(i),s=e.length;let o,r,a,c=Oe(e,0);for(let l=0;l<s;++l){if(r=a,a=c,c=Oe(e,l+1),!a)continue;const h=a[i],u=a[n];r&&(o=(h-r[i])/3,a[`cp1${i}`]=h-o,a[`cp1${n}`]=u-o*t[l]),c&&(o=(c[i]-h)/3,a[`cp2${i}`]=h+o,a[`cp2${n}`]=u+o*t[l])}}function Mu(e,t="x"){const i=oc(t),n=e.length,s=Array(n).fill(0),o=Array(n);let r,a,c,l=Oe(e,0);for(r=0;r<n;++r)if(a=c,c=l,l=Oe(e,r+1),!!c){if(l){const h=l[t]-c[t];s[r]=h!==0?(l[i]-c[i])/h:0}o[r]=a?l?Ie(s[r-1])!==Ie(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}Bu(e,s,o),Cu(e,o,t)}function Ni(e,t,i){return Math.max(Math.min(e,i),t)}function Su(e,t){let i,n,s,o,r,a=Rt(e[0],t);for(i=0,n=e.length;i<n;++i)r=o,o=a,a=i<n-1&&Rt(e[i+1],t),o&&(s=e[i],r&&(s.cp1x=Ni(s.cp1x,t.left,t.right),s.cp1y=Ni(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Ni(s.cp2x,t.left,t.right),s.cp2y=Ni(s.cp2y,t.top,t.bottom)))}function Iu(e,t,i,n,s){let o,r,a,c;if(t.spanGaps&&(e=e.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")Mu(e,s);else{let l=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],c=ku(l,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&Su(e,i)}function Xs(){return typeof window!="undefined"&&typeof document!="undefined"}function Zs(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function gn(e,t,i){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[i])):n=e,n}const Dn=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Du(e,t){return Dn(e).getPropertyValue(t)}const Ru=["top","right","bottom","left"];function oe(e,t,i){const n={};i=i?"-"+i:"";for(let s=0;s<4;s++){const o=Ru[s];n[o]=parseFloat(e[t+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Ou=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function Tu(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:s,offsetY:o}=n;let r=!1,a,c;if(Ou(s,o,e.target))a=s,c=o;else{const l=t.getBoundingClientRect();a=n.clientX-l.left,c=n.clientY-l.top,r=!0}return{x:a,y:c,box:r}}function ee(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,s=Dn(i),o=s.boxSizing==="border-box",r=oe(s,"padding"),a=oe(s,"border","width"),{x:c,y:l,box:h}=Tu(e,i),u=r.left+(h&&a.left),d=r.top+(h&&a.top);let{width:p,height:g}=t;return o&&(p-=r.width+a.width,g-=r.height+a.height),{x:Math.round((c-u)/p*i.width/n),y:Math.round((l-d)/g*i.height/n)}}function Fu(e,t,i){let n,s;if(t===void 0||i===void 0){const o=e&&Zs(e);if(!o)t=e.clientWidth,i=e.clientHeight;else{const r=o.getBoundingClientRect(),a=Dn(o),c=oe(a,"border","width"),l=oe(a,"padding");t=r.width-l.width-c.width,i=r.height-l.height-c.height,n=gn(a.maxWidth,o,"clientWidth"),s=gn(a.maxHeight,o,"clientHeight")}}return{width:t,height:i,maxWidth:n||un,maxHeight:s||un}}const zi=e=>Math.round(e*10)/10;function Pu(e,t,i,n){const s=Dn(e),o=oe(s,"margin"),r=gn(s.maxWidth,e,"clientWidth")||un,a=gn(s.maxHeight,e,"clientHeight")||un,c=Fu(e,t,i);let{width:l,height:h}=c;if(s.boxSizing==="content-box"){const d=oe(s,"border","width"),p=oe(s,"padding");l-=p.width+d.width,h-=p.height+d.height}return l=Math.max(0,l-o.width),h=Math.max(0,n?l/n:h-o.height),l=zi(Math.min(l,r,c.maxWidth)),h=zi(Math.min(h,a,c.maxHeight)),l&&!h&&(h=zi(l/2)),(t!==void 0||i!==void 0)&&n&&c.height&&h>c.height&&(h=c.height,l=zi(Math.floor(h*n))),{width:l,height:h}}function Vo(e,t,i){const n=t||1,s=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||r.height!==s||r.width!==o?(e.currentDevicePixelRatio=n,r.height=s,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Qu=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Xs()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Go(e,t){const i=Du(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ie(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function Lu(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:n==="middle"?i<.5?e.y:t.y:n==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function $u(e,t,i,n){const s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=ie(e,s,i),a=ie(s,o,i),c=ie(o,t,i),l=ie(r,a,i),h=ie(a,c,i);return ie(l,h,i)}function rc(e){return e==="angle"?{between:dn,compare:Rh,normalize:xt}:{between:Th,compare:(t,i)=>t-i,normalize:t=>t}}function Wo({start:e,end:t,count:i,loop:n,style:s}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i===0,style:s}}function Nu(e,t,i){const{property:n,start:s,end:o}=i,{between:r,normalize:a}=rc(n),c=t.length;let{start:l,end:h,loop:u}=e,d,p;if(u){for(l+=c,h+=c,d=0,p=c;d<p&&r(a(t[l%c][n]),s,o);++d)l--,h--;l%=c,h%=c}return h<l&&(h+=c),{start:l,end:h,loop:u,style:e.style}}function zu(e,t,i){if(!i)return[e];const{property:n,start:s,end:o}=i,r=t.length,{compare:a,between:c,normalize:l}=rc(n),{start:h,end:u,loop:d,style:p}=Nu(e,t,i),g=[];let m=!1,b=null,w,v,E;const M=()=>c(s,E,w)&&a(s,E)!==0,A=()=>a(o,w)===0||c(o,E,w),_=()=>m||M(),x=()=>!m||A();for(let y=h,I=h;y<=u;++y)v=t[y%r],!v.skip&&(w=l(v[n]),w!==E&&(m=c(w,s,o),b===null&&_()&&(b=a(w,s)===0?y:I),b!==null&&x()&&(g.push(Wo({start:b,end:y,loop:d,count:r,style:p})),b=null),I=y,E=w));return b!==null&&g.push(Wo({start:b,end:u,loop:d,count:r,style:p})),g}function Hu(e,t){const i=[],n=e.segments;for(let s=0;s<n.length;s++){const o=zu(n[s],e.points,t);o.length&&i.push(...o)}return i}function Yu(e,t,i,n){let s=0,o=t-1;if(i&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,i&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}function Uu(e,t,i,n){const s=e.length,o=[];let r=t,a=e[t],c;for(c=t+1;c<=i;++c){const l=e[c%s];l.skip||l.stop?a.skip||(n=!1,o.push({start:t%s,end:(c-1)%s,loop:n}),t=r=l.stop?c:null):(r=c,a.skip&&(t=c)),a=l}return r!==null&&o.push({start:t%s,end:r%s,loop:n}),o}function ju(e,t){const i=e.points,n=e.options.spanGaps,s=i.length;if(!s)return[];const o=!!e._loop,{start:r,end:a}=Yu(i,s,o,n);if(n===!0)return Ko(e,[{start:r,end:a,loop:o}],i,t);const c=a<r?a+s:a,l=!!e._fullLoop&&r===0&&a===s-1;return Ko(e,Uu(i,r,c,l),i,t)}function Ko(e,t,i,n){return!n||!n.setContext||!i?t:Vu(e,t,i,n)}function Vu(e,t,i,n){const s=e._chart.getContext(),o=Jo(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,c=i.length,l=[];let h=o,u=t[0].start,d=u;function p(g,m,b,w){const v=a?-1:1;if(g!==m){for(g+=c;i[g%c].skip;)g-=v;for(;i[m%c].skip;)m+=v;g%c!==m%c&&(l.push({start:g%c,end:m%c,loop:b,style:w}),h=w,u=m%c)}}for(const g of t){u=a?u:g.start;let m=i[u%c],b;for(d=u+1;d<=g.end;d++){const w=i[d%c];b=Jo(n.setContext(ge(s,{type:"segment",p0:m,p1:w,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:r}))),Gu(b,h)&&p(u,d-1,g.loop,h),m=w,h=b}u<d-1&&p(u,d-1,g.loop,h)}return l}function Jo(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Gu(e,t){if(!t)return!1;const i=[],n=function(s,o){return Ws(o)?(i.includes(o)||i.push(o),i.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}class Wu{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,n,s){const o=i.listeners[s],r=i.duration;o.forEach(a=>a({chart:t,initial:i.initial,numSteps:r,currentStep:Math.min(n-i.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Ka.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,c;for(;r>=0;--r)c=o[r],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(s.draw(),this._notify(s,n,t,"progress")),o.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),i+=o.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let n=i.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,n)),n}listen(t,i,n){this._getAnims(t).listeners[i].push(n)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);!i||(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const n=i.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var St=new Wu;const qo="transparent",Ku={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const n=zo(e||qo),s=n.valid&&zo(t||qo);return s&&s.valid?s.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class Ju{constructor(t,i,n,s){const o=i[n];s=$i([t.to,s,o,t.from]);const r=$i([t.from,o,s]);this._active=!0,this._fn=t.fn||Ku[t.type||typeof r],this._easing=ii[t.easing]||ii.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=n,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(t,i,n){if(this._active){this._notify(!1);const s=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=$i([t.to,i,s,t.from]),this._from=$i([t.from,s,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,n=this._duration,s=this._prop,o=this._from,r=this._loop,a=this._to;let c;if(this._active=o!==a&&(r||i<n),!this._active){this._target[s]=a,this._notify(!0);return}if(i<0){this._target[s]=o;return}c=i/n%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,n)=>{t.push({res:i,rej:n})})}_notify(t){const i=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][i]()}}class qu{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!R(t))return;const i=Object.keys(Q.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!R(o))return;const r={};for(const a of i)r[a]=o[a];(N(o.properties)&&o.properties||[s]).forEach(a=>{(a===s||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,i){const n=i.options,s=Zu(t,n);if(!s)return[];const o=this._createAnimations(s,n);return n.$shared&&Xu(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,i){const n=this._properties,s=[],o=t.$animations||(t.$animations={}),r=Object.keys(i),a=Date.now();let c;for(c=r.length-1;c>=0;--c){const l=r[c];if(l.charAt(0)==="$")continue;if(l==="options"){s.push(...this._animateOptions(t,i));continue}const h=i[l];let u=o[l];const d=n.get(l);if(u)if(d&&u.active()){u.update(d,h,a);continue}else u.cancel();if(!d||!d.duration){t[l]=h;continue}o[l]=u=new Ju(d,t,l,h),s.push(u)}return s}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const n=this._createAnimations(t,i);if(n.length)return St.add(this._chart,n),!0}}function Xu(e,t){const i=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const o=e[n[s]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function Zu(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Xo(e,t){const i=e&&e.options||{},n=i.reverse,s=i.min===void 0?t:0,o=i.max===void 0?t:0;return{start:n?o:s,end:n?s:o}}function td(e,t,i){if(i===!1)return!1;const n=Xo(e,i),s=Xo(t,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function ed(e){let t,i,n,s;return R(e)?(t=e.top,i=e.right,n=e.bottom,s=e.left):t=i=n=s=e,{top:t,right:i,bottom:n,left:s,disabled:e===!1}}function ac(e,t){const i=[],n=e._getSortedDatasetMetas(t);let s,o;for(s=0,o=n.length;s<o;++s)i.push(n[s].index);return i}function Zo(e,t,i,n={}){const s=e.keys,o=n.mode==="single";let r,a,c,l;if(t===null)return;let h=!1;for(r=0,a=s.length;r<a;++r){if(c=+s[r],c===i){if(h=!0,n.all)continue;break}l=e.values[c],V(l)&&(o||t===0||Ie(t)===Ie(l))&&(t+=l)}return!h&&!n.all?0:t}function id(e,t){const{iScale:i,vScale:n}=t,s=i.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let c,l,h;for(c=0,l=r.length;c<l;++c)h=r[c],a[c]={[s]:h,[o]:e[h]};return a}function Wn(e,t){const i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function nd(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function sd(e){const{min:t,max:i,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}function od(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function tr(e,t,i,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const o=e[s.index];if(i&&o>0||!i&&o<0)return s.index}return null}function er(e,t){const{chart:i,_cachedMeta:n}=e,s=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:a}=n,c=o.axis,l=r.axis,h=nd(o,r,n),u=t.length;let d;for(let p=0;p<u;++p){const g=t[p],{[c]:m,[l]:b}=g,w=g._stacks||(g._stacks={});d=w[l]=od(s,h,m),d[a]=b,d._top=tr(d,r,!0,n.type),d._bottom=tr(d,r,!1,n.type);const v=d._visualValues||(d._visualValues={});v[a]=b}}function Kn(e,t){const i=e.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function rd(e,t){return ge(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ad(e,t,i){return ge(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function He(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(!!n){t=t||e._parsed;for(const s of t){const o=s._stacks;if(!o||o[n]===void 0||o[n][i]===void 0)return;delete o[n][i],o[n]._visualValues!==void 0&&o[n]._visualValues[i]!==void 0&&delete o[n]._visualValues[i]}}}const Jn=e=>e==="reset"||e==="none",ir=(e,t)=>t?e:Object.assign({},e),cd=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:ac(i,!0),values:null};class re{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Wn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&He(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,n=this.getDataset(),s=(u,d,p,g)=>u==="x"?d:u==="r"?g:p,o=i.xAxisID=O(n.xAxisID,Kn(t,"x")),r=i.yAxisID=O(n.yAxisID,Kn(t,"y")),a=i.rAxisID=O(n.rAxisID,Kn(t,"r")),c=i.indexAxis,l=i.iAxisID=s(c,o,r,a),h=i.vAxisID=s(c,r,o,a);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(r),i.rScale=this.getScaleForId(a),i.iScale=this.getScaleForId(l),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Qo(this._data,this),t._stacked&&He(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(R(i)){const s=this._cachedMeta;this._data=id(i,s)}else if(n!==i){if(n){Qo(n,this);const s=this._cachedMeta;He(s),s._parsed=[]}i&&Object.isExtensible(i)&&Qh(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const o=i._stacked;i._stacked=Wn(i.vScale,i),i.stack!==n.stack&&(s=!0,He(i),i.stack=n.stack),this._resyncElements(t),(s||o!==i._stacked)&&(er(this,i._parsed),i._stacked=Wn(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:n,_data:s}=this,{iScale:o,_stacked:r}=n,a=o.axis;let c=t===0&&i===s.length?!0:n._sorted,l=t>0&&n._parsed[t-1],h,u,d;if(this._parsing===!1)n._parsed=s,n._sorted=!0,d=s;else{N(s[t])?d=this.parseArrayData(n,s,t,i):R(s[t])?d=this.parseObjectData(n,s,t,i):d=this.parsePrimitiveData(n,s,t,i);const p=()=>u[a]===null||l&&u[a]<l[a];for(h=0;h<i;++h)n._parsed[h+t]=u=d[h],c&&(p()&&(c=!1),l=u);n._sorted=c}r&&er(this,d)}parsePrimitiveData(t,i,n,s){const{iScale:o,vScale:r}=t,a=o.axis,c=r.axis,l=o.getLabels(),h=o===r,u=new Array(s);let d,p,g;for(d=0,p=s;d<p;++d)g=d+n,u[d]={[a]:h||o.parse(l[g],g),[c]:r.parse(i[g],g)};return u}parseArrayData(t,i,n,s){const{xScale:o,yScale:r}=t,a=new Array(s);let c,l,h,u;for(c=0,l=s;c<l;++c)h=c+n,u=i[h],a[c]={x:o.parse(u[0],h),y:r.parse(u[1],h)};return a}parseObjectData(t,i,n,s){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=new Array(s);let h,u,d,p;for(h=0,u=s;h<u;++h)d=h+n,p=i[d],l[h]={x:o.parse(Se(p,a),d),y:r.parse(Se(p,c),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){const s=this.chart,o=this._cachedMeta,r=i[t.axis],a={keys:ac(s,!0),values:i._stacks[t.axis]._visualValues};return Zo(a,r,o.index,{mode:n})}updateRangeFromParsed(t,i,n,s){const o=n[i.axis];let r=o===null?NaN:o;const a=s&&n._stacks[i.axis];s&&a&&(s.values=a,r=Zo(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,i){const n=this._cachedMeta,s=n._parsed,o=n._sorted&&t===n.iScale,r=s.length,a=this._getOtherScale(t),c=cd(i,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=sd(a);let d,p;function g(){p=s[d];const m=p[a.axis];return!V(p[t.axis])||h>m||u<m}for(d=0;d<r&&!(!g()&&(this.updateRangeFromParsed(l,t,p,c),o));++d);if(o){for(d=r-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(l,t,p,c);break}}return l}getAllParsedValues(t){const i=this._cachedMeta._parsed,n=[];let s,o,r;for(s=0,o=i.length;s<o;++s)r=i[s][t.axis],V(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,n=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=ed(O(this.options.clip,td(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,n=this._cachedMeta,s=n.data||[],o=i.chartArea,r=[],a=this._drawStart||0,c=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(t,o,a,c),h=a;h<a+c;++h){const u=s[h];u.hidden||(u.active&&l?r.push(u):u.draw(t,o))}for(h=0;h<r.length;++h)r[h].draw(t,o)}getStyle(t,i){const n=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=ad(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=rd(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){const s=i==="active",o=this._cachedDataOpts,r=t+"-"+i,a=o[r],c=this.enableOptionSharing&&hn(n);if(a)return ir(a,c);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),u=s?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),h),p=Object.keys(Q.elements[t]),g=()=>this.getContext(n,s,i),m=l.resolveNamedOptions(d,p,g,u);return m.$shared&&(m.$shared=c,o[r]=Object.freeze(ir(m,c))),m}_resolveAnimations(t,i,n){const s=this.chart,o=this._cachedDataOpts,r=`animation-${i}`,a=o[r];if(a)return a;let c;if(s.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,i),d=h.getOptionScopes(this.getDataset(),u);c=h.createResolver(d,this.getContext(t,n,i))}const l=new qu(s,c&&c.animations);return c&&c._cacheable&&(o[r]=Object.freeze(l)),l}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Jn(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const n=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,n),{sharedOptions:o,includeOptions:r}}updateElement(t,i,n,s){Jn(s)?Object.assign(t,n):this._resolveAnimations(i,s).update(t,n)}updateSharedOptions(t,i,n){t&&!Jn(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,s){t.active=s;const o=this.getStyle(i,s);this._resolveAnimations(i,n,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,n=this._cachedMeta.data;for(const[a,c,l]of this._syncList)this[a](c,l);this._syncList=[];const s=n.length,o=i.length,r=Math.min(o,s);r&&this.parse(0,r),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,n=!0){const s=this._cachedMeta,o=s.data,r=t+i;let a;const c=l=>{for(l.length+=i,a=l.length-1;a>=r;a--)l[a]=l[a-i]};for(c(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,i),n&&this.updateElements(o,t,i,"reset")}updateElements(t,i,n,s){}_removeElements(t,i){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,i);n._stacked&&He(n,s)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,n,s]=t;this[i](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(re,"defaults",{}),B(re,"datasetElementType",null),B(re,"dataElementType",null);function ld(e,t,i){let n=1,s=1,o=0,r=0;if(t<W){const a=e,c=a+t,l=Math.cos(a),h=Math.sin(a),u=Math.cos(c),d=Math.sin(c),p=(E,M,A)=>dn(E,a,c,!0)?1:Math.max(M,M*i,A,A*i),g=(E,M,A)=>dn(E,a,c,!0)?-1:Math.min(M,M*i,A,A*i),m=p(0,l,u),b=p(ot,h,d),w=g(z,l,u),v=g(z+ot,h,d);n=(m-w)/2,s=(b-v)/2,o=-(m+w)/2,r=-(b+v)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:r}}class Je extends re{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let o=c=>+n[c];if(R(n[t])){const{key:c="value"}=this._parsing;o=l=>+Se(n[l],c)}let r,a;for(r=t,a=t+i;r<a;++r)s._parsed[r]=o(r)}}_getRotation(){return yt(this.options.rotation-90)}_getCircumference(){return yt(this.options.circumference)}_getRotationExtents(){let t=W,i=-W;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,o=s._getRotation(),r=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+r)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:n}=i,s=this._cachedMeta,o=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),c=Math.min(yh(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:g,offsetY:m}=ld(u,h,c),b=(n.width-r)/d,w=(n.height-r)/p,v=Math.max(Math.min(b,w)/2,0),E=ja(this.options.radius,v),M=Math.max(E*c,0),A=(E-M)/this._getVisibleDatasetWeightTotal();this.offsetX=g*E,this.offsetY=m*E,s.total=this.calculateTotal(),this.outerRadius=E-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*l,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){const n=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/W)}updateElements(t,i,n,s){const o=s==="reset",r=this.chart,a=r.chartArea,l=r.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=o&&l.animateScale,p=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(i,s);let w=this._getRotation(),v;for(v=0;v<i;++v)w+=this._circumference(v,o);for(v=i;v<i+n;++v){const E=this._circumference(v,o),M=t[v],A={x:h+this.offsetX,y:u+this.offsetY,startAngle:w,endAngle:w+E,circumference:E,outerRadius:g,innerRadius:p};b&&(A.options=m||this.resolveDataElementOptions(v,M.active?"active":s)),w+=E,this.updateElement(M,v,A,s)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let n=0,s;for(s=0;s<i.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?W*(Math.abs(t)/i):0}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=Ci(i._parsed[t],n.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0;const n=this.chart;let s,o,r,a,c;if(!t){for(s=0,o=n.data.datasets.length;s<o;++s)if(n.isDatasetVisible(s)){r=n.getDatasetMeta(s),t=r.data,a=r.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)c=a.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let n=0,s=t.length;n<s;++n){const o=this.resolveDataElementOptions(n);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(t){return Math.max(O(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(Je,"id","doughnut"),B(Je,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(Je,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),B(Je,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return i.labels.map((o,r)=>{const c=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}});class Zi extends re{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:n,data:s=[],_dataset:o}=i,r=this.chart._animationsDisabled;let{start:a,count:c}=zh(i,s,r);this._drawStart=a,this._drawCount=c,Hh(i)&&(a=0,c=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:l},t),this.updateElements(s,a,c,t)}updateElements(t,i,n,s){const o=s==="reset",{iScale:r,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(i,s),d=r.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,b=ui(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||s==="none",v=i+n,E=t.length;let M=i>0&&this.getParsed(i-1);for(let A=0;A<E;++A){const _=t[A],x=w?_:{};if(A<i||A>=v){x.skip=!0;continue}const y=this.getParsed(A),I=F(y[p]),D=x[d]=r.getPixelForValue(y[d],A),T=x[p]=o||I?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,y,c):y[p],A);x.skip=isNaN(D)||isNaN(T)||I,x.stop=A>0&&Math.abs(y[d]-M[d])>b,m&&(x.parsed=y,x.raw=l.data[A]),u&&(x.options=h||this.resolveDataElementOptions(A,_.active?"active":s)),w||this.updateElement(_,A,x,s),M=y}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,n=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return n;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}B(Zi,"id","line"),B(Zi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(Zi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class tn extends re{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=Ci(i._parsed[t].r,n.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,n,s){return wu.bind(this)(t,i,n,s)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,n=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,i,n,s){const o=s==="reset",r=this.chart,c=r.options.animation,l=this._cachedMeta.rScale,h=l.xCenter,u=l.yCenter,d=l.getIndexAngle(0)-.5*z;let p=d,g;const m=360/this.countVisibleElements();for(g=0;g<i;++g)p+=this._computeAngle(g,s,m);for(g=i;g<i+n;g++){const b=t[g];let w=p,v=p+this._computeAngle(g,s,m),E=r.getDataVisibility(g)?l.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=v,o&&(c.animateScale&&(E=0),c.animateRotate&&(w=v=d));const M={x:h,y:u,innerRadius:0,outerRadius:E,startAngle:w,endAngle:v,options:this.resolveDataElementOptions(g,b.active?"active":s)};this.updateElement(b,g,M,s)}}countVisibleElements(){const t=this._cachedMeta;let i=0;return t.data.forEach((n,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,n){return this.chart.getDataVisibility(t)?yt(this.resolveDataElementOptions(t,i).angle||n):0}}B(tn,"id","polarArea"),B(tn,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),B(tn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return i.labels.map((o,r)=>{const c=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});function Xt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class to{constructor(t){B(this,"options");this.options=t||{}}static override(t){Object.assign(to.prototype,t)}init(){}formats(){return Xt()}parse(){return Xt()}format(){return Xt()}add(){return Xt()}diff(){return Xt()}startOf(){return Xt()}endOf(){return Xt()}}var hd={_date:to};function ud(e,t,i,n){const{controller:s,data:o,_sorted:r}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?Fh:se;if(n){if(s._sharedOptions){const l=o[0],h=typeof l.getRange=="function"&&l.getRange(t);if(h){const u=c(o,t,i-h),d=c(o,t,i+h);return{lo:u.lo,hi:d.hi}}}}else return c(o,t,i)}return{lo:0,hi:o.length-1}}function Mi(e,t,i,n,s){const o=e.getSortedVisibleDatasetMetas(),r=i[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:h}=o[a],{lo:u,hi:d}=ud(o[a],t,r,s);for(let p=u;p<=d;++p){const g=h[p];g.skip||n(g,l,p)}}}function dd(e){const t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(n,s){const o=t?Math.abs(n.x-s.x):0,r=i?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function qn(e,t,i,n,s){const o=[];return!s&&!e.isPointInArea(t)||Mi(e,i,t,function(a,c,l){!s&&!Rt(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function fd(e,t,i,n){let s=[];function o(r,a,c){const{startAngle:l,endAngle:h}=r.getProps(["startAngle","endAngle"],n),{angle:u}=Dh(r,{x:t.x,y:t.y});dn(u,l,h)&&s.push({element:r,datasetIndex:a,index:c})}return Mi(e,i,t,o),s}function pd(e,t,i,n,s,o){let r=[];const a=dd(i);let c=Number.POSITIVE_INFINITY;function l(h,u,d){const p=h.inRange(t.x,t.y,s);if(n&&!p)return;const g=h.getCenterPoint(s);if(!(!!o||e.isPointInArea(g))&&!p)return;const b=a(t,g);b<c?(r=[{element:h,datasetIndex:u,index:d}],c=b):b===c&&r.push({element:h,datasetIndex:u,index:d})}return Mi(e,i,t,l),r}function Xn(e,t,i,n,s,o){return!o&&!e.isPointInArea(t)?[]:i==="r"&&!n?fd(e,t,i,s):pd(e,t,i,n,s,o)}function nr(e,t,i,n,s){const o=[],r=i==="x"?"inXRange":"inYRange";let a=!1;return Mi(e,i,t,(c,l,h)=>{c[r]&&c[r](t[i],s)&&(o.push({element:c,datasetIndex:l,index:h}),a=a||c.inRange(t.x,t.y,s))}),n&&!a?[]:o}var gd={evaluateInteractionItems:Mi,modes:{index(e,t,i,n){const s=ee(t,e),o=i.axis||"x",r=i.includeInvisible||!1,a=i.intersect?qn(e,s,o,n,r):Xn(e,s,o,!1,n,r),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{const h=a[0].index,u=l.data[h];u&&!u.skip&&c.push({element:u,datasetIndex:l.index,index:h})}),c):[]},dataset(e,t,i,n){const s=ee(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;let a=i.intersect?qn(e,s,o,n,r):Xn(e,s,o,!1,n,r);if(a.length>0){const c=a[0].datasetIndex,l=e.getDatasetMeta(c).data;a=[];for(let h=0;h<l.length;++h)a.push({element:l[h],datasetIndex:c,index:h})}return a},point(e,t,i,n){const s=ee(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;return qn(e,s,o,n,r)},nearest(e,t,i,n){const s=ee(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;return Xn(e,s,o,i.intersect,n,r)},x(e,t,i,n){const s=ee(t,e);return nr(e,s,"x",i.intersect,n)},y(e,t,i,n){const s=ee(t,e);return nr(e,s,"y",i.intersect,n)}}};const cc=["left","top","right","bottom"];function Ye(e,t){return e.filter(i=>i.pos===t)}function sr(e,t){return e.filter(i=>cc.indexOf(i.pos)===-1&&i.box.axis===t)}function Ue(e,t){return e.sort((i,n)=>{const s=t?n:i,o=t?i:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function md(e){const t=[];let i,n,s,o,r,a;for(i=0,n=(e||[]).length;i<n;++i)s=e[i],{position:o,options:{stack:r,stackWeight:a=1}}=s,t.push({index:i,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return t}function Ad(e){const t={};for(const i of e){const{stack:n,pos:s,stackWeight:o}=i;if(!n||!cc.includes(s))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function bd(e,t){const i=Ad(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:c}=a.box,l=i[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*n:c&&t.availableWidth,a.height=s):(a.width=n,a.height=h?h*s:c&&t.availableHeight)}return i}function _d(e){const t=md(e),i=Ue(t.filter(l=>l.box.fullSize),!0),n=Ue(Ye(t,"left"),!0),s=Ue(Ye(t,"right")),o=Ue(Ye(t,"top"),!0),r=Ue(Ye(t,"bottom")),a=sr(t,"x"),c=sr(t,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:s.concat(c).concat(r).concat(a),chartArea:Ye(t,"chartArea"),vertical:n.concat(s).concat(c),horizontal:o.concat(r).concat(a)}}function or(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function lc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xd(e,t,i,n){const{pos:s,box:o}=i,r=e.maxPadding;if(!R(s)){i.size&&(e[s]-=i.size);const u=n[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?o.height:o.width),i.size=u.size/u.count,e[s]+=i.size}o.getPadding&&lc(r,o.getPadding());const a=Math.max(0,t.outerWidth-or(r,e,"left","right")),c=Math.max(0,t.outerHeight-or(r,e,"top","bottom")),l=a!==e.w,h=c!==e.h;return e.w=a,e.h=c,i.horizontal?{same:l,other:h}:{same:h,other:l}}function yd(e){const t=e.maxPadding;function i(n){const s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function vd(e,t){const i=t.maxPadding;function n(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(t[r],i[r])}),o}return n(e?["left","right"]:["top","bottom"])}function qe(e,t,i,n){const s=[];let o,r,a,c,l,h;for(o=0,r=e.length,l=0;o<r;++o){a=e[o],c=a.box,c.update(a.width||t.w,a.height||t.h,vd(a.horizontal,t));const{same:u,other:d}=xd(t,i,a,n);l|=u&&s.length,h=h||d,c.fullSize||s.push(a)}return l&&qe(s,t,i,n)||h}function Hi(e,t,i,n,s){e.top=i,e.left=t,e.right=t+n,e.bottom=i+s,e.width=n,e.height=s}function rr(e,t,i,n){const s=i.padding;let{x:o,y:r}=t;for(const a of e){const c=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const u=t.w*h,d=l.size||c.height;hn(l.start)&&(r=l.start),c.fullSize?Hi(c,s.left,r,i.outerWidth-s.right-s.left,d):Hi(c,t.left+l.placed,r,u,d),l.start=r,l.placed+=u,r=c.bottom}else{const u=t.h*h,d=l.size||c.width;hn(l.start)&&(o=l.start),c.fullSize?Hi(c,o,s.top,d,i.outerHeight-s.bottom-s.top):Hi(c,o,t.top+l.placed,d,u),l.start=o,l.placed+=u,o=c.right}}t.x=o,t.y=r}var Yi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const s=Tt(e.options.layout.padding),o=Math.max(t-s.width,0),r=Math.max(i-s.height,0),a=_d(e.boxes),c=a.vertical,l=a.horizontal;tt(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const h=c.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:i,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/h,hBoxMaxHeight:r/2}),d=Object.assign({},s);lc(d,Tt(n));const p=Object.assign({maxPadding:d,w:o,h:r,x:s.left,y:s.top},s),g=bd(c.concat(l),u);qe(a.fullSize,p,u,g),qe(c,p,u,g),qe(l,p,u,g)&&qe(c,p,u,g),yd(p),rr(a.leftAndTop,p,u,g),p.x+=p.w,p.y+=p.h,rr(a.rightAndBottom,p,u,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},tt(a.chartArea,m=>{const b=m.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class hc{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,n){}removeEventListener(t,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,n,s){return i=Math.max(0,i||t.width),n=n||t.height,{width:i,height:Math.max(0,s?Math.floor(i/s):n)}}isAttached(t){return!0}updateConfig(t){}}class wd extends hc{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const en="$chartjs",Ed={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ar=e=>e===null||e==="";function kd(e,t){const i=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[en]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ar(s)){const o=Go(e,"width");o!==void 0&&(e.width=o)}if(ar(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Go(e,"height");o!==void 0&&(e.height=o)}return e}const uc=Qu?{passive:!0}:!1;function Bd(e,t,i){e&&e.addEventListener(t,i,uc)}function Cd(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,uc)}function Md(e,t){const i=Ed[e.type]||e.type,{x:n,y:s}=ee(e,t);return{type:i,chart:t,native:e,x:n!==void 0?n:null,y:s!==void 0?s:null}}function mn(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function Sd(e,t,i){const n=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||mn(a.addedNodes,n),r=r&&!mn(a.removedNodes,n);r&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}function Id(e,t,i){const n=e.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||mn(a.removedNodes,n),r=r&&!mn(a.addedNodes,n);r&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}const di=new Map;let cr=0;function dc(){const e=window.devicePixelRatio;e!==cr&&(cr=e,di.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function Dd(e,t){di.size||window.addEventListener("resize",dc),di.set(e,t)}function Rd(e){di.delete(e),di.size||window.removeEventListener("resize",dc)}function Od(e,t,i){const n=e.canvas,s=n&&Zs(n);if(!s)return;const o=Ja((a,c)=>{const l=s.clientWidth;i(a,c),l<s.clientWidth&&i()},window),r=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,h=c.contentRect.height;l===0&&h===0||o(l,h)});return r.observe(s),Dd(e,o),r}function Zn(e,t,i){i&&i.disconnect(),t==="resize"&&Rd(e)}function Td(e,t,i){const n=e.canvas,s=Ja(o=>{e.ctx!==null&&i(Md(o,e))},e);return Bd(n,t,s),s}class Fd extends hc{acquireContext(t,i){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(kd(t,i),n):null}releaseContext(t){const i=t.canvas;if(!i[en])return!1;const n=i[en].initial;["height","width"].forEach(o=>{const r=n[o];F(r)?i.removeAttribute(o):i.setAttribute(o,r)});const s=n.style||{};return Object.keys(s).forEach(o=>{i.style[o]=s[o]}),i.width=i.width,delete i[en],!0}addEventListener(t,i,n){this.removeEventListener(t,i);const s=t.$proxies||(t.$proxies={}),r={attach:Sd,detach:Id,resize:Od}[i]||Td;s[i]=r(t,i,n)}removeEventListener(t,i){const n=t.$proxies||(t.$proxies={}),s=n[i];if(!s)return;({attach:Zn,detach:Zn,resize:Zn}[i]||Cd)(t,i,s),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,n,s){return Pu(t,i,n,s)}isAttached(t){const i=t&&Zs(t);return!!(i&&i.isConnected)}}function Pd(e){return!Xs()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?wd:Fd}class Te{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}hasValue(){return ui(this.x)&&ui(this.y)}getProps(t,i){const n=this.$animations;if(!i||!n)return this;const s={};return t.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}}B(Te,"defaults",{}),B(Te,"defaultRoutes");function Qd(e,t){const i=e.options.ticks,n=Ld(e),s=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?Nd(t):[],r=o.length,a=o[0],c=o[r-1],l=[];if(r>s)return zd(t,l,o,r/s),l;const h=$d(o,t,s);if(r>0){let u,d;const p=r>1?Math.round((c-a)/(r-1)):null;for(Ui(t,l,h,F(p)?0:a-p,a),u=0,d=r-1;u<d;u++)Ui(t,l,h,o[u],o[u+1]);return Ui(t,l,h,c,F(p)?t.length:c+p),l}return Ui(t,l,h),l}function Ld(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),s=e._maxLength/i;return Math.floor(Math.min(n,s))}function $d(e,t,i){const n=Hd(e),s=t.length/i;if(!n)return Math.max(s,1);const o=Sh(n);for(let r=0,a=o.length-1;r<a;r++){const c=o[r];if(c>s)return c}return Math.max(s,1)}function Nd(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}function zd(e,t,i,n){let s=0,o=i[0],r;for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=i[s*n])}function Ui(e,t,i,n,s){const o=O(n,0),r=Math.min(O(s,e.length),e.length);let a=0,c,l,h;for(i=Math.ceil(i),s&&(c=s-n,i=c/Math.floor(c/i)),h=o;h<0;)a++,h=Math.round(o+a*i);for(l=Math.max(o,0);l<r;l++)l===h&&(t.push(e[l]),a++,h=Math.round(o+a*i))}function Hd(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}const Yd=e=>e==="left"?"right":e==="right"?"left":e,lr=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,hr=(e,t)=>Math.min(t||e,e);function ur(e,t){const i=[],n=e.length/t,s=e.length;let o=0;for(;o<s;o+=n)i.push(e[Math.floor(o)]);return i}function Ud(e,t,i){const n=e.ticks.length,s=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6;let c=e.getPixelForTick(s),l;if(!(i&&(n===1?l=Math.max(c-o,r-c):t===0?l=(e.getPixelForTick(1)-c)/2:l=(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<o-a||c>r+a)))return c}function jd(e,t){tt(e,i=>{const n=i.gc,s=n.length/2;let o;if(s>t){for(o=0;o<s;++o)delete i.data[n[o]];n.splice(0,s)}})}function je(e){return e.drawTicks?e.tickLength:0}function dr(e,t){if(!e.display)return 0;const i=De(e.font,t),n=Tt(e.padding);return(N(e.text)?e.text.length:1)*i.lineHeight+n.height}function Vd(e,t){return ge(e,{scale:t,type:"scale"})}function Gd(e,t,i){return ge(e,{tick:i,index:t,type:"tick"})}function Wd(e,t,i){let n=Nh(e);return(i&&t!=="right"||!i&&t==="right")&&(n=Yd(n)),n}function Kd(e,t,i,n){const{top:s,left:o,bottom:r,right:a,chart:c}=e,{chartArea:l,scales:h}=c;let u=0,d,p,g;const m=r-s,b=a-o;if(e.isHorizontal()){if(p=Lo(n,o,a),R(i)){const w=Object.keys(i)[0],v=i[w];g=h[w].getPixelForValue(v)+m-t}else i==="center"?g=(l.bottom+l.top)/2+m-t:g=lr(e,i,t);d=a-o}else{if(R(i)){const w=Object.keys(i)[0],v=i[w];p=h[w].getPixelForValue(v)-b+t}else i==="center"?p=(l.left+l.right)/2-b+t:p=lr(e,i,t);g=Lo(n,r,s),u=i==="left"?-ot:ot}return{titleX:p,titleY:g,maxWidth:d,rotation:u}}class me extends Te{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:n,_suggestedMax:s}=this;return t=ut(t,Number.POSITIVE_INFINITY),i=ut(i,Number.NEGATIVE_INFINITY),n=ut(n,Number.POSITIVE_INFINITY),s=ut(s,Number.NEGATIVE_INFINITY),{min:ut(t,n),max:ut(i,s),minDefined:V(t),maxDefined:V(i)}}getMinMax(t){let{min:i,max:n,minDefined:s,maxDefined:o}=this.getUserBounds(),r;if(s&&o)return{min:i,max:n};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)r=a[c].controller.getMinMax(this,t),s||(i=Math.min(i,r.min)),o||(n=Math.max(n,r.max));return i=o&&i>n?n:i,n=s&&i>n?i:n,{min:ut(i,ut(n,i)),max:ut(n,ut(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){L(this.options.beforeUpdate,[this])}update(t,i,n){const{beginAtZero:s,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fu(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?ur(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Qd(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,t=!t),this._startPixel=i,this._endPixel=n,this._reversePixels=t,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){L(this.options.afterUpdate,[this])}beforeSetDimensions(){L(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){L(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),L(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){L(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n],o.label=L(i.callback,[o.value,n,t],this)}afterTickToLabelConversion(){L(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){L(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,n=hr(this.ticks.length,t.ticks.maxTicksLimit),s=i.minRotation||0,o=i.maxRotation;let r=s,a,c,l;if(!this._isVisible()||!i.display||s>=o||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,p=kt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),u+6>a&&(a=p/(n-(t.offset?.5:1)),c=this.maxHeight-je(t.grid)-i.padding-dr(t.title,this.chart.options.font),l=Math.sqrt(u*u+d*d),r=Vs(Math.min(Math.asin(kt((h.highest.height+6)/a,-1,1)),Math.asin(kt(c/l,-1,1))-Math.asin(kt(d/l,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){L(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){L(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:n,title:s,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const c=dr(s,i.options.font);if(a?(t.width=this.maxWidth,t.height=je(o)+c):(t.height=this.maxHeight,t.width=je(o)+c),n.display&&this.ticks.length){const{first:l,last:h,widest:u,highest:d}=this._getLabelSizes(),p=n.padding*2,g=yt(this.labelRotation),m=Math.cos(g),b=Math.sin(g);if(a){const w=n.mirror?0:b*u.width+m*d.height;t.height=Math.min(this.maxHeight,t.height+w+p)}else{const w=n.mirror?0:m*u.width+b*d.height;t.width=Math.min(this.maxWidth,t.width+w+p)}this._calculatePadding(l,h,b,m)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,n,s){const{ticks:{align:o,padding:r},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;c?l?(d=s*t.width,p=n*i.height):(d=n*t.height,p=s*i.width):o==="start"?p=i.width:o==="end"?d=t.width:o!=="inner"&&(d=t.width/2,p=i.width/2),this.paddingLeft=Math.max((d-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-u+r)*this.width/(this.width-u),0)}else{let h=i.height/2,u=t.height/2;o==="start"?(h=0,u=t.height):o==="end"&&(h=i.height,u=0),this.paddingTop=h+r,this.paddingBottom=u+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){L(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,n;for(i=0,n=t.length;i<n;i++)F(t[i].label)&&(t.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let n=this.ticks;i<n.length&&(n=ur(n,i)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,n){const{ctx:s,_longestTextCache:o}=this,r=[],a=[],c=Math.floor(i/hr(i,n));let l=0,h=0,u,d,p,g,m,b,w,v,E,M,A;for(u=0;u<i;u+=c){if(g=t[u].label,m=this._resolveTickFontOptions(u),s.font=b=m.string,w=o[b]=o[b]||{data:{},gc:[]},v=m.lineHeight,E=M=0,!F(g)&&!N(g))E=fn(s,w.data,w.gc,E,g),M=v;else if(N(g))for(d=0,p=g.length;d<p;++d)A=g[d],!F(A)&&!N(A)&&(E=fn(s,w.data,w.gc,E,A),M+=v);r.push(E),a.push(M),l=Math.max(E,l),h=Math.max(M,h)}jd(o,i);const _=r.indexOf(l),x=a.indexOf(h),y=I=>({width:r[I]||0,height:a[I]||0});return{first:y(0),last:y(i-1),widest:y(_),highest:y(x),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return Oh(this._alignToPixels?qt(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const n=i[t];return n.$context||(n.$context=Gd(this.getContext(),t,n))}return this.$context||(this.$context=Vd(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=yt(this.labelRotation),n=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,c=o?o.highest.height+r:0;return this.isHorizontal()?c*n>a*s?a/n:c/s:c*s<a*n?c/n:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,n=this.chart,s=this.options,{grid:o,position:r,border:a}=s,c=o.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),d=je(o),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,b=m/2,w=function(G){return qt(n,G,m)};let v,E,M,A,_,x,y,I,D,T,Y,wt;if(r==="top")v=w(this.bottom),x=this.bottom-d,I=v-b,T=w(t.top)+b,wt=t.bottom;else if(r==="bottom")v=w(this.top),T=t.top,wt=w(t.bottom)-b,x=v+b,I=this.top+d;else if(r==="left")v=w(this.right),_=this.right-d,y=v-b,D=w(t.left)+b,Y=t.right;else if(r==="right")v=w(this.left),D=t.left,Y=w(t.right)-b,_=v+b,y=this.left+d;else if(i==="x"){if(r==="center")v=w((t.top+t.bottom)/2+.5);else if(R(r)){const G=Object.keys(r)[0],ft=r[G];v=w(this.chart.scales[G].getPixelForValue(ft))}T=t.top,wt=t.bottom,x=v+b,I=x+d}else if(i==="y"){if(r==="center")v=w((t.left+t.right)/2);else if(R(r)){const G=Object.keys(r)[0],ft=r[G];v=w(this.chart.scales[G].getPixelForValue(ft))}_=v-b,y=_-d,D=t.left,Y=t.right}const Pt=O(s.ticks.maxTicksLimit,u),$=Math.max(1,Math.ceil(u/Pt));for(E=0;E<u;E+=$){const G=this.getContext(E),ft=o.setContext(G),Ri=a.setContext(G),Oi=ft.lineWidth,Ae=ft.color,Ti=Ri.dash||[],be=Ri.dashOffset,$e=ft.tickWidth,Gt=ft.tickColor,Ne=ft.tickBorderDash||[],Wt=ft.tickBorderDashOffset;M=Ud(this,E,c),M!==void 0&&(A=qt(n,M,Oi),l?_=y=D=Y=A:x=I=T=wt=A,p.push({tx1:_,ty1:x,tx2:y,ty2:I,x1:D,y1:T,x2:Y,y2:wt,width:Oi,color:Ae,borderDash:Ti,borderDashOffset:be,tickWidth:$e,tickColor:Gt,tickBorderDash:Ne,tickBorderDashOffset:Wt}))}return this._ticksLength=u,this._borderValue=v,p}_computeLabelItems(t){const i=this.axis,n=this.options,{position:s,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:h,mirror:u}=o,d=je(n.grid),p=d+h,g=u?-h:p,m=-yt(this.labelRotation),b=[];let w,v,E,M,A,_,x,y,I,D,T,Y,wt="middle";if(s==="top")_=this.bottom-g,x=this._getXAxisLabelAlignment();else if(s==="bottom")_=this.top+g,x=this._getXAxisLabelAlignment();else if(s==="left"){const $=this._getYAxisLabelAlignment(d);x=$.textAlign,A=$.x}else if(s==="right"){const $=this._getYAxisLabelAlignment(d);x=$.textAlign,A=$.x}else if(i==="x"){if(s==="center")_=(t.top+t.bottom)/2+p;else if(R(s)){const $=Object.keys(s)[0],G=s[$];_=this.chart.scales[$].getPixelForValue(G)+p}x=this._getXAxisLabelAlignment()}else if(i==="y"){if(s==="center")A=(t.left+t.right)/2-p;else if(R(s)){const $=Object.keys(s)[0],G=s[$];A=this.chart.scales[$].getPixelForValue(G)}x=this._getYAxisLabelAlignment(d).textAlign}i==="y"&&(c==="start"?wt="top":c==="end"&&(wt="bottom"));const Pt=this._getLabelSizes();for(w=0,v=a.length;w<v;++w){E=a[w],M=E.label;const $=o.setContext(this.getContext(w));y=this.getPixelForTick(w)+o.labelOffset,I=this._resolveTickFontOptions(w),D=I.lineHeight,T=N(M)?M.length:1;const G=T/2,ft=$.color,Ri=$.textStrokeColor,Oi=$.textStrokeWidth;let Ae=x;r?(A=y,x==="inner"&&(w===v-1?Ae=this.options.reverse?"left":"right":w===0?Ae=this.options.reverse?"right":"left":Ae="center"),s==="top"?l==="near"||m!==0?Y=-T*D+D/2:l==="center"?Y=-Pt.highest.height/2-G*D+D:Y=-Pt.highest.height+D/2:l==="near"||m!==0?Y=D/2:l==="center"?Y=Pt.highest.height/2-G*D:Y=Pt.highest.height-T*D,u&&(Y*=-1),m!==0&&!$.showLabelBackdrop&&(A+=D/2*Math.sin(m))):(_=y,Y=(1-T)*D/2);let Ti;if($.showLabelBackdrop){const be=Tt($.backdropPadding),$e=Pt.heights[w],Gt=Pt.widths[w];let Ne=Y-be.top,Wt=0-be.left;switch(wt){case"middle":Ne-=$e/2;break;case"bottom":Ne-=$e;break}switch(x){case"center":Wt-=Gt/2;break;case"right":Wt-=Gt;break;case"inner":w===v-1?Wt-=Gt:w>0&&(Wt-=Gt/2);break}Ti={left:Wt,top:Ne,width:Gt+be.width,height:$e+be.height,color:$.backdropColor}}b.push({label:M,font:I,textOffset:Y,options:{rotation:m,color:ft,strokeColor:Ri,strokeWidth:Oi,textAlign:Ae,textBaseline:wt,translation:[A,_],backdrop:Ti}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-yt(this.labelRotation))return t==="top"?"left":"right";let s="center";return i.align==="start"?s="left":i.align==="end"?s="right":i.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,c=r.widest.width;let l,h;return i==="left"?s?(h=this.right+o,n==="near"?l="left":n==="center"?(l="center",h+=c/2):(l="right",h+=c)):(h=this.right-a,n==="near"?l="right":n==="center"?(l="center",h-=c/2):(l="left",h=this.left)):i==="right"?s?(h=this.left+o,n==="near"?l="right":n==="center"?(l="center",h-=c/2):(l="left",h-=c)):(h=this.left+a,n==="near"?l="left":n==="center"?(l="center",h+=c/2):(l="right",h=this.right)):l="right",{textAlign:l,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:n,top:s,width:o,height:r}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(n,s,o,r),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?i.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const i=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(c,l,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(i.display)for(o=0,r=s.length;o<r;++o){const c=s[o];i.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),i.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:n,grid:s}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,h,u,d;this.isHorizontal()?(l=qt(t,this.left,r)-r/2,h=qt(t,this.right,a)+a/2,u=d=c):(u=qt(t,this.top,r)-r/2,d=qt(t,this.bottom,a)+a/2,l=h=c),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(l,u),i.lineTo(h,d),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Xa(n,s);const o=this.getLabelItems(t);for(const r of o){const a=r.options,c=r.font,l=r.label,h=r.textOffset;pn(n,l,0,h,c,a)}s&&Za(n)}drawTitle(){const{ctx:t,options:{position:i,title:n,reverse:s}}=this;if(!n.display)return;const o=De(n.font),r=Tt(n.padding),a=n.align;let c=o.lineHeight/2;i==="bottom"||i==="center"||R(i)?(c+=r.bottom,N(n.text)&&(c+=o.lineHeight*(n.text.length-1))):c+=r.top;const{titleX:l,titleY:h,maxWidth:u,rotation:d}=Kd(this,c,i,a);pn(t,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:d,textAlign:Wd(a,i,s),textBaseline:"middle",translation:[l,h]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,n=O(t.grid&&t.grid.z,-1),s=O(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==me.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let o,r;for(o=0,r=i.length;o<r;++o){const a=i[o];a[n]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return De(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ji{constructor(t,i,n){this.type=t,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let n;Xd(i)&&(n=this.register(i));const s=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,Jd(t,r,n),this.override&&Q.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const i=this.items,n=t.id,s=this.scope;n in i&&delete i[n],s&&n in Q[s]&&(delete Q[s][n],this.override&&delete he[n])}}function Jd(e,t,i){const n=hi(Object.create(null),[i?Q.get(i):{},Q.get(t),e.defaults]);Q.set(t,n),e.defaultRoutes&&qd(t,e.defaultRoutes),e.descriptors&&Q.describe(t,e.descriptors)}function qd(e,t){Object.keys(t).forEach(i=>{const n=i.split("."),s=n.pop(),o=[e].concat(n).join("."),r=t[i].split("."),a=r.pop(),c=r.join(".");Q.route(o,s,c,a)})}function Xd(e){return"id"in e&&"defaults"in e}class Zd{constructor(){this.controllers=new ji(re,"datasets",!0),this.elements=new ji(Te,"elements"),this.plugins=new ji(Object,"plugins"),this.scales=new ji(me,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,n){[...i].forEach(s=>{const o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):tt(s,r=>{const a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,i,n){const s=js(t);L(n["before"+s],[],n),i[t](n),L(n["after"+s],[],n)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const n=this._typedRegistries[i];if(n.isForType(t))return n}return this.plugins}_get(t,i,n){const s=i.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var Et=new Zd;class tf{constructor(){this._init=[]}notify(t,i,n,s){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),r=this._notify(o,t,i,n);return i==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,i,n,s){s=s||{};for(const o of t){const r=o.plugin,a=r[n],c=[i,s,o.options];if(L(a,c,r)===!1&&s.cancelable)return!1}return!0}invalidate(){F(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const n=t&&t.config,s=O(n.options&&n.options.plugins,{}),o=ef(n);return s===!1&&!i?[]:sf(t,o,s,i)}_notifyStateChanges(t){const i=this._oldCache||[],n=this._cache,s=(o,r)=>o.filter(a=>!r.some(c=>a.plugin.id===c.plugin.id));this._notify(s(i,n),t,"stop"),this._notify(s(n,i),t,"start")}}function ef(e){const t={},i=[],n=Object.keys(Et.plugins.items);for(let o=0;o<n.length;o++)i.push(Et.getPlugin(n[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const r=s[o];i.indexOf(r)===-1&&(i.push(r),t[r.id]=!0)}return{plugins:i,localIds:t}}function nf(e,t){return!t&&e===!1?null:e===!0?{}:e}function sf(e,{plugins:t,localIds:i},n,s){const o=[],r=e.getContext();for(const a of t){const c=a.id,l=nf(n[c],s);l!==null&&o.push({plugin:a,options:of(e.config,{plugin:a,local:i[c]},l,r)})}return o}function of(e,{plugin:t,local:i},n,s){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return i&&t.defaults&&r.push(t.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fs(e,t){const i=Q.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function rf(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function af(e,t){return e===t?"_index_":"_value_"}function fr(e){if(e==="x"||e==="y"||e==="r")return e}function cf(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ps(e,...t){if(fr(e))return e;for(const i of t){const n=i.axis||cf(i.position)||e.length>1&&fr(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pr(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function lf(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(i.length)return pr(e,"x",i[0])||pr(e,"y",i[0])}return{}}function hf(e,t){const i=he[e.type]||{scales:{}},n=t.scales||{},s=fs(e.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!R(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=ps(r,a,lf(r,e),Q.scales[a.type]),l=af(c,s),h=i.scales||{};o[r]=ti(Object.create(null),[{axis:c},a,h[c],h[l]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,c=r.indexAxis||fs(a,t),h=(he[a]||{}).scales||{};Object.keys(h).forEach(u=>{const d=rf(u,c),p=r[d+"AxisID"]||d;o[p]=o[p]||Object.create(null),ti(o[p],[{axis:d},n[p],h[u]])})}),Object.keys(o).forEach(r=>{const a=o[r];ti(a,[Q.scales[a.type],Q.scale])}),o}function fc(e){const t=e.options||(e.options={});t.plugins=O(t.plugins,{}),t.scales=hf(e,t)}function pc(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function uf(e){return e=e||{},e.data=pc(e.data),fc(e),e}const gr=new Map,gc=new Set;function Vi(e,t){let i=gr.get(e);return i||(i=t(),gr.set(e,i),gc.add(i)),i}const Ve=(e,t,i)=>{const n=Se(t,i);n!==void 0&&e.add(n)};class df{constructor(t){this._config=uf(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=pc(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),fc(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Vi(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Vi(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Vi(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,n=this.type;return Vi(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const n=this._scopeCache;let s=n.get(t);return(!s||i)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,i,n){const{options:s,type:o}=this,r=this._cachedScopes(t,n),a=r.get(i);if(a)return a;const c=new Set;i.forEach(h=>{t&&(c.add(t),h.forEach(u=>Ve(c,t,u))),h.forEach(u=>Ve(c,s,u)),h.forEach(u=>Ve(c,he[o]||{},u)),h.forEach(u=>Ve(c,Q,u)),h.forEach(u=>Ve(c,ds,u))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),gc.has(i)&&r.set(i,l),l}chartOptionScopes(){const{options:t,type:i}=this;return[t,he[i]||{},Q.datasets[i]||{},{type:i},Q,ds]}resolveNamedOptions(t,i,n,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=mr(this._resolverCache,t,s);let c=r;if(pf(r,i)){o.$shared=!1,n=Yt(n)?n():n;const l=this.createResolver(t,n,a);c=Re(r,n,l)}for(const l of i)o[l]=c[l];return o}createResolver(t,i,n=[""],s){const{resolver:o}=mr(this._resolverCache,t,n);return R(i)?Re(o,i,void 0,s):o}}function mr(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=i.join();let o=n.get(s);return o||(o={resolver:Ks(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,o)),o}const ff=e=>R(e)&&Object.getOwnPropertyNames(e).some(t=>Yt(e[t]));function pf(e,t){const{isScriptable:i,isIndexable:n}=ec(e);for(const s of t){const o=i(s),r=n(s),a=(r||o)&&e[s];if(o&&(Yt(a)||ff(a))||r&&N(a))return!0}return!1}var gf="4.4.7";const mf=["top","bottom","left","right","chartArea"];function Ar(e,t){return e==="top"||e==="bottom"||mf.indexOf(e)===-1&&t==="x"}function br(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function _r(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),L(i&&i.onComplete,[e],t)}function Af(e){const t=e.chart,i=t.options.animation;L(i&&i.onProgress,[e],t)}function mc(e){return Xs()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const nn={},xr=e=>{const t=mc(e);return Object.values(nn).filter(i=>i.canvas===t).pop()};function bf(e,t,i){const n=Object.keys(e);for(const s of n){const o=+s;if(o>=t){const r=e[s];delete e[s],(i>0||o>t)&&(e[o+i]=r)}}}function _f(e,t,i,n){return!i||e.type==="mouseout"?null:n?t:e}function Gi(e,t,i){return e.options.clip?e[i]:t[i]}function xf(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:Gi(i,t,"left"),right:Gi(i,t,"right"),top:Gi(n,t,"top"),bottom:Gi(n,t,"bottom")}:t}class Dt{static register(...t){Et.add(...t),yr()}static unregister(...t){Et.remove(...t),yr()}constructor(t,i){const n=this.config=new df(i),s=mc(t),o=xr(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Pd(s)),this.platform.updateConfig(n);const a=this.platform.acquireContext(s,r.aspectRatio),c=a&&a.canvas,l=c&&c.height,h=c&&c.width;if(this.id=xh(),this.ctx=a,this.canvas=c,this.width=h,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tf,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$h(u=>this.update(u),r.resizeDelay||0),this._dataChanges=[],nn[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}St.listen(this,"complete",_r),St.listen(this,"progress",Af),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:n,height:s,_aspectRatio:o}=this;return F(t)?i&&o?o:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Et}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Vo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yo(this.canvas,this.ctx),this}stop(){return St.stop(this),this}resize(t,i){St.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const n=this.options,s=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,t,i,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Vo(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),L(n.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};tt(i,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,i=t.scales,n=this.scales,s=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];i&&(o=o.concat(Object.keys(i).map(r=>{const a=i[r],c=ps(r,a),l=c==="r",h=c==="x";return{options:a,dposition:l?"chartArea":h?"bottom":"left",dtype:l?"radialLinear":h?"category":"linear"}}))),tt(o,r=>{const a=r.options,c=a.id,l=ps(c,a),h=O(a.type,r.dtype);(a.position===void 0||Ar(a.position,l)!==Ar(r.dposition))&&(a.position=r.dposition),s[c]=!0;let u=null;if(c in n&&n[c].type===h)u=n[c];else{const d=Et.getScale(h);u=new d({id:c,type:h,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,t)}),tt(s,(r,a)=>{r||delete n[a]}),tt(n,r=>{Yi.configure(this,r,r.options),Yi.addBox(this,r)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,n=t.length;if(t.sort((s,o)=>s.index-o.index),n>i){for(let s=i;s<n;++s)this._destroyDatasetMeta(s);t.splice(i,n-i)}this._sortedMetasets=t.slice(0).sort(br("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((n,s)=>{i.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=i.length;n<s;n++){const o=i[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||fs(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const c=Et.getController(a),{datasetElementType:l,dataElementType:h}=Q.datasets[a];Object.assign(c,{dataElementType:Et.getElement(h),datasetElementType:l&&Et.getElement(l)}),r.controller=new c(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){tt(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,h=this.data.datasets.length;l<h;l++){const{controller:u}=this.getDatasetMeta(l),d=!s&&o.indexOf(u)===-1;u.buildOrUpdateElements(d),r=Math.max(+u.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),s||tt(o,l=>{l.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(br("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){tt(this.scales,t=>{Yi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Ro(i,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:o}of i){const r=n==="_removeElements"?-o:o;bf(t,s,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),s=n(0);for(let o=1;o<i;o++)if(!Ro(s,n(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yi.update(this,this.width,this.height,t);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],tt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Yt(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(St.has(this)?this.attached&&!St.running(this)&&St.start(this):(this.draw(),_r({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,n=[];let s,o;for(s=0,o=i.length;s<o;++s){const r=i[s];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,n=t._clip,s=!n.disabled,o=xf(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Xa(i,{left:n.left===!1?0:o.left-n.left,right:n.right===!1?this.width:o.right+n.right,top:n.top===!1?0:o.top-n.top,bottom:n.bottom===!1?this.height:o.bottom+n.bottom}),t.controller.draw(),s&&Za(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Rt(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,n,s){const o=gd.modes[i];return typeof o=="function"?o(this,t,n,s):[]}getDatasetMeta(t){const i=this.data.datasets[t],n=this._metasets;let s=n.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=ge(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(t,i){const n=this.getDatasetMeta(t);n.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,n){const s=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,s);hn(i)?(o.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),St.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Yo(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete nn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,n=(o,r)=>{i.addEventListener(this,o,r),t[o]=r},s=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};tt(this.options.events,o=>n(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,n=(c,l)=>{i.addEventListener(this,c,l),t[c]=l},s=(c,l)=>{t[c]&&(i.removeEventListener(this,c,l),delete t[c])},o=(c,l)=>{this.canvas&&this.resize(c,l)};let r;const a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),n("attach",a)},i.isAttached(this.canvas)?a():r()}unbindEvents(){tt(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},tt(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,n){const s=n?"set":"remove";let o,r,a,c;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){r=t[a];const l=r&&this.getDatasetMeta(r.datasetIndex).controller;l&&l[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!Io(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(t,i,n){return this._plugins.notify(this,t,i,n)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,n){const s=this.options.hover,o=(c,l)=>c.filter(h=>!l.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),r=o(i,t),a=n?t:o(t,i);r.length&&this.updateHoverStyle(r,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,i){const n={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const o=this._handleEvent(t,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(o||n.changed)&&this.render(),this}_handleEvent(t,i,n){const{_active:s=[],options:o}=this,r=i,a=this._getActiveElements(t,s,n,r),c=Bh(t),l=_f(t,this._lastEvent,n,c);n&&(this._lastEvent=null,L(o.onHover,[t,a,this],this),c&&L(o.onClick,[t,a,this],this));const h=!Io(a,s);return(h||i)&&(this._active=a,this._updateHoverStyles(a,s,i)),this._lastEvent=l,h}_getActiveElements(t,i,n,s){if(t.type==="mouseout")return[];if(!n)return i;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}B(Dt,"defaults",Q),B(Dt,"instances",nn),B(Dt,"overrides",he),B(Dt,"registry",Et),B(Dt,"version",gf),B(Dt,"getChart",xr);function yr(){return tt(Dt.instances,e=>e._plugins.invalidate())}function Ac(e,t,i=t){e.lineCap=O(i.borderCapStyle,t.borderCapStyle),e.setLineDash(O(i.borderDash,t.borderDash)),e.lineDashOffset=O(i.borderDashOffset,t.borderDashOffset),e.lineJoin=O(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=O(i.borderWidth,t.borderWidth),e.strokeStyle=O(i.borderColor,t.borderColor)}function yf(e,t,i){e.lineTo(i.x,i.y)}function vf(e){return e.stepped?eu:e.tension||e.cubicInterpolationMode==="monotone"?iu:yf}function bc(e,t,i={}){const n=e.length,{start:s=0,end:o=n-1}=i,{start:r,end:a}=t,c=Math.max(s,r),l=Math.min(o,a),h=s<r&&o<r||s>a&&o>a;return{count:n,start:c,loop:t.loop,ilen:l<c&&!h?n+l-c:l-c}}function wf(e,t,i,n){const{points:s,options:o}=t,{count:r,start:a,loop:c,ilen:l}=bc(s,i,n),h=vf(o);let{move:u=!0,reverse:d}=n||{},p,g,m;for(p=0;p<=l;++p)g=s[(a+(d?l-p:p))%r],!g.skip&&(u?(e.moveTo(g.x,g.y),u=!1):h(e,m,g,d,o.stepped),m=g);return c&&(g=s[(a+(d?l:0))%r],h(e,m,g,d,o.stepped)),!!c}function Ef(e,t,i,n){const s=t.points,{count:o,start:r,ilen:a}=bc(s,i,n),{move:c=!0,reverse:l}=n||{};let h=0,u=0,d,p,g,m,b,w;const v=M=>(r+(l?a-M:M))%o,E=()=>{m!==b&&(e.lineTo(h,b),e.lineTo(h,m),e.lineTo(h,w))};for(c&&(p=s[v(0)],e.moveTo(p.x,p.y)),d=0;d<=a;++d){if(p=s[v(d)],p.skip)continue;const M=p.x,A=p.y,_=M|0;_===g?(A<m?m=A:A>b&&(b=A),h=(u*h+M)/++u):(E(),e.lineTo(M,A),g=_,u=0,m=b=A),w=A}E()}function gs(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?Ef:wf}function kf(e){return e.stepped?Lu:e.tension||e.cubicInterpolationMode==="monotone"?$u:ie}function Bf(e,t,i,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,i,n)&&s.closePath()),Ac(e,t.options),e.stroke(s)}function Cf(e,t,i,n){const{segments:s,options:o}=t,r=gs(t);for(const a of s)Ac(e,o,a.style),e.beginPath(),r(e,t,a,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}const Mf=typeof Path2D=="function";function Sf(e,t,i,n){Mf&&!t.options.segment?Bf(e,t,i,n):Cf(e,t,i,n)}class Xe extends Te{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;Iu(this._points,n,t,s,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ju(this,this.options.segment))}first(){const t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){const t=this.segments,i=this.points,n=t.length;return n&&i[t[n-1].end]}interpolate(t,i){const n=this.options,s=t[i],o=this.points,r=Hu(this,{property:i,start:s,end:s});if(!r.length)return;const a=[],c=kf(n);let l,h;for(l=0,h=r.length;l<h;++l){const{start:u,end:d}=r[l],p=o[u],g=o[d];if(p===g){a.push(p);continue}const m=Math.abs((s-p[i])/(g[i]-p[i])),b=c(p,g,m,n.stepped);b[i]=t[i],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,i,n){return gs(this)(t,this,i,n)}path(t,i,n){const s=this.segments,o=gs(this);let r=this._loop;i=i||0,n=n||this.points.length-i;for(const a of s)r&=o(t,this,a,{start:i,end:i+n-1});return!!r}draw(t,i,n,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),Sf(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(Xe,"id","line"),B(Xe,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(Xe,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(Xe,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function vr(e,t,i,n){const s=e.options,{[i]:o}=e.getProps([i],n);return Math.abs(t-o)<s.radius+s.hitRadius}class sn extends Te{constructor(i){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,s){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],s);return Math.pow(i-r,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(i,n){return vr(this,i,"x",n)}inYRange(i,n){return vr(this,i,"y",n)}getCenterPoint(i){const{x:n,y:s}=this.getProps(["x","y"],i);return{x:n,y:s}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);const s=n&&i.borderWidth||0;return(n+s)*2}draw(i,n){const s=this.options;this.skip||s.radius<.1||!Rt(this,n,this.size(s)/2)||(i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.fillStyle=s.backgroundColor,Zh(i,s,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}B(sn,"id","point"),B(sn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(sn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ms=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],wr=ms.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function _c(e){return ms[e%ms.length]}function xc(e){return wr[e%wr.length]}function If(e,t){return e.borderColor=_c(t),e.backgroundColor=xc(t),++t}function Df(e,t){return e.backgroundColor=e.data.map(()=>_c(t++)),t}function Rf(e,t){return e.backgroundColor=e.data.map(()=>xc(t++)),t}function Of(e){let t=0;return(i,n)=>{const s=e.getDatasetMeta(n).controller;s instanceof Je?t=Df(i,t):s instanceof tn?t=Rf(i,t):s&&(t=If(i,t))}}function Er(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function Tf(e){return e&&(e.borderColor||e.backgroundColor)}function Ff(){return Q.borderColor!=="rgba(0,0,0,0.1)"||Q.backgroundColor!=="rgba(0,0,0,0.1)"}var Pf={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;const{data:{datasets:n},options:s}=e.config,{elements:o}=s,r=Er(n)||Tf(s)||o&&Er(o)||Ff();if(!i.forceOverride&&r)return;const a=Of(e);n.forEach(a)}};const Qf=(e,t,i,n)=>(typeof t=="string"?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function Lf(e,t,i,n){const s=e.indexOf(t);if(s===-1)return Qf(e,t,i,n);const o=e.lastIndexOf(t);return s!==o?i:s}const $f=(e,t)=>e===null?null:kt(Math.round(e),0,t);function kr(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class As extends me{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:s,label:o}of i)n[s]===o&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(F(t))return null;const n=this.getLabels();return i=isFinite(i)&&n[i]===t?i:Lf(n,t,O(i,t),this._addedLabels),$f(i,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),i||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const t=this.min,i=this.max,n=this.options.offset,s=[];let o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=i;r++)s.push({value:r});return s}getLabelForValue(t){return kr.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}B(As,"id","category"),B(As,"defaults",{ticks:{callback:kr}});function Nf(e,t){const i=[],{bounds:s,step:o,min:r,max:a,precision:c,count:l,maxTicks:h,maxDigits:u,includeBounds:d}=e,p=o||1,g=h-1,{min:m,max:b}=t,w=!F(r),v=!F(a),E=!F(l),M=(b-m)/(u+1);let A=To((b-m)/g/p)*p,_,x,y,I;if(A<1e-14&&!w&&!v)return[{value:m},{value:b}];I=Math.ceil(b/A)-Math.floor(m/A),I>g&&(A=To(I*A/g/p)*p),F(c)||(_=Math.pow(10,c),A=Math.ceil(A*_)/_),s==="ticks"?(x=Math.floor(m/A)*A,y=Math.ceil(b/A)*A):(x=m,y=b),w&&v&&o&&Ih((a-r)/o,A/1e3)?(I=Math.round(Math.min((a-r)/A,h)),A=(a-r)/I,x=r,y=a):E?(x=w?r:x,y=v?a:y,I=l-1,A=(y-x)/I):(I=(y-x)/A,ei(I,Math.round(I),A/1e3)?I=Math.round(I):I=Math.ceil(I));const D=Math.max(Fo(A),Fo(x));_=Math.pow(10,F(c)?D:c),x=Math.round(x*_)/_,y=Math.round(y*_)/_;let T=0;for(w&&(d&&x!==r?(i.push({value:r}),x<r&&T++,ei(Math.round((x+T*A)*_)/_,r,Br(r,M,e))&&T++):x<r&&T++);T<I;++T){const Y=Math.round((x+T*A)*_)/_;if(v&&Y>a)break;i.push({value:Y})}return v&&d&&y!==a?i.length&&ei(i[i.length-1].value,a,Br(a,M,e))?i[i.length-1].value=a:i.push({value:a}):(!v||y===a)&&i.push({value:y}),i}function Br(e,t,{horizontal:i,minRotation:n}){const s=yt(n),o=(i?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class An extends me{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return F(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:s,max:o}=this;const r=c=>s=i?s:c,a=c=>o=n?o:c;if(t){const c=Ie(s),l=Ie(o);c<0&&l<0?a(0):c>0&&l>0&&r(0)}if(s===o){let c=o===0?1:Math.abs(o*.05);a(o+c),t||r(s-c)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),i=i||11),i&&(s=Math.min(i,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,r=Nf(s,o);return t.bounds==="ticks"&&Ga(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let i=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const s=(n-i)/Math.max(t.length-1,1)/2;i-=s,n+=s}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(t){return Ci(t,this.chart.options.locale,this.options.ticks.format)}}class bs extends An{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=V(t)?t:0,this.max=V(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,n=yt(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}B(bs,"id","linear"),B(bs,"defaults",{ticks:{callback:In.formatters.numeric}});const fi=e=>Math.floor($t(e)),Zt=(e,t)=>Math.pow(10,fi(e)+t);function Cr(e){return e/Math.pow(10,fi(e))===1}function Mr(e,t,i){const n=Math.pow(10,i),s=Math.floor(e/n);return Math.ceil(t/n)-s}function zf(e,t){const i=t-e;let n=fi(i);for(;Mr(e,t,n)>10;)n++;for(;Mr(e,t,n)<10;)n--;return Math.min(n,fi(e))}function Hf(e,{min:t,max:i}){t=ut(e.min,t);const n=[],s=fi(t);let o=zf(t,i),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=s>o?Math.pow(10,s):0,l=Math.round((t-c)*r)/r,h=Math.floor((t-c)/a/10)*a*10;let u=Math.floor((l-h)/Math.pow(10,o)),d=ut(e.min,Math.round((c+h+u*Math.pow(10,o))*r)/r);for(;d<i;)n.push({value:d,major:Cr(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,r=o>=0?1:r),d=Math.round((c+h+u*Math.pow(10,o))*r)/r;const p=ut(e.max,d);return n.push({value:p,major:Cr(p),significand:u}),n}class Sr extends me{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const n=An.prototype.parse.apply(this,[t,i]);if(n===0){this._zero=!0;return}return V(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=V(t)?Math.max(0,t):null,this.max=V(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!V(this._userMin)&&(this.min=t===Zt(this.min,0)?Zt(this.min,-1):Zt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let n=this.min,s=this.max;const o=a=>n=t?n:a,r=a=>s=i?s:a;n===s&&(n<=0?(o(1),r(10)):(o(Zt(n,-1)),r(Zt(s,1)))),n<=0&&o(Zt(s,-1)),s<=0&&r(Zt(n,1)),this.min=n,this.max=s}buildTicks(){const t=this.options,i={min:this._userMin,max:this._userMax},n=Hf(i,this);return t.bounds==="ticks"&&Ga(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Ci(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=$t(t),this._valueRange=$t(this.max)-$t(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:($t(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}}B(Sr,"id","logarithmic"),B(Sr,"defaults",{ticks:{callback:In.formatters.logarithmic,major:{enabled:!0}}});function _s(e){const t=e.ticks;if(t.display&&e.display){const i=Tt(t.backdropPadding);return O(t.font&&t.font.size,Q.font.size)+i.height}return 0}function Yf(e,t,i){return i=N(i)?i:[i],{w:Xh(e,t.string,i),h:i.length*t.lineHeight}}function Ir(e,t,i,n,s){return e===n||e===s?{start:t-i/2,end:t+i/2}:e<n||e>s?{start:t-i,end:t}:{start:t,end:t+i}}function Uf(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],s=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?z/o:0;for(let c=0;c<o;c++){const l=r.setContext(e.getPointLabelContext(c));s[c]=l.padding;const h=e.getPointPosition(c,e.drawingArea+s[c],a),u=De(l.font),d=Yf(e.ctx,u,e._pointLabels[c]);n[c]=d;const p=xt(e.getIndexAngle(c)+a),g=Math.round(Vs(p)),m=Ir(g,h.x,d.w,0,180),b=Ir(g,h.y,d.h,90,270);jf(i,t,p,m,b)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=Wf(e,n,s)}function jf(e,t,i,n,s){const o=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i));let a=0,c=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(c=(t.t-s.start)/r,e.t=Math.min(e.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/r,e.b=Math.max(e.b,t.b+c))}function Vf(e,t,i){const n=e.drawingArea,{extra:s,additionalAngle:o,padding:r,size:a}=i,c=e.getPointPosition(t,n+s+r,o),l=Math.round(Vs(xt(c.angle+ot))),h=qf(c.y,a.h,l),u=Kf(l),d=Jf(c.x,a.w,u);return{visible:!0,x:c.x,y:h,textAlign:u,left:d,top:h,right:d+a.w,bottom:h+a.h}}function Gf(e,t){if(!t)return!0;const{left:i,top:n,right:s,bottom:o}=e;return!(Rt({x:i,y:n},t)||Rt({x:i,y:o},t)||Rt({x:s,y:n},t)||Rt({x:s,y:o},t))}function Wf(e,t,i){const n=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,c={extra:_s(o)/2,additionalAngle:r?z/s:0};let l;for(let h=0;h<s;h++){c.padding=i[h],c.size=t[h];const u=Vf(e,h,c);n.push(u),a==="auto"&&(u.visible=Gf(u,l),u.visible&&(l=u))}return n}function Kf(e){return e===0||e===180?"center":e<180?"left":"right"}function Jf(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function qf(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function Xf(e,t,i){const{left:n,top:s,right:o,bottom:r}=i,{backdropColor:a}=t;if(!F(a)){const c=du(t.borderRadius),l=Tt(t.backdropPadding);e.fillStyle=a;const h=n-l.left,u=s-l.top,d=o-n+l.width,p=r-s+l.height;Object.values(c).some(g=>g!==0)?(e.beginPath(),ru(e,{x:h,y:u,w:d,h:p,radius:c}),e.fill()):e.fillRect(h,u,d,p)}}function Zf(e,t){const{ctx:i,options:{pointLabels:n}}=e;for(let s=t-1;s>=0;s--){const o=e._pointLabelItems[s];if(!o.visible)continue;const r=n.setContext(e.getPointLabelContext(s));Xf(i,r,o);const a=De(r.font),{x:c,y:l,textAlign:h}=o;pn(i,e._pointLabels[s],c,l+a.lineHeight/2,a,{color:r.color,textAlign:h,textBaseline:"middle"})}}function yc(e,t,i,n){const{ctx:s}=e;if(i)s.arc(e.xCenter,e.yCenter,t,0,W);else{let o=e.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,t),s.lineTo(o.x,o.y)}}function tp(e,t,i,n,s){const o=e.ctx,r=t.circular,{color:a,lineWidth:c}=t;!r&&!n||!a||!c||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),yc(e,i,r,n),o.closePath(),o.stroke(),o.restore())}function ep(e,t,i){return ge(e,{label:i,index:t,type:"pointLabel"})}class Wi extends An{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Tt(_s(this.options)/2),i=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=V(t)&&!isNaN(t)?t:0,this.max=V(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_s(this.options))}generateTickLabels(t){An.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,n)=>{const s=L(this.options.pointLabels.callback,[i,n],this);return s||s===0?s:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Uf(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,n,s){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,n,s))}getIndexAngle(t){const i=W/(this._pointLabels.length||1),n=this.options.startAngle||0;return xt(t*i+yt(n))}getDistanceFromCenterForValue(t){if(F(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(F(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const n=i[t];return ep(this.getContext(),t,n)}}getPointPosition(t,i,n=0){const s=this.getIndexAngle(t)-ot+n;return{x:Math.cos(s)*i+this.xCenter,y:Math.sin(s)*i+this.yCenter,angle:s}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:n,right:s,bottom:o}=this._pointLabelItems[t];return{left:i,top:n,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),yc(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:n,grid:s,border:o}=i,r=this._pointLabels.length;let a,c,l;if(i.pointLabels.display&&Zf(this,r),s.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),p=s.setContext(d),g=o.setContext(d);tp(this,p,c,r,g)}}),n.display){for(t.save(),a=r-1;a>=0;a--){const h=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=h;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!i.reverse)return;const l=n.setContext(this.getContext(c)),h=De(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=h.string,r=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const u=Tt(l.backdropPadding);t.fillRect(-r/2-u.left,-o-h.size/2-u.top,r+u.width,h.size+u.height)}pn(t,a.label,0,-o,h,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}}B(Wi,"id","radialLinear"),B(Wi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:In.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),B(Wi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),B(Wi,"descriptors",{angleLines:{_fallback:"grid"}});const Rn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ct=Object.keys(Rn);function Dr(e,t){return e-t}function Rr(e,t){if(F(t))return null;const i=e._adapter,{parser:n,round:s,isoWeekday:o}=e._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),V(r)||(r=typeof n=="string"?i.parse(r,n):i.parse(r)),r===null?null:(s&&(r=s==="week"&&(ui(o)||o===!0)?i.startOf(r,"isoWeek",o):i.startOf(r,s)),+r)}function Or(e,t,i,n){const s=ct.length;for(let o=ct.indexOf(e);o<s-1;++o){const r=Rn[ct[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((i-t)/(a*r.size))<=n)return ct[o]}return ct[s-1]}function ip(e,t,i,n,s){for(let o=ct.length-1;o>=ct.indexOf(i);o--){const r=ct[o];if(Rn[r].common&&e._adapter.diff(s,n,r)>=t-1)return r}return ct[i?ct.indexOf(i):0]}function np(e){for(let t=ct.indexOf(e)+1,i=ct.length;t<i;++t)if(Rn[ct[t]].common)return ct[t]}function Tr(e,t,i){if(!i)e[t]=!0;else if(i.length){const{lo:n,hi:s}=Gs(i,t),o=i[n]>=t?i[n]:i[s];e[o]=!0}}function sp(e,t,i,n){const s=e._adapter,o=+s.startOf(t[0].value,n),r=t[t.length-1].value;let a,c;for(a=o;a<=r;a=+s.add(a,1,n))c=i[a],c>=0&&(t[c].major=!0);return t}function Fr(e,t,i){const n=[],s={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],s[a]=r,n.push({value:a,major:!1});return o===0||!i?n:sp(e,n,s,i)}class bn extends me{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const n=t.time||(t.time={}),s=this._adapter=new hd._date(t.adapters.date);s.init(i),ti(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:Rr(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,n=t.time.unit||"day";let{min:s,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function c(l){!r&&!isNaN(l.min)&&(s=Math.min(s,l.min)),!a&&!isNaN(l.max)&&(o=Math.max(o,l.max))}(!r||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=V(s)&&!isNaN(s)?s:+i.startOf(Date.now(),n),o=V(o)&&!isNaN(o)?o:+i.endOf(Date.now(),n)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){const t=this.options,i=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,r=this.max,a=Ph(s,o,r);return this._unit=i.unit||(n.autoSkip?Or(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):ip(this,a.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:np(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Fr(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,n=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?i=1-s:i=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;i=kt(i,0,r),n=kt(n,0,r),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,i=this.min,n=this.max,s=this.options,o=s.time,r=o.unit||Or(o.minUnit,i,n,this._getLabelCapacity(i)),a=O(s.ticks.stepSize,1),c=r==="week"?o.isoWeekday:!1,l=ui(c)||c===!0,h={};let u=i,d,p;if(l&&(u=+t.startOf(u,"isoWeek",c)),u=+t.startOf(u,l?"day":r),t.diff(n,i,r)>1e5*a)throw new Error(i+" and "+n+" are too far apart with stepSize of "+a+" "+r);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(d=u,p=0;d<n;d=+t.add(d,a,r),p++)Tr(h,d,g);return(d===n||s.bounds==="ticks"||p===1)&&Tr(h,d,g),Object.keys(h).sort(Dr).map(m=>+m)}getLabelForValue(t){const i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(t,n.tooltipFormat):i.format(t,n.displayFormats.datetime)}format(t,i){const s=this.options.time.displayFormats,o=this._unit,r=i||s[o];return this._adapter.format(t,r)}_tickFormatFunction(t,i,n,s){const o=this.options,r=o.ticks.callback;if(r)return L(r,[t,i,n],this);const a=o.time.displayFormats,c=this._unit,l=this._majorUnit,h=c&&a[c],u=l&&a[l],d=n[i],p=l&&u&&d&&d.major;return this._adapter.format(t,s||(p?u:h))}generateTickLabels(t){let i,n,s;for(i=0,n=t.length;i<n;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,n=this.ctx.measureText(t).width,s=yt(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),r=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){const i=this.options.time,n=i.displayFormats,s=n[i.unit]||n.millisecond,o=this._tickFormatFunction(t,0,Fr(this,[t],this._majorUnit),s),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],i,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,n=s.length;i<n;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,n;if(t.length)return t;const s=this.getLabels();for(i=0,n=s.length;i<n;++i)t.push(Rr(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Lh(t.sort(Dr))}}B(bn,"id","time"),B(bn,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ki(e,t,i){let n=0,s=e.length-1,o,r,a,c;i?(t>=e[n].pos&&t<=e[s].pos&&({lo:n,hi:s}=se(e,"pos",t)),{pos:o,time:a}=e[n],{pos:r,time:c}=e[s]):(t>=e[n].time&&t<=e[s].time&&({lo:n,hi:s}=se(e,"time",t)),{time:o,pos:a}=e[n],{time:r,pos:c}=e[s]);const l=r-o;return l?a+(c-a)*(t-o)/l:a}class Pr extends bn{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Ki(i,this.min),this._tableRange=Ki(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:n}=this,s=[],o=[];let r,a,c,l,h;for(r=0,a=t.length;r<a;++r)l=t[r],l>=i&&l<=n&&s.push(l);if(s.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(r=0,a=s.length;r<a;++r)h=s[r+1],c=s[r-1],l=s[r],Math.round((h+c)/2)!==l&&o.push({time:l,pos:r/(a-1)});return o}_generate(){const t=this.min,i=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?t=this.normalize(i.concat(n)):t=i.length?i:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Ki(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return Ki(this._table,n*this._tableRange+this._minPos,!0)}}B(Pr,"id","timeseries"),B(Pr,"defaults",bn.defaults);var op=Object.defineProperty,rp=Object.getOwnPropertyDescriptor,vc=(e,t,i,n)=>{for(var s=n>1?void 0:n?rp(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&op(t,i,s),s};Dt.register(Pf,Zi,As,bs,sn,Xe);let xs=class extends mt{constructor(){super(),this.chartdata=[]}updated(e){var t;super.updated(e),e.has("chartdata")&&(this.chartSubComponent.data.datasets[0].data=this.chartdata,this.chartSubComponent.data.labels=this.chartdata,(t=this.chartSubComponent)==null||t.update())}firstUpdated(){const e=this.renderRoot.querySelector("canvas").getContext("2d");this.chartSubComponent=new Dt(e,{type:"line",data:{labels:this.chartdata,datasets:[{data:this.chartdata,borderWidth:1,tension:.3}]},options:{plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{position:"right"}},responsive:!0,maintainAspectRatio:!1}})}static get styles(){return dt`:host{position:absolute;left:24px;height:42px!important;width:calc(100% - 42px);z-index:-100;opacity:.1}:host-context(.expanded){height:240px!important;opacity:.5}`}render(){return S`<canvas></canvas>`}};vc([it({type:Array})],xs.prototype,"chartdata",2);xs=vc([Vt("esp-entity-chart")],xs);const wc=Object.freeze({left:0,top:0,width:16,height:16}),_n=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Si=Object.freeze({...wc,..._n}),ys=Object.freeze({...Si,body:"",hidden:!1}),ap=Object.freeze({width:null,height:null}),Ec=Object.freeze({...ap,..._n});function cp(e,t=0){const i=e.replace(/^-?[0-9.]*/,"");function n(s){for(;s<0;)s+=4;return s%4}if(i===""){const s=parseInt(e);return isNaN(s)?0:n(s)}else if(i!==e){let s=0;switch(i){case"%":s=25;break;case"deg":s=90}if(s){let o=parseFloat(e.slice(0,e.length-i.length));return isNaN(o)?0:(o=o/s,o%1===0?n(o):0)}}return t}const lp=/[\s,]+/;function hp(e,t){t.split(lp).forEach(i=>{switch(i.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const kc={...Ec,preserveAspectRatio:""};function Qr(e){const t={...kc},i=(n,s)=>e.getAttribute(n)||s;return t.width=i("width",null),t.height=i("height",null),t.rotate=cp(i("rotate","")),hp(t,i("flip","")),t.preserveAspectRatio=i("preserveAspectRatio",i("preserveaspectratio","")),t}function up(e,t){for(const i in kc)if(e[i]!==t[i])return!0;return!1}const si=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ii=(e,t,i,n="")=>{const s=e.split(":");if(e.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;n=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const a=s.pop(),c=s.pop(),l={provider:s.length>0?s[0]:n,prefix:c,name:a};return t&&!on(l)?null:l}const o=s[0],r=o.split("-");if(r.length>1){const a={provider:n,prefix:r.shift(),name:r.join("-")};return t&&!on(a)?null:a}if(i&&n===""){const a={provider:n,prefix:"",name:o};return t&&!on(a,i)?null:a}return null},on=(e,t)=>e?!!((e.provider===""||e.provider.match(si))&&(t&&e.prefix===""||e.prefix.match(si))&&e.name.match(si)):!1;function dp(e,t){const i={};!e.hFlip!=!t.hFlip&&(i.hFlip=!0),!e.vFlip!=!t.vFlip&&(i.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(i.rotate=n),i}function Lr(e,t){const i=dp(e,t);for(const n in ys)n in _n?n in e&&!(n in i)&&(i[n]=_n[n]):n in t?i[n]=t[n]:n in e&&(i[n]=e[n]);return i}function fp(e,t){const i=e.icons,n=e.aliases||Object.create(null),s=Object.create(null);function o(r){if(i[r])return s[r]=[];if(!(r in s)){s[r]=null;const a=n[r]&&n[r].parent,c=a&&o(a);c&&(s[r]=[a].concat(c))}return s[r]}return(t||Object.keys(i).concat(Object.keys(n))).forEach(o),s}function pp(e,t,i){const n=e.icons,s=e.aliases||Object.create(null);let o={};function r(a){o=Lr(n[a]||s[a],o)}return r(t),i.forEach(r),Lr(e,o)}function Bc(e,t){const i=[];if(typeof e!="object"||typeof e.icons!="object")return i;e.not_found instanceof Array&&e.not_found.forEach(s=>{t(s,null),i.push(s)});const n=fp(e);for(const s in n){const o=n[s];o&&(t(s,pp(e,s,o)),i.push(s))}return i}const gp={provider:"",aliases:{},not_found:{},...wc};function ts(e,t){for(const i in t)if(i in e&&typeof e[i]!=typeof t[i])return!1;return!0}function Cc(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!ts(e,gp))return null;const i=t.icons;for(const s in i){const o=i[s];if(!s.match(si)||typeof o.body!="string"||!ts(o,ys))return null}const n=t.aliases||Object.create(null);for(const s in n){const o=n[s],r=o.parent;if(!s.match(si)||typeof r!="string"||!i[r]&&!n[r]||!ts(o,ys))return null}return t}const xn=Object.create(null);function mp(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Ut(e,t){const i=xn[e]||(xn[e]=Object.create(null));return i[t]||(i[t]=mp(e,t))}function eo(e,t){return Cc(t)?Bc(t,(i,n)=>{n?e.icons[i]=n:e.missing.add(i)}):[]}function Ap(e,t,i){try{if(typeof i.body=="string")return e.icons[t]={...i},!0}catch{}return!1}function bp(e,t){let i=[];return(typeof e=="string"?[e]:Object.keys(xn)).forEach(s=>{(typeof s=="string"&&typeof t=="string"?[t]:Object.keys(xn[s]||{})).forEach(r=>{const a=Ut(s,r);i=i.concat(Object.keys(a.icons).map(c=>(s!==""?"@"+s+":":"")+r+":"+c))})}),i}let pi=!1;function Mc(e){return typeof e=="boolean"&&(pi=e),pi}function gi(e){const t=typeof e=="string"?Ii(e,!0,pi):e;if(t){const i=Ut(t.provider,t.prefix),n=t.name;return i.icons[n]||(i.missing.has(n)?null:void 0)}}function Sc(e,t){const i=Ii(e,!0,pi);if(!i)return!1;const n=Ut(i.provider,i.prefix);return Ap(n,i.name,t)}function $r(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),pi&&!t&&!e.prefix){let s=!1;return Cc(e)&&(e.prefix="",Bc(e,(o,r)=>{r&&Sc(o,r)&&(s=!0)})),s}const i=e.prefix;if(!on({provider:t,prefix:i,name:"a"}))return!1;const n=Ut(t,i);return!!eo(n,e)}function _p(e){return!!gi(e)}function xp(e){const t=gi(e);return t?{...Si,...t}:null}function yp(e){const t={loaded:[],missing:[],pending:[]},i=Object.create(null);e.sort((s,o)=>s.provider!==o.provider?s.provider.localeCompare(o.provider):s.prefix!==o.prefix?s.prefix.localeCompare(o.prefix):s.name.localeCompare(o.name));let n={provider:"",prefix:"",name:""};return e.forEach(s=>{if(n.name===s.name&&n.prefix===s.prefix&&n.provider===s.provider)return;n=s;const o=s.provider,r=s.prefix,a=s.name,c=i[o]||(i[o]=Object.create(null)),l=c[r]||(c[r]=Ut(o,r));let h;a in l.icons?h=t.loaded:r===""||l.missing.has(a)?h=t.missing:h=t.pending;const u={provider:o,prefix:r,name:a};h.push(u)}),t}function Ic(e,t){e.forEach(i=>{const n=i.loaderCallbacks;n&&(i.loaderCallbacks=n.filter(s=>s.id!==t))})}function vp(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let i=!1;const n=e.provider,s=e.prefix;t.forEach(o=>{const r=o.icons,a=r.pending.length;r.pending=r.pending.filter(c=>{if(c.prefix!==s)return!0;const l=c.name;if(e.icons[l])r.loaded.push({provider:n,prefix:s,name:l});else if(e.missing.has(l))r.missing.push({provider:n,prefix:s,name:l});else return i=!0,!0;return!1}),r.pending.length!==a&&(i||Ic([e],o.id),o.callback(r.loaded.slice(0),r.missing.slice(0),r.pending.slice(0),o.abort))})}))}let wp=0;function Ep(e,t,i){const n=wp++,s=Ic.bind(null,i,n);if(!t.pending.length)return s;const o={id:n,icons:t,callback:e,abort:s};return i.forEach(r=>{(r.loaderCallbacks||(r.loaderCallbacks=[])).push(o)}),s}const vs=Object.create(null);function Nr(e,t){vs[e]=t}function ws(e){return vs[e]||vs[""]}function kp(e,t=!0,i=!1){const n=[];return e.forEach(s=>{const o=typeof s=="string"?Ii(s,t,i):s;o&&n.push(o)}),n}var Bp={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Cp(e,t,i,n){const s=e.resources.length,o=e.random?Math.floor(Math.random()*s):e.index;let r;if(e.random){let _=e.resources.slice(0);for(r=[];_.length>1;){const x=Math.floor(Math.random()*_.length);r.push(_[x]),_=_.slice(0,x).concat(_.slice(x+1))}r=r.concat(_)}else r=e.resources.slice(o).concat(e.resources.slice(0,o));const a=Date.now();let c="pending",l=0,h,u=null,d=[],p=[];typeof n=="function"&&p.push(n);function g(){u&&(clearTimeout(u),u=null)}function m(){c==="pending"&&(c="aborted"),g(),d.forEach(_=>{_.status==="pending"&&(_.status="aborted")}),d=[]}function b(_,x){x&&(p=[]),typeof _=="function"&&p.push(_)}function w(){return{startTime:a,payload:t,status:c,queriesSent:l,queriesPending:d.length,subscribe:b,abort:m}}function v(){c="failed",p.forEach(_=>{_(void 0,h)})}function E(){d.forEach(_=>{_.status==="pending"&&(_.status="aborted")}),d=[]}function M(_,x,y){const I=x!=="success";switch(d=d.filter(D=>D!==_),c){case"pending":break;case"failed":if(I||!e.dataAfterTimeout)return;break;default:return}if(x==="abort"){h=y,v();return}if(I){h=y,d.length||(r.length?A():v());return}if(g(),E(),!e.random){const D=e.resources.indexOf(_.resource);D!==-1&&D!==e.index&&(e.index=D)}c="completed",p.forEach(D=>{D(y)})}function A(){if(c!=="pending")return;g();const _=r.shift();if(_===void 0){if(d.length){u=setTimeout(()=>{g(),c==="pending"&&(E(),v())},e.timeout);return}v();return}const x={status:"pending",resource:_,callback:(y,I)=>{M(x,y,I)}};d.push(x),l++,u=setTimeout(A,e.rotate),i(_,t,x.callback)}return setTimeout(A),w}function Dc(e){const t={...Bp,...e};let i=[];function n(){i=i.filter(a=>a().status==="pending")}function s(a,c,l){const h=Cp(t,a,c,(u,d)=>{n(),l&&l(u,d)});return i.push(h),h}function o(a){return i.find(c=>a(c))||null}return{query:s,find:o,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:n}}function io(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const On=Object.create(null),Ge=["https://api.simplesvg.com","https://api.unisvg.com"],rn=[];for(;Ge.length>0;)Ge.length===1||Math.random()>.5?rn.push(Ge.shift()):rn.push(Ge.pop());On[""]=io({resources:["https://api.iconify.design"].concat(rn)});function zr(e,t){const i=io(t);return i===null?!1:(On[e]=i,!0)}function Tn(e){return On[e]}function Mp(){return Object.keys(On)}function Hr(){}const es=Object.create(null);function Sp(e){if(!es[e]){const t=Tn(e);if(!t)return;const i=Dc(t),n={config:t,redundancy:i};es[e]=n}return es[e]}function Rc(e,t,i){let n,s;if(typeof e=="string"){const o=ws(e);if(!o)return i(void 0,424),Hr;s=o.send;const r=Sp(e);r&&(n=r.redundancy)}else{const o=io(e);if(o){n=Dc(o);const r=e.resources?e.resources[0]:"",a=ws(r);a&&(s=a.send)}}return!n||!s?(i(void 0,424),Hr):n.query(t,s,i)().abort}const Yr="iconify2",mi="iconify",Oc=mi+"-count",Ur=mi+"-version",Tc=36e5,Ip=168;function Es(e,t){try{return e.getItem(t)}catch{}}function no(e,t,i){try{return e.setItem(t,i),!0}catch{}}function jr(e,t){try{e.removeItem(t)}catch{}}function ks(e,t){return no(e,Oc,t.toString())}function Bs(e){return parseInt(Es(e,Oc))||0}const ae={local:!0,session:!0},Fc={local:new Set,session:new Set};let so=!1;function Dp(e){so=e}let Ji=typeof window=="undefined"?{}:window;function Pc(e){const t=e+"Storage";try{if(Ji&&Ji[t]&&typeof Ji[t].length=="number")return Ji[t]}catch{}ae[e]=!1}function Qc(e,t){const i=Pc(e);if(!i)return;const n=Es(i,Ur);if(n!==Yr){if(n){const a=Bs(i);for(let c=0;c<a;c++)jr(i,mi+c.toString())}no(i,Ur,Yr),ks(i,0);return}const s=Math.floor(Date.now()/Tc)-Ip,o=a=>{const c=mi+a.toString(),l=Es(i,c);if(typeof l=="string"){try{const h=JSON.parse(l);if(typeof h=="object"&&typeof h.cached=="number"&&h.cached>s&&typeof h.provider=="string"&&typeof h.data=="object"&&typeof h.data.prefix=="string"&&t(h,a))return!0}catch{}jr(i,c)}};let r=Bs(i);for(let a=r-1;a>=0;a--)o(a)||(a===r-1?(r--,ks(i,r)):Fc[e].add(a))}function Lc(){if(!so){Dp(!0);for(const e in ae)Qc(e,t=>{const i=t.data,n=t.provider,s=i.prefix,o=Ut(n,s);if(!eo(o,i).length)return!1;const r=i.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,r):r,!0})}}function Rp(e,t){const i=e.lastModifiedCached;if(i&&i>=t)return i===t;if(e.lastModifiedCached=t,i)for(const n in ae)Qc(n,s=>{const o=s.data;return s.provider!==e.provider||o.prefix!==e.prefix||o.lastModified===t});return!0}function Op(e,t){so||Lc();function i(n){let s;if(!ae[n]||!(s=Pc(n)))return;const o=Fc[n];let r;if(o.size)o.delete(r=Array.from(o).shift());else if(r=Bs(s),!ks(s,r+1))return;const a={cached:Math.floor(Date.now()/Tc),provider:e.provider,data:t};return no(s,mi+r.toString(),JSON.stringify(a))}t.lastModified&&!Rp(e,t.lastModified)||!Object.keys(t.icons).length||(t.not_found&&(t=Object.assign({},t),delete t.not_found),i("local")||i("session"))}function Vr(){}function Tp(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,vp(e)}))}function Fp(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:i,prefix:n}=e,s=e.iconsToLoad;delete e.iconsToLoad;let o;if(!s||!(o=ws(i)))return;o.prepare(i,n,s).forEach(a=>{Rc(i,a,c=>{if(typeof c!="object")a.icons.forEach(l=>{e.missing.add(l)});else try{const l=eo(e,c);if(!l.length)return;const h=e.pendingIcons;h&&l.forEach(u=>{h.delete(u)}),Op(e,c)}catch(l){console.error(l)}Tp(e)})})}))}const oo=(e,t)=>{const i=kp(e,!0,Mc()),n=yp(i);if(!n.pending.length){let c=!0;return t&&setTimeout(()=>{c&&t(n.loaded,n.missing,n.pending,Vr)}),()=>{c=!1}}const s=Object.create(null),o=[];let r,a;return n.pending.forEach(c=>{const{provider:l,prefix:h}=c;if(h===a&&l===r)return;r=l,a=h,o.push(Ut(l,h));const u=s[l]||(s[l]=Object.create(null));u[h]||(u[h]=[])}),n.pending.forEach(c=>{const{provider:l,prefix:h,name:u}=c,d=Ut(l,h),p=d.pendingIcons||(d.pendingIcons=new Set);p.has(u)||(p.add(u),s[l][h].push(u))}),o.forEach(c=>{const{provider:l,prefix:h}=c;s[l][h].length&&Fp(c,s[l][h])}),t?Ep(t,n,o):Vr},Pp=e=>new Promise((t,i)=>{const n=typeof e=="string"?Ii(e,!0):e;if(!n){i(e);return}oo([n||e],s=>{if(s.length&&n){const o=gi(n);if(o){t({...Si,...o});return}}i(e)})});function Qp(e){try{const t=typeof e=="string"?JSON.parse(e):e;if(typeof t.body=="string")return{...t}}catch{}}function Lp(e,t){const i=typeof e=="string"?Ii(e,!0,!0):null;if(!i){const o=Qp(e);return{value:e,data:o}}const n=gi(i);if(n!==void 0||!i.prefix)return{value:e,name:i,data:n};const s=oo([i],()=>t(e,i,gi(i)));return{value:e,name:i,loading:s}}function is(e){return e.hasAttribute("inline")}let $c=!1;try{$c=navigator.vendor.indexOf("Apple")===0}catch{}function $p(e,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&($c||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const Np=/(-?[0-9.]*[0-9]+[0-9.]*)/g,zp=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Cs(e,t,i){if(t===1)return e;if(i=i||100,typeof e=="number")return Math.ceil(e*t*i)/i;if(typeof e!="string")return e;const n=e.split(Np);if(n===null||!n.length)return e;const s=[];let o=n.shift(),r=zp.test(o);for(;;){if(r){const a=parseFloat(o);isNaN(a)?s.push(o):s.push(Math.ceil(a*t*i)/i)}else s.push(o);if(o=n.shift(),o===void 0)return s.join("");r=!r}}const Hp=e=>e==="unset"||e==="undefined"||e==="none";function Nc(e,t){const i={...Si,...e},n={...Ec,...t},s={left:i.left,top:i.top,width:i.width,height:i.height};let o=i.body;[i,n].forEach(g=>{const m=[],b=g.hFlip,w=g.vFlip;let v=g.rotate;b?w?v+=2:(m.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),m.push("scale(-1 1)"),s.top=s.left=0):w&&(m.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),m.push("scale(1 -1)"),s.top=s.left=0);let E;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:E=s.height/2+s.top,m.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:m.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:E=s.width/2+s.left,m.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}v%2===1&&(s.left!==s.top&&(E=s.left,s.left=s.top,s.top=E),s.width!==s.height&&(E=s.width,s.width=s.height,s.height=E)),m.length&&(o='<g transform="'+m.join(" ")+'">'+o+"</g>")});const r=n.width,a=n.height,c=s.width,l=s.height;let h,u;r===null?(u=a===null?"1em":a==="auto"?l:a,h=Cs(u,c/l)):(h=r==="auto"?c:r,u=a===null?Cs(h,l/c):a==="auto"?l:a);const d={},p=(g,m)=>{Hp(m)||(d[g]=m.toString())};return p("width",h),p("height",u),d.viewBox=s.left.toString()+" "+s.top.toString()+" "+c.toString()+" "+l.toString(),{attributes:d,body:o}}const Yp=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let yn=Yp();function Up(e){yn=e}function jp(){return yn}function Vp(e,t){const i=Tn(e);if(!i)return 0;let n;if(!i.maxURL)n=0;else{let s=0;i.resources.forEach(r=>{s=Math.max(s,r.length)});const o=t+".json?icons=";n=i.maxURL-s-i.path.length-o.length}return n}function Gp(e){return e===404}const Wp=(e,t,i)=>{const n=[],s=Vp(e,t),o="icons";let r={type:o,provider:e,prefix:t,icons:[]},a=0;return i.forEach((c,l)=>{a+=c.length+1,a>=s&&l>0&&(n.push(r),r={type:o,provider:e,prefix:t,icons:[]},a=c.length),r.icons.push(c)}),n.push(r),n};function Kp(e){if(typeof e=="string"){const t=Tn(e);if(t)return t.path}return"/"}const Jp=(e,t,i)=>{if(!yn){i("abort",424);return}let n=Kp(t.provider);switch(t.type){case"icons":{const o=t.prefix,a=t.icons.join(","),c=new URLSearchParams({icons:a});n+=o+".json?"+c.toString();break}case"custom":{const o=t.uri;n+=o.slice(0,1)==="/"?o.slice(1):o;break}default:i("abort",400);return}let s=503;yn(e+n).then(o=>{const r=o.status;if(r!==200){setTimeout(()=>{i(Gp(r)?"abort":"next",r)});return}return s=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?i("abort",o):i("next",s)});return}setTimeout(()=>{i("success",o)})}).catch(()=>{i("next",s)})},qp={prepare:Wp,send:Jp};function Gr(e,t){switch(e){case"local":case"session":ae[e]=t;break;case"all":for(const i in ae)ae[i]=t;break}}const ns="data-style";let zc="";function Xp(e){zc=e}function Wr(e,t){let i=Array.from(e.childNodes).find(n=>n.hasAttribute&&n.hasAttribute(ns));i||(i=document.createElement("style"),i.setAttribute(ns,ns),e.appendChild(i)),i.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+zc}function Hc(){Nr("",qp),Mc(!0);let e;try{e=window}catch{}if(e){if(Lc(),e.IconifyPreload!==void 0){const i=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof i=="object"&&i!==null&&(i instanceof Array?i:[i]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!$r(s))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const i=e.IconifyProviders;if(typeof i=="object"&&i!==null)for(const n in i){const s="IconifyProviders["+n+"] is invalid.";try{const o=i[n];if(typeof o!="object"||!o||o.resources===void 0)continue;zr(n,o)||console.error(s)}catch{console.error(s)}}}}return{enableCache:i=>Gr(i,!0),disableCache:i=>Gr(i,!1),iconExists:_p,getIcon:xp,listIcons:bp,addIcon:Sc,addCollection:$r,calculateSize:Cs,buildIcon:Nc,loadIcons:oo,loadIcon:Pp,addAPIProvider:zr,appendCustomStyle:Xp,_api:{getAPIConfig:Tn,setAPIModule:Nr,sendAPIQuery:Rc,setFetch:Up,getFetch:jp,listAPIProviders:Mp}}}function Yc(e,t){let i=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)i+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+e+"</svg>"}function Zp(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function tg(e){return"data:image/svg+xml,"+Zp(e)}function eg(e){return'url("'+tg(e)+'")'}const Ms={"background-color":"currentColor"},Uc={"background-color":"transparent"},Kr={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Jr={"-webkit-mask":Ms,mask:Ms,background:Uc};for(const e in Jr){const t=Jr[e];for(const i in Kr)t[e+"-"+i]=Kr[i]}function qr(e){return e?e+(e.match(/^[-0-9.]+$/)?"px":""):"inherit"}function ig(e,t,i){const n=document.createElement("span");let s=e.body;s.indexOf("<a")!==-1&&(s+="<!-- "+Date.now()+" -->");const o=e.attributes,r=Yc(s,{...o,width:t.width+"",height:t.height+""}),a=eg(r),c=n.style,l={"--svg":a,width:qr(o.width),height:qr(o.height),...i?Ms:Uc};for(const h in l)c.setProperty(h,l[h]);return n}let oi;function ng(){try{oi=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{oi=null}}function sg(e){return oi===void 0&&ng(),oi?oi.createHTML(e):e}function og(e){const t=document.createElement("span"),i=e.attributes;let n="";i.width||(n="width: inherit;"),i.height||(n+="height: inherit;"),n&&(i.style=n);const s=Yc(e.body,i);return t.innerHTML=sg(s),t.firstChild}function Xr(e,t){const i=t.icon.data,n=t.customisations,s=Nc(i,n);n.preserveAspectRatio&&(s.attributes.preserveAspectRatio=n.preserveAspectRatio);const o=t.renderedMode;let r;switch(o){case"svg":r=og(s);break;default:r=ig(s,{...Si,...i},o==="mask")}const a=Array.from(e.childNodes).find(c=>{const l=c.tagName&&c.tagName.toUpperCase();return l==="SPAN"||l==="SVG"});a?r.tagName==="SPAN"&&a.tagName===r.tagName?a.setAttribute("style",r.getAttribute("style")):e.replaceChild(r,a):e.appendChild(r)}function Zr(e,t,i){const n=i&&(i.rendered?i:i.lastRender);return{rendered:!1,inline:t,icon:e,lastRender:n}}function rg(e="iconify-icon"){let t,i;try{t=window.customElements,i=window.HTMLElement}catch{return}if(!t||!i)return;const n=t.get(e);if(n)return n;const s=["icon","mode","inline","width","height","rotate","flip"],o=class extends i{constructor(){super();B(this,"_shadowRoot");B(this,"_state");B(this,"_checkQueued",!1);const c=this._shadowRoot=this.attachShadow({mode:"open"}),l=is(this);Wr(c,l),this._state=Zr({value:""},l),this._queueCheck()}static get observedAttributes(){return s.slice(0)}attributeChangedCallback(c){if(c==="inline"){const l=is(this),h=this._state;l!==h.inline&&(h.inline=l,Wr(this._shadowRoot,l))}else this._queueCheck()}get icon(){const c=this.getAttribute("icon");if(c&&c.slice(0,1)==="{")try{return JSON.parse(c)}catch{}return c}set icon(c){typeof c=="object"&&(c=JSON.stringify(c)),this.setAttribute("icon",c)}get inline(){return is(this)}set inline(c){c?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const c=this._state;if(c.rendered){const l=this._shadowRoot;if(c.renderedMode==="svg")try{l.lastChild.setCurrentTime(0);return}catch{}Xr(l,c)}}get status(){const c=this._state;return c.rendered?"rendered":c.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const c=this._state,l=this.getAttribute("icon");if(l!==c.icon.value){this._iconChanged(l);return}if(!c.rendered)return;const h=this.getAttribute("mode"),u=Qr(this);(c.attrMode!==h||up(c.customisations,u))&&this._renderIcon(c.icon,u,h)}_iconChanged(c){const l=Lp(c,(h,u,d)=>{const p=this._state;if(p.rendered||this.getAttribute("icon")!==h)return;const g={value:h,name:u,data:d};g.data?this._gotIconData(g):p.icon=g});l.data?this._gotIconData(l):this._state=Zr(l,this._state.inline,this._state)}_gotIconData(c){this._checkQueued=!1,this._renderIcon(c,Qr(this),this.getAttribute("mode"))}_renderIcon(c,l,h){const u=$p(c.data.body,h),d=this._state.inline;Xr(this._shadowRoot,this._state={rendered:!0,icon:c,inline:d,customisations:l,attrMode:h,renderedMode:u})}};s.forEach(a=>{a in o.prototype||Object.defineProperty(o.prototype,a,{get:function(){return this.getAttribute(a)},set:function(c){c!==null?this.setAttribute(a,c):this.removeAttribute(a)}})});const r=Hc();for(const a in r)o[a]=o.prototype[a]=r[a];return t.define(e,o),o}rg()||Hc();var Ma,Sa,Ia,Da,Ra,Oa;const ta=((Ma=typeof globalThis!="undefined"?globalThis:void 0)==null?void 0:Ma.crypto)||((Sa=typeof global!="undefined"?global:void 0)==null?void 0:Sa.crypto)||((Ia=typeof window!="undefined"?window:void 0)==null?void 0:Ia.crypto)||((Da=typeof self!="undefined"?self:void 0)==null?void 0:Da.crypto)||((Oa=(Ra=typeof frames!="undefined"?frames:void 0)==null?void 0:Ra[0])==null?void 0:Oa.crypto);let Ss;ta?Ss=e=>{const t=[];for(let i=0,n;i<e;i+=4)t.push(ta.getRandomValues(new Uint32Array(1))[0]);return new K(t,e)}:Ss=e=>{const t=[],i=n=>{let s=n,o=987654321;const r=4294967295;return()=>{o=36969*(o&65535)+(o>>16)&r,s=18e3*(s&65535)+(s>>16)&r;let a=(o<<16)+s&r;return a/=4294967296,a+=.5,a*(Math.random()>.5?1:-1)}};for(let n=0,s;n<e;n+=4){const o=i((s||Math.random())*4294967296);s=o()*987654071,t.push(o()*4294967296|0)}return new K(t,e)};class rt{static create(...t){return new this(...t)}mixIn(t){return Object.assign(this,t)}clone(){const t=new this.constructor;return Object.assign(t,this),t}}class K extends rt{constructor(t=[],i=t.length*4){super();let n=t;if(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),(n instanceof Int8Array||n instanceof Uint8ClampedArray||n instanceof Int16Array||n instanceof Uint16Array||n instanceof Int32Array||n instanceof Uint32Array||n instanceof Float32Array||n instanceof Float64Array)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),n instanceof Uint8Array){const s=n.byteLength,o=[];for(let r=0;r<s;r+=1)o[r>>>2]|=n[r]<<24-r%4*8;this.words=o,this.sigBytes=s}else this.words=t,this.sigBytes=i}toString(t=ag){return t.stringify(this)}concat(t){const i=this.words,n=t.words,s=this.sigBytes,o=t.sigBytes;if(this.clamp(),s%4)for(let r=0;r<o;r+=1){const a=n[r>>>2]>>>24-r%4*8&255;i[s+r>>>2]|=a<<24-(s+r)%4*8}else for(let r=0;r<o;r+=4)i[s+r>>>2]=n[r>>>2];return this.sigBytes+=o,this}clamp(){const{words:t,sigBytes:i}=this;t[i>>>2]&=4294967295<<32-i%4*8,t.length=Math.ceil(i/4)}clone(){const t=super.clone.call(this);return t.words=this.words.slice(0),t}}B(K,"random",Ss);const ag={stringify(e){const{words:t,sigBytes:i}=e,n=[];for(let s=0;s<i;s+=1){const o=t[s>>>2]>>>24-s%4*8&255;n.push((o>>>4).toString(16)),n.push((o&15).toString(16))}return n.join("")},parse(e){const t=e.length,i=[];for(let n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new K(i,t/2)}},ea={stringify(e){const{words:t,sigBytes:i}=e,n=[];for(let s=0;s<i;s+=1){const o=t[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse(e){const t=e.length,i=[];for(let n=0;n<t;n+=1)i[n>>>2]|=(e.charCodeAt(n)&255)<<24-n%4*8;return new K(i,t)}},ro={stringify(e){try{return decodeURIComponent(escape(ea.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse(e){return ea.parse(unescape(encodeURIComponent(e)))}};class jc extends rt{constructor(){super(),this._minBufferSize=0}reset(){this._data=new K,this._nDataBytes=0}_append(t){let i=t;typeof i=="string"&&(i=ro.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes}_process(t){let i;const{_data:n,blockSize:s}=this,o=n.words,r=n.sigBytes,a=s*4;let c=r/a;t?c=Math.ceil(c):c=Math.max((c|0)-this._minBufferSize,0);const l=c*s,h=Math.min(l*4,r);if(l){for(let u=0;u<l;u+=s)this._doProcessBlock(o,u);i=o.splice(0,l),n.sigBytes-=h}return new K(i,h)}clone(){const t=super.clone.call(this);return t._data=this._data.clone(),t}}class Vc extends jc{constructor(t){super(),this.blockSize=512/32,this.cfg=Object.assign(new rt,t),this.reset()}static _createHelper(t){return(i,n)=>new t(n).finalize(i)}static _createHmacHelper(t){return(i,n)=>new Ai(t,n).finalize(i)}reset(){super.reset.call(this),this._doReset()}update(t){return this._append(t),this._process(),this}finalize(t){return t&&this._append(t),this._doFinalize()}}class Ai extends rt{constructor(t,i){super();const n=new t;this._hasher=n;let s=i;typeof s=="string"&&(s=ro.parse(s));const o=n.blockSize,r=o*4;s.sigBytes>r&&(s=n.finalize(i)),s.clamp();const a=s.clone();this._oKey=a;const c=s.clone();this._iKey=c;const l=a.words,h=c.words;for(let u=0;u<o;u+=1)l[u]^=1549556828,h[u]^=909522486;a.sigBytes=r,c.sigBytes=r,this.reset()}reset(){const t=this._hasher;t.reset(),t.update(this._iKey)}update(t){return this._hasher.update(t),this}finalize(t){const i=this._hasher,n=i.finalize(t);return i.reset(),i.finalize(this._oKey.clone().concat(n))}}const cg=(e,t,i)=>{const n=[];let s=0;for(let o=0;o<t;o+=1)if(o%4){const r=i[e.charCodeAt(o-1)]<<o%4*2,a=i[e.charCodeAt(o)]>>>6-o%4*2,c=r|a;n[s>>>2]|=c<<24-s%4*8,s+=1}return K.create(n,s)},Ct={stringify(e){const{words:t,sigBytes:i}=e,n=this._map;e.clamp();const s=[];for(let r=0;r<i;r+=3){const a=t[r>>>2]>>>24-r%4*8&255,c=t[r+1>>>2]>>>24-(r+1)%4*8&255,l=t[r+2>>>2]>>>24-(r+2)%4*8&255,h=a<<16|c<<8|l;for(let u=0;u<4&&r+u*.75<i;u+=1)s.push(n.charAt(h>>>6*(3-u)&63))}const o=n.charAt(64);if(o)for(;s.length%4;)s.push(o);return s.join("")},parse(e){let t=e.length;const i=this._map;let n=this._reverseMap;if(!n){this._reverseMap=[],n=this._reverseMap;for(let o=0;o<i.length;o+=1)n[i.charCodeAt(o)]=o}const s=i.charAt(64);if(s){const o=e.indexOf(s);o!==-1&&(t=o)}return cg(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},k=[];for(let e=0;e<64;e+=1)k[e]=Math.abs(Math.sin(e+1))*4294967296|0;const J=(e,t,i,n,s,o,r)=>{const a=e+(t&i|~t&n)+s+r;return(a<<o|a>>>32-o)+t},q=(e,t,i,n,s,o,r)=>{const a=e+(t&n|i&~n)+s+r;return(a<<o|a>>>32-o)+t},X=(e,t,i,n,s,o,r)=>{const a=e+(t^i^n)+s+r;return(a<<o|a>>>32-o)+t},Z=(e,t,i,n,s,o,r)=>{const a=e+(i^(t|~n))+s+r;return(a<<o|a>>>32-o)+t};class lg extends Vc{_doReset(){this._hash=new K([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(t,i){const n=t;for(let I=0;I<16;I+=1){const D=i+I,T=t[D];n[D]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}const s=this._hash.words,o=n[i+0],r=n[i+1],a=n[i+2],c=n[i+3],l=n[i+4],h=n[i+5],u=n[i+6],d=n[i+7],p=n[i+8],g=n[i+9],m=n[i+10],b=n[i+11],w=n[i+12],v=n[i+13],E=n[i+14],M=n[i+15];let A=s[0],_=s[1],x=s[2],y=s[3];A=J(A,_,x,y,o,7,k[0]),y=J(y,A,_,x,r,12,k[1]),x=J(x,y,A,_,a,17,k[2]),_=J(_,x,y,A,c,22,k[3]),A=J(A,_,x,y,l,7,k[4]),y=J(y,A,_,x,h,12,k[5]),x=J(x,y,A,_,u,17,k[6]),_=J(_,x,y,A,d,22,k[7]),A=J(A,_,x,y,p,7,k[8]),y=J(y,A,_,x,g,12,k[9]),x=J(x,y,A,_,m,17,k[10]),_=J(_,x,y,A,b,22,k[11]),A=J(A,_,x,y,w,7,k[12]),y=J(y,A,_,x,v,12,k[13]),x=J(x,y,A,_,E,17,k[14]),_=J(_,x,y,A,M,22,k[15]),A=q(A,_,x,y,r,5,k[16]),y=q(y,A,_,x,u,9,k[17]),x=q(x,y,A,_,b,14,k[18]),_=q(_,x,y,A,o,20,k[19]),A=q(A,_,x,y,h,5,k[20]),y=q(y,A,_,x,m,9,k[21]),x=q(x,y,A,_,M,14,k[22]),_=q(_,x,y,A,l,20,k[23]),A=q(A,_,x,y,g,5,k[24]),y=q(y,A,_,x,E,9,k[25]),x=q(x,y,A,_,c,14,k[26]),_=q(_,x,y,A,p,20,k[27]),A=q(A,_,x,y,v,5,k[28]),y=q(y,A,_,x,a,9,k[29]),x=q(x,y,A,_,d,14,k[30]),_=q(_,x,y,A,w,20,k[31]),A=X(A,_,x,y,h,4,k[32]),y=X(y,A,_,x,p,11,k[33]),x=X(x,y,A,_,b,16,k[34]),_=X(_,x,y,A,E,23,k[35]),A=X(A,_,x,y,r,4,k[36]),y=X(y,A,_,x,l,11,k[37]),x=X(x,y,A,_,d,16,k[38]),_=X(_,x,y,A,m,23,k[39]),A=X(A,_,x,y,v,4,k[40]),y=X(y,A,_,x,o,11,k[41]),x=X(x,y,A,_,c,16,k[42]),_=X(_,x,y,A,u,23,k[43]),A=X(A,_,x,y,g,4,k[44]),y=X(y,A,_,x,w,11,k[45]),x=X(x,y,A,_,M,16,k[46]),_=X(_,x,y,A,a,23,k[47]),A=Z(A,_,x,y,o,6,k[48]),y=Z(y,A,_,x,d,10,k[49]),x=Z(x,y,A,_,E,15,k[50]),_=Z(_,x,y,A,h,21,k[51]),A=Z(A,_,x,y,w,6,k[52]),y=Z(y,A,_,x,c,10,k[53]),x=Z(x,y,A,_,m,15,k[54]),_=Z(_,x,y,A,r,21,k[55]),A=Z(A,_,x,y,p,6,k[56]),y=Z(y,A,_,x,M,10,k[57]),x=Z(x,y,A,_,u,15,k[58]),_=Z(_,x,y,A,v,21,k[59]),A=Z(A,_,x,y,l,6,k[60]),y=Z(y,A,_,x,b,10,k[61]),x=Z(x,y,A,_,a,15,k[62]),_=Z(_,x,y,A,g,21,k[63]),s[0]=s[0]+A|0,s[1]=s[1]+_|0,s[2]=s[2]+x|0,s[3]=s[3]+y|0}_doFinalize(){const t=this._data,i=t.words,n=this._nDataBytes*8,s=t.sigBytes*8;i[s>>>5]|=128<<24-s%32;const o=Math.floor(n/4294967296),r=n;i[(s+64>>>9<<4)+15]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,i[(s+64>>>9<<4)+14]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,t.sigBytes=(i.length+1)*4,this._process();const a=this._hash,c=a.words;for(let l=0;l<4;l+=1){const h=c[l];c[l]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360}return a}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}class ia extends rt{constructor(t){super(),this.cfg=Object.assign(new rt,{keySize:128/32,hasher:lg,iterations:1},t)}compute(t,i){let n;const{cfg:s}=this,o=s.hasher.create(),r=K.create(),a=r.words,{keySize:c,iterations:l}=s;for(;a.length<c;){n&&o.update(n),n=o.update(t).finalize(i),o.reset();for(let h=1;h<l;h+=1)n=o.finalize(n),o.reset();r.concat(n)}return r.sigBytes=c*4,r}}class Di extends jc{constructor(t,i,n){super(),this.cfg=Object.assign(new rt,n),this._xformMode=t,this._key=i,this.reset()}static createEncryptor(t,i){return this.create(this._ENC_XFORM_MODE,t,i)}static createDecryptor(t,i){return this.create(this._DEC_XFORM_MODE,t,i)}static _createHelper(t){const i=n=>typeof n=="string"?Kc:ke;return{encrypt(n,s,o){return i(s).encrypt(t,n,s,o)},decrypt(n,s,o){return i(s).decrypt(t,n,s,o)}}}reset(){super.reset.call(this),this._doReset()}process(t){return this._append(t),this._process()}finalize(t){return t&&this._append(t),this._doFinalize()}}Di._ENC_XFORM_MODE=1;Di._DEC_XFORM_MODE=2;Di.keySize=128/32;Di.ivSize=128/32;class hg extends rt{constructor(t,i){super(),this._cipher=t,this._iv=i}static createEncryptor(t,i){return this.Encryptor.create(t,i)}static createDecryptor(t,i){return this.Decryptor.create(t,i)}}function Gc(e,t,i){const n=e;let s;const o=this._iv;o?(s=o,this._iv=void 0):s=this._prevBlock;for(let r=0;r<i;r+=1)n[t+r]^=s[r]}class ue extends hg{}ue.Encryptor=class extends ue{processBlock(e,t){const i=this._cipher,{blockSize:n}=i;Gc.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}};ue.Decryptor=class extends ue{processBlock(e,t){const i=this._cipher,{blockSize:n}=i,s=e.slice(t,t+n);i.decryptBlock(e,t),Gc.call(this,e,t,n),this._prevBlock=s}};const ao={pad(e,t){const i=t*4,n=i-e.sigBytes%i,s=n<<24|n<<16|n<<8|n,o=[];for(let a=0;a<n;a+=4)o.push(s);const r=K.create(o,n);e.concat(r)},unpad(e){const t=e,i=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=i}};class Wc extends Di{constructor(t,i,n){super(t,i,Object.assign({mode:ue,padding:ao},n)),this.blockSize=128/32}reset(){let t;super.reset.call(this);const{cfg:i}=this,{iv:n,mode:s}=i;this._xformMode===this.constructor._ENC_XFORM_MODE?t=s.createEncryptor:(t=s.createDecryptor,this._minBufferSize=1),this._mode=t.call(s,this,n&&n.words),this._mode.__creator=t}_doProcessBlock(t,i){this._mode.processBlock(t,i)}_doFinalize(){let t;const{padding:i}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(i.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),i.unpad(t)),t}}class co extends rt{constructor(t){super(),this.mixIn(t)}toString(t){return(t||this.formatter).stringify(this)}}const ug={stringify(e){let t;const{ciphertext:i,salt:n}=e;return n?t=K.create([1398893684,1701076831]).concat(n).concat(i):t=i,t.toString(Ct)},parse(e){let t;const i=Ct.parse(e),n=i.words;return n[0]===1398893684&&n[1]===1701076831&&(t=K.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),co.create({ciphertext:i,salt:t})}};class ke extends rt{static encrypt(t,i,n,s){const o=Object.assign(new rt,this.cfg,s),r=t.createEncryptor(n,o),a=r.finalize(i),c=r.cfg;return co.create({ciphertext:a,key:n,iv:c.iv,algorithm:t,mode:c.mode,padding:c.padding,blockSize:r.blockSize,formatter:o.format})}static decrypt(t,i,n,s){let o=i;const r=Object.assign(new rt,this.cfg,s);return o=this._parse(o,r.format),t.createDecryptor(n,r).finalize(o.ciphertext)}static _parse(t,i){return typeof t=="string"?i.parse(t,this):t}}ke.cfg=Object.assign(new rt,{format:ug});const dg={execute(e,t,i,n,s){let o=n;o||(o=K.random(64/8));let r;s?r=ia.create({keySize:t+i,hasher:s}).compute(e,o):r=ia.create({keySize:t+i}).compute(e,o);const a=K.create(r.words.slice(t),i*4);return r.sigBytes=t*4,co.create({key:r,iv:a,salt:o})}};class Kc extends ke{static encrypt(t,i,n,s){const o=Object.assign(new rt,this.cfg,s),r=o.kdf.execute(n,t.keySize,t.ivSize,o.salt,o.hasher);o.iv=r.iv;const a=ke.encrypt.call(this,t,i,r.key,o);return a.mixIn(r),a}static decrypt(t,i,n,s){let o=i;const r=Object.assign(new rt,this.cfg,s);o=this._parse(o,r.format);const a=r.kdf.execute(n,t.keySize,t.ivSize,o.salt,r.hasher);return r.iv=a.iv,ke.decrypt.call(this,t,o,a.key,r)}}Kc.cfg=Object.assign(ke.cfg,{kdf:dg});const at=[],Jc=[],qc=[],Xc=[],Zc=[],tl=[],Is=[],Ds=[],Rs=[],Os=[],_t=[];for(let e=0;e<256;e+=1)e<128?_t[e]=e<<1:_t[e]=e<<1^283;let bt=0,Mt=0;for(let e=0;e<256;e+=1){let t=Mt^Mt<<1^Mt<<2^Mt<<3^Mt<<4;t=t>>>8^t&255^99,at[bt]=t,Jc[t]=bt;const i=_t[bt],n=_t[i],s=_t[n];let o=_t[t]*257^t*16843008;qc[bt]=o<<24|o>>>8,Xc[bt]=o<<16|o>>>16,Zc[bt]=o<<8|o>>>24,tl[bt]=o,o=s*16843009^n*65537^i*257^bt*16843008,Is[t]=o<<24|o>>>8,Ds[t]=o<<16|o>>>16,Rs[t]=o<<8|o>>>24,Os[t]=o,bt?(bt=i^_t[_t[_t[s^i]]],Mt^=_t[_t[Mt]]):(Mt=1,bt=Mt)}const fg=[0,1,2,4,8,16,32,64,128,27,54];class el extends Wc{_doReset(){let t;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const i=this._keyPriorReset,n=i.words,s=i.sigBytes/4;this._nRounds=s+6;const r=(this._nRounds+1)*4;this._keySchedule=[];const a=this._keySchedule;for(let l=0;l<r;l+=1)l<s?a[l]=n[l]:(t=a[l-1],l%s?s>6&&l%s===4&&(t=at[t>>>24]<<24|at[t>>>16&255]<<16|at[t>>>8&255]<<8|at[t&255]):(t=t<<8|t>>>24,t=at[t>>>24]<<24|at[t>>>16&255]<<16|at[t>>>8&255]<<8|at[t&255],t^=fg[l/s|0]<<24),a[l]=a[l-s]^t);this._invKeySchedule=[];const c=this._invKeySchedule;for(let l=0;l<r;l+=1){const h=r-l;l%4?t=a[h]:t=a[h-4],l<4||h<=4?c[l]=t:c[l]=Is[at[t>>>24]]^Ds[at[t>>>16&255]]^Rs[at[t>>>8&255]]^Os[at[t&255]]}}encryptBlock(t,i){this._doCryptBlock(t,i,this._keySchedule,qc,Xc,Zc,tl,at)}decryptBlock(t,i){const n=t;let s=n[i+1];n[i+1]=n[i+3],n[i+3]=s,this._doCryptBlock(n,i,this._invKeySchedule,Is,Ds,Rs,Os,Jc),s=n[i+1],n[i+1]=n[i+3],n[i+3]=s}_doCryptBlock(t,i,n,s,o,r,a,c){const l=t,h=this._nRounds;let u=l[i]^n[0],d=l[i+1]^n[1],p=l[i+2]^n[2],g=l[i+3]^n[3],m=4;for(let M=1;M<h;M+=1){const A=s[u>>>24]^o[d>>>16&255]^r[p>>>8&255]^a[g&255]^n[m];m+=1;const _=s[d>>>24]^o[p>>>16&255]^r[g>>>8&255]^a[u&255]^n[m];m+=1;const x=s[p>>>24]^o[g>>>16&255]^r[u>>>8&255]^a[d&255]^n[m];m+=1;const y=s[g>>>24]^o[u>>>16&255]^r[d>>>8&255]^a[p&255]^n[m];m+=1,u=A,d=_,p=x,g=y}const b=(c[u>>>24]<<24|c[d>>>16&255]<<16|c[p>>>8&255]<<8|c[g&255])^n[m];m+=1;const w=(c[d>>>24]<<24|c[p>>>16&255]<<16|c[g>>>8&255]<<8|c[u&255])^n[m];m+=1;const v=(c[p>>>24]<<24|c[g>>>16&255]<<16|c[u>>>8&255]<<8|c[d&255])^n[m];m+=1;const E=(c[g>>>24]<<24|c[u>>>16&255]<<16|c[d>>>8&255]<<8|c[p&255])^n[m];m+=1,l[i]=b,l[i+1]=w,l[i+2]=v,l[i+3]=E}}el.keySize=256/32;const il=Wc._createHelper(el),nl=[],sl=[],pg=e=>{const t=Math.sqrt(e);for(let i=2;i<=t;i+=1)if(!(e%i))return!1;return!0},na=e=>(e-(e|0))*4294967296|0;let qi=2,We=0;for(;We<64;)pg(qi)&&(We<8&&(nl[We]=na(qi**(1/2))),sl[We]=na(qi**(1/3)),We+=1),qi+=1;const te=[];class vn extends Vc{_doReset(){this._hash=new K(nl.slice(0))}_doProcessBlock(t,i){const n=this._hash.words;let s=n[0],o=n[1],r=n[2],a=n[3],c=n[4],l=n[5],h=n[6],u=n[7];for(let d=0;d<64;d+=1){if(d<16)te[d]=t[i+d]|0;else{const E=te[d-15],M=(E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3,A=te[d-2],_=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;te[d]=M+te[d-7]+_+te[d-16]}const p=c&l^~c&h,g=s&o^s&r^o&r,m=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),b=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),w=u+b+p+sl[d]+te[d],v=m+g;u=h,h=l,l=c,c=a+w|0,a=r,r=o,o=s,s=w+v|0}n[0]=n[0]+s|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+u|0}_doFinalize(){const t=this._data,i=t.words,n=this._nDataBytes*8,s=t.sigBytes*8;return i[s>>>5]|=128<<24-s%32,i[(s+64>>>9<<4)+14]=Math.floor(n/4294967296),i[(s+64>>>9<<4)+15]=n,t.sigBytes=i.length*4,this._process(),this._hash}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const gg="77992288";let U={};function sa(e){U=e,U.aeskey=Ct.parse(localStorage.getItem("aeskey")),U.hmackey=Ct.parse(localStorage.getItem("hmackey"))}function zt(e){if(e instanceof Object&&U.aeskey!=null&&"iv"in e){var t=e.iv,i=e.data,n=e.hash,s=Ai.create(vn,U.hmackey);s.update(t);var o=s.finalize(i),r=Ct.stringify(o);if(r!=n)return console.log("Decrypt: hmac mismatch"),"";var a=Ct.parse(t),c=il.decrypt(i,U.aeskey,{iv:a,padding:ao,mode:ue});try{var l=c.toString(ro);l=l.slice(0,-1)}catch{return console.log("invalid utf8 data"),""}return Ot(l)?JSON.parse(l):l}return""}function bi(e){if(!U.crypt||U.aeskey==null||e=="")return e;e=e+"\0";var t=K.random(16),i=il.encrypt(e,U.aeskey,{iv:t,padding:ao,mode:ue}),n=Ct.stringify(t),s=Ai.create(vn,U.hmackey);s.update(n),U.token!=null&&U.token!=""&&U.cid>0&&s.update(U.token),s.update(U.seq.toString());var o=s.finalize(i.toString()),r=Ct.stringify(o),a='{"iv":"'+n+'","hash":"'+r+'","data":"'+i.toString()+'","cid":"'+U.cid+'","seq":"'+U.seq+'"}';return U.seq=U.seq+1,a}function Ot(e){try{if(e=="")return!1;JSON.parse(e)}catch{return!1}return!0}function mg(){localStorage.setItem("aeskey",""),localStorage.setItem("hmackey",""),location.reload()}function Ag(){const e=this.shadowRoot.querySelector("#username").value,t=this.shadowRoot.querySelector("#password").value;var i=e+gg+t,n=Ai.create(vn,i),s=n.finalize("aeskey"),o=Ai.create(vn,i),r=o.finalize("hmackey");localStorage.setItem("aeskey",Ct.stringify(s)),localStorage.setItem("hmackey",Ct.stringify(r)),location.reload()}var bg=Object.defineProperty,_g=Object.getOwnPropertyDescriptor,Fn=(e,t,i,n)=>{for(var s=n>1?void 0:n?_g(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&bg(t,i,s),s};const ol="ON",oa="OFF";function _i(){let e=window.location.pathname;return e.endsWith("/")?e.slice(0,-1):e}let gt=class extends mt{constructor(){super(...arguments),this.entities=[],this.has_controls=!1,this.show_all=!1,this._actionRenderer=new xg,this._basePath=_i(),this.groups=[],this._unknown_state_events={}}connectedCallback(){var e,t;super.connectedCallback(),(e=window.source)==null||e.addEventListener("state",i=>{var s=i.data;Ot(s)&&(s=JSON.parse(s)),s.iv!=null&&(s=zt(s));let o=this.entities.findIndex(r=>r.unique_id===s.id);if(o!=-1&&s.id){if(typeof s.value=="number"){let r=[...this.entities[o].value_numeric_history];r.push(s.value),this.entities[o].value_numeric_history=r.splice(-50)}delete s.id,delete s.domain,delete s.unique_id,Object.assign(this.entities[o],s),this.requestUpdate()}else if(s!=null&&s.name)this.addEntity(s);else{if(this._unknown_state_events[s.id]?this._unknown_state_events[s.id]++:this._unknown_state_events[s.id]=1,this._unknown_state_events[s.id]<1)return;let r=s.id.split("-"),a=r[0],c=r.slice(1).join("-"),l=JSON.stringify({domain:a,oid:c,detail:"all",method:"POST"});fetch(`${this._basePath}/api`,{method:"POST",body:bi(l)}).then(h=>{if(!h.ok)throw new Error(`HTTP error! Status: ${h.status}`);return h.json()}).then(h=>{Ot(h)&&(h=JSON.parse(h)),h.iv!=null&&(h=zt(h)),this.addEntity(h)}).catch(h=>{console.error("Fetch error:",h)})}}),(t=window.source)==null||t.addEventListener("sorting_group",i=>{var s=i.data;if(Ot(s)&&(s=JSON.parse(s)),s.iv!=null&&(s=zt(s)),this.groups.findIndex(r=>r.name===s.name)===-1){let r={...s};this.groups.push(r),this.groups.sort((a,c)=>a.sorting_weight<c.sorting_weight?-1:1)}}),this.groups=gt.ENTITY_CATEGORIES.map((i,n)=>({name:i,sorting_weight:n})),this.groups.push({name:gt.ENTITY_UNDEFINED,sorting_weight:-1})}addEntity(e){var i;if(this.entities.findIndex(n=>n.unique_id===e.id)===-1&&e.id){let n=e.id.split("-"),s={...e,domain:n[0],unique_id:e.id,id:n.slice(1).join("-"),entity_category:e.entity_category,sorting_group:(i=e.sorting_group)!=null?i:gt.ENTITY_CATEGORIES[parseInt(e.entity_category)]||gt.ENTITY_UNDEFINED,value_numeric_history:[e.value]};s.has_action=this.hasAction(s),s.has_action&&(this.has_controls=!0),this.entities.push(s),this.entities.sort((o,r)=>{var l,h;const a=(l=o.sorting_weight)!=null?l:o.name,c=(h=r.sorting_weight)!=null?h:r.name;return o.sorting_group<r.sorting_group?-1:o.sorting_group===r.sorting_group?a===c?o.name.toLowerCase()<r.name.toLowerCase()?-1:1:a<c?-1:1:1}),this.requestUpdate()}}hasAction(e){return`render_${e.domain}`in this._actionRenderer}control(e){return this._actionRenderer.entity=e,this._actionRenderer.actioner=this,this._actionRenderer.exec(`render_${e.domain}`)}restAction(e,t,i,n){let s=JSON.stringify({domain:e.domain,oid:e.id,action:t,[i]:n,method:"POST"});fetch(`${this._basePath}/api`,{method:"POST",body:bi(s)}).then(o=>{})}renderShowAll(){if(!this.show_all&&this.entities.find(e=>e.is_disabled_by_default))return S`<div class="singlebutton-row"><button class="abutton" @click="${e=>this.show_all=!0}">Show All</button></div>`}render(){const e=(s,o)=>{const r=s.reduce(function(c,l){return(c.get(l[o])||(()=>{let h=[];return c.set(l[o],h),h})()).push(l),c},new Map),a=new Map;for(const c of this.groups){const l=c.name;r.has(l)&&a.set(l,r.get(l)||[])}return a},t=this.show_all?this.entities:this.entities.filter(s=>!s.is_disabled_by_default),i=e(t,"sorting_group"),n=Array.from(i,([s,o])=>({name:s,value:o}));return S`<div>${n.map(s=>S`<div class="tab-header" @dblclick="${this._handleTabHeaderDblClick}">${s.name||gt.ENTITY_UNDEFINED}</div><div class="tab-container">${s.value.map((o,r)=>S`<div class="entity-row" .domain="${o.domain}" @click="${this._handleEntityRowClick}"><div>${o.icon?S`<iconify-icon icon="${o.icon}" height="24px"></iconify-icon>`:P}</div><div>${o.name}</div><div>${this.has_controls&&o.has_action?this.control(o):S`<div>${o.state}</div>`}</div>${o.domain==="sensor"?S`<esp-entity-chart .chartdata="${o.value_numeric_history}"></esp-entity-chart>`:P}</div>`)}</div>`)} ${this.renderShowAll()}</div>`}static get styles(){return[Sn,za,Jl,ql,zs]}_handleEntityRowClick(e){var t,i;((t=e==null?void 0:e.currentTarget)==null?void 0:t.domain)==="sensor"&&(e!=null&&e.ctrlKey||e.stopPropagation(),(i=e==null?void 0:e.currentTarget)==null||i.classList.toggle("expanded",e.ctrlKey?!0:void 0))}_handleTabHeaderDblClick(e){var i;const t=new CustomEvent("entity-tab-header-double-clicked",{bubbles:!0,composed:!0});(i=e.target)==null||i.dispatchEvent(t)}};gt.ENTITY_UNDEFINED="States";gt.ENTITY_CATEGORIES=["Sensor and Control","Configuration","Diagnostic"];Fn([nt()],gt.prototype,"entities",2);Fn([nt()],gt.prototype,"has_controls",2);Fn([nt()],gt.prototype,"show_all",2);gt=Fn([Vt("esp-entity-table")],gt);class xg{exec(t){if(!this[t]||typeof this[t]!="function"){console.log(`ActionRenderer.${t} is not callable`);return}return this[t]()}_actionButton(t,i,n){if(!t)return;let s=n||i.toLowerCase();return S`<button class="abutton" @click="${()=>{var o;return(o=this.actioner)==null?void 0:o.restAction(t,s,"","")}}">${i}</button>`}_datetime(t,i,n,s,o){return S`<input type="${i}" name="${t.unique_id}" id="${t.unique_id}" .value="${o}" @change="${r=>{var c,l;const a=(c=r.target)==null?void 0:c.value;(l=this.actioner)==null||l.restAction(t,`${n}?${s}=${a.replace("T"," ")}`)}}">`}_switch(t){return S`<esp-switch color="var(--primary-color,currentColor)" .state="${t.state}" @state="${i=>{var s;let n="turn_"+i.detail.state;(s=this.actioner)==null||s.restAction(t,n.toLowerCase(),"","")}}"></esp-switch>`}_select(t,i,n,s,o){return S`<select @change="${r=>{var c,l;const a=(c=r.target)==null?void 0:c.value;(l=this.actioner)==null||l.restAction(t,`${i}`,`${n}`,`${a}`)}}">${s.map(r=>S`<option value="${r}" ?selected="${r==o}">${r}</option>`)}</select>`}_range(t,i,n,s,o,r,a=1){return t.mode==1?S`<div class="range"><label>${o||0}</label> <input type="${t.mode==1?"number":"range"}" name="${t.unique_id}" id="${t.unique_id}" step="${a}" min="${o||Math.min(0,s)}" max="${r||Math.max(10,s)}" .value="${s}" @change="${c=>{var h,u;const l=(h=c.target)==null?void 0:h.value;(u=this.actioner)==null||u.restAction(t,`${i}`,`${n}`,`${l}`)}}"> <label>${r||100}</label></div>`:S`<esp-range-slider name="${t.unique_id}" step="${a}" min="${o}" max="${r}" .value="${s}" @state="${c=>{var l,h;(l=c.target)==null||l.value,(h=this.actioner)==null||h.restAction(t,`${i}`,`${n}`,`${c.detail.state}`)}}"></esp-range-slider>`}_textinput(t,i,n,s,o,r,a){return S`<input type="${t.mode==1?"password":"text"}" name="${t.unique_id}" id="${t.unique_id}" minlength="${o||Math.min(0,s)}" maxlength="${r||Math.max(255,s)}" pattern="${a||""}" .value="${s}" @change="${c=>{var h,u;const l=(h=c.target)==null?void 0:h.value;(u=this.actioner)==null||u.restAction(t,`${i}`,`${n}`,`${encodeURIComponent(l)}`)}}">`}_colorpicker(t,i,n){function s(r){return Number(r).toString(16).padStart(2,"0")}function o(r){var c;const a=((c=r.match(/[0-9a-f]{2}/gi))==null?void 0:c.map(l=>parseInt(l,16)))||[0,0,0];return`r=${a[0]}&g=${a[1]}&b=${a[2]}`}return S`<div class="colorpicker"><input type="color" name="${t.unique_id}" id="${t.unique_id}" value="#${s(n==null?void 0:n.r)}${s(n==null?void 0:n.g)}${s(n==null?void 0:n.b)}" @change="${r=>{var c,l;const a=(c=r.target)==null?void 0:c.value;(l=this.actioner)==null||l.restAction(t,`${i}`,"",`${o(a)}`)}}"></div>`}render_binary_sensor(){var i;if(!this.entity)return;const t=this.entity.state==ol;return S`<iconify-icon class="binary_sensor_${(i=this.entity.state)==null?void 0:i.toLowerCase()}" icon="mdi:checkbox-${t?"marked-circle":"blank-circle-outline"}" height="24px"></iconify-icon>`}render_date(){if(!!this.entity)return S`${this._datetime(this.entity,"date","set","value",this.entity.value)}`}render_time(){if(!!this.entity)return S`${this._datetime(this.entity,"time","set","value",this.entity.value)}`}render_datetime(){if(!!this.entity)return S`${this._datetime(this.entity,"datetime-local","set","value",this.entity.value)}`}render_switch(){if(!!this.entity)return this.entity.assumed_state?S`${this._actionButton(this.entity,"\u274C","turn_off")} ${this._actionButton(this.entity,"\u2714\uFE0F","turn_on")}`:this._switch(this.entity)}render_fan(){if(!!this.entity)return[this.entity.speed," ",this.entity.speed_level,this._switch(this.entity),this.entity.speed_count?this._range(this.entity,`turn_${this.entity.state.toLowerCase()}`,"speed_level",this.entity.speed_level?this.entity.speed_level:0,0,this.entity.speed_count,1):""]}render_light(){var t,i;if(!!this.entity)return[S`<div class="entity" style="width:100%">${this._switch(this.entity)} ${this.entity.brightness?this._range(this.entity,"turn_on","brightness",this.entity.brightness,0,255,1):""} ${this.entity.color_mode==="rgb"||this.entity.color_mode==="rgbw"?this._colorpicker(this.entity,"turn_on",(t=this.entity)==null?void 0:t.color):""} ${(i=this.entity.effects)!=null&&i.filter(n=>n!="None").length?this._select(this.entity,"turn_on","effect",this.entity.effects||[],this.entity.effect):""}</div>`]}render_lock(){if(!!this.entity)return S`${this._actionButton(this.entity,"\u{1F510}","lock")} ${this._actionButton(this.entity,"\u{1F513}","unlock")} ${this._actionButton(this.entity,"\u2191","open")}`}render_cover(){if(!!this.entity)return S`${this._actionButton(this.entity,"\u2191","open")} ${this._actionButton(this.entity,"\u2610","stop")} ${this._actionButton(this.entity,"\u2193","close")}`}render_button(){if(!!this.entity)return S`${this._actionButton(this.entity,"PRESS","press")}`}render_select(){if(!!this.entity)return this._select(this.entity,"set","option",this.entity.option||[],this.entity.value)}render_number(){if(!!this.entity)return S`${this._range(this.entity,"set","value",this.entity.value,this.entity.min_value,this.entity.max_value,this.entity.step)} ${this.entity.uom}`}render_text(){if(!!this.entity)return this._textinput(this.entity,"set","value",this.entity.value,this.entity.min_length,this.entity.max_length,this.entity.pattern)}render_climate(){if(!this.entity)return;let t,i=S`<div class="climate-row" style="padding-bottom:10px" ;><label>Current:${this.entity.current_temperature} C</label></div>`;this.entity.target_temperature_low!==void 0&&this.entity.target_temperature_high!==void 0?t=S`<div class="climate-row"><label>Target Low:</label> ${this._range(this.entity,"set","target_temperature_low",this.entity.target_temperature_low,this.entity.min_temp,this.entity.max_temp,this.entity.step)}</div><div class="climate-row"><label>Target High:</label> ${this._range(this.entity,"set","target_temperature_high",this.entity.target_temperature_high,this.entity.min_temp,this.entity.max_temp,this.entity.step)}</div>`:t=S`<div class="climate-row"><label>Target:</label> ${this._range(this.entity,"set","target_temperature",this.entity.target_temperature,this.entity.min_temp,this.entity.max_temp,this.entity.step)}</div>`;let n=S``;return(this.entity.modes?this.entity.modes.length:0)>0&&(n=S`<div class="climate-row"><label>Mode:</label> ${this._select(this.entity,"set","mode",this.entity.modes||[],this.entity.mode||"")}</div>`),S`<div class="climate-wrap">${i} ${t} ${n}</div>`}}var yg=Object.defineProperty,vg=Object.getOwnPropertyDescriptor,Pn=(e,t,i,n)=>{for(var s=n>1?void 0:n?vg(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&yg(t,i,s),s};let xi=class extends mt{constructor(){super(),this.rows=10,this.scheme="",this.logs=[]}connectedCallback(){var e;super.connectedCallback(),(e=window.source)==null||e.addEventListener("log",t=>{var n=t.data;Ot(n)&&(n=JSON.parse(n)),n.iv!=null&&(n=zt(n));const s=n;let r=s.slice(10,s.length-4).split(":").slice(0,2).join(":"),a=s.slice(12+r.length,s.length-4);const l={type:{"\x1B[1;31m":"e","\x1B[0;33m":"w","\x1B[0;32m":"i","\x1B[0;35m":"c","\x1B[0;36m":"d","\x1B[0;37m":"v"}[s.slice(0,7)],level:s.slice(7,10),tag:r,detail:a,when:new Date().toTimeString().split(" ")[0]};this.logs.push(l),this.logs=this.logs.slice(-this.rows)})}render(){return S`<div class="tab-header" @dblclick="${this._handleTabHeaderDblClick}">Debug Log</div><div class="tab-container"><div class="logs" color-scheme="${this.scheme}"><div class="thead trow"><div>Time</div><div>Level</div><div>Tag</div><div>Message</div></div><div class="tbody">${this.logs.map(e=>S`<div class="trow ${e.type}"><div>${e.when}</div><div>${e.level}</div><div>${e.tag}</div><div>${e.detail}</div></div>`)}</div></div></div>`}_handleTabHeaderDblClick(e){var i;const t=new CustomEvent("log-tab-header-double-clicked",{bubbles:!0,composed:!0});(i=e.target)==null||i.dispatchEvent(t)}static get styles(){return[zs,dt`.tbody .trow:nth-child(2n),.thead{background-color:rgba(127,127,127,.05)}.trow div{font-family:monospace;width:100%;line-height:1.2rem}.trow{display:flex}.thead{line-height:1rem}.thead .trow{text-align:left;padding:.25rem .5rem}.trow{display:flex}.trow>div{align-self:flex-start;padding-right:.25em;flex:2 0;min-width:70px}.trow>div:nth-child(2){flex:1 0;overflow:hidden;text-overflow:ellipsis;max-width:40px}.trow>div:nth-child(3){flex:3 0;overflow:hidden;text-overflow:ellipsis}.trow>div:last-child{flex:15 0;padding-right:0;overflow:hidden;text-overflow:ellipsis}pre{margin:0}.v{color:#888}.d{color:#0dd}.c{color:#ff00ff}.i{color:#32cd32}.w{color:#ff0}.e{color:red;font-weight:700}.logs[color-scheme=light]{font-weight:700}.logs[color-scheme=light] .w{color:#cc0}.logs[color-scheme=dark] .d{color:#0aa}.logs{overflow-x:auto;border-radius:12px;border-width:1px;border-style:solid;border-color:rgba(127,127,127,.12);transition:all .3s ease-out 0s;font-size:14px;padding:16px}@media (max-width:1024px){.trow>div:nth-child(2){display:none!important}}`]}};Pn([it({type:Number})],xi.prototype,"rows",2);Pn([it({type:String})],xi.prototype,"scheme",2);Pn([nt()],xi.prototype,"logs",2);xi=Pn([Vt("esp-log")],xi);var wg=Object.defineProperty,Eg=Object.getOwnPropertyDescriptor,Pe=(e,t,i,n)=>{for(var s=n>1?void 0:n?Eg(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&wg(t,i,s),s};const ra="checkbox-lever";let de=class extends mt{constructor(){super(...arguments),this.checkbox=null,this.stateOn=ol,this.stateOff=oa,this.state=oa,this.color="currentColor",this.disabled=!1}firstUpdated(e){var t;this.checkbox=(t=this.shadowRoot)==null?void 0:t.getElementById(ra)}isOn(){return this.state===this.stateOn}toggle(e){const t=this.isOn()?this.stateOff:this.stateOn;let i=new CustomEvent("state",{detail:{state:t,id:this.id}});this.dispatchEvent(i)}render(){return S`<div class="sw"><label><input id="${ra}" type="checkbox" .checked="${this.isOn()}" .disabled="${this.disabled}" @click="${this.toggle}"> <span style="color:${this.color}" class="lever"></span></label></div>`}static get styles(){return[Sn,dt`.sw,.sw *{-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer}input[type=checkbox]{opacity:0;width:0;height:0}input[type=checkbox]:checked+.lever{background-color:currentColor;background-image:linear-gradient(0deg,rgba(255,255,255,.5) 0,rgba(255,255,255,.5) 100%)}input[type=checkbox]:checked+.lever:after,input[type=checkbox]:checked+.lever:before{left:18px}input[type=checkbox]:checked+.lever:after{background-color:currentColor}input[type=checkbox]:not(:checked)+.lever:after{background-color:rgba(127,127,127,.5)}.lever{content:"";display:inline-block;position:relative;width:36px;height:14px;background-image:linear-gradient(0deg,rgba(127,127,127,.5) 0,rgba(127,127,127,.5) 100%);background-color:inherit;border-radius:15px;transition:background .3s ease;vertical-align:middle}.lever:after,.lever:before{content:"";position:absolute;display:inline-block;width:20px;height:20px;border-radius:50%;left:0;top:-3px;transition:left .3s ease,background .3s ease,box-shadow .1s ease,transform .1s ease}.lever:before{background-color:currentColor;background-image:linear-gradient(0deg,rgba(255,255,255,.9) 0,rgba(255,255,255,.9) 100%)}.lever:after{background-color:#f1f1f1;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}input[type=checkbox]:checked:not(:disabled).tabbed:focus~.lever::before,input[type=checkbox]:checked:not(:disabled)~.lever:active::before{transform:scale(2.4);background-color:rgba(255,255,255,.9) 0;background-image:linear-gradient(0deg,rgba(255,255,255,.9) 0,rgba(255,255,255,.9) 100%)}input[type=checkbox]:not(:disabled).tabbed:focus~.lever::before,input[type=checkbox]:not(:disabled)~.lever:active:before{transform:scale(2.4);background-color:rgba(0,0,0,.08)}input[type=checkbox][disabled]+.lever{cursor:default;background-color:rgba(0,0,0,.12)}input[type=checkbox][disabled]+.lever:after,input[type=checkbox][disabled]:checked+.lever:after{background-color:#949494}`]}};Pe([it({type:String})],de.prototype,"stateOn",2);Pe([it({type:String})],de.prototype,"stateOff",2);Pe([it({type:String})],de.prototype,"state",2);Pe([it({type:String})],de.prototype,"color",2);Pe([it({type:Boolean})],de.prototype,"disabled",2);de=Pe([Vt("esp-switch")],de);var kg=Object.defineProperty,Bg=Object.getOwnPropertyDescriptor,Qe=(e,t,i,n)=>{for(var s=n>1?void 0:n?Bg(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&kg(t,i,s),s};const aa="range",Cg="rangeValue",ca=500;let fe=class extends mt{constructor(){super(...arguments),this.inputRange=null,this.currentValue=null,this.longPressTimer=null,this.isPopupInputVisible=!1,this.value=0,this.min=0,this.max=0,this.step=0,this.name=""}firstUpdated(e){var t,i;this.inputRange=(t=this.shadowRoot)==null?void 0:t.getElementById(aa),this.currentValue=(i=this.shadowRoot)==null?void 0:i.getElementById(Cg),document.addEventListener("mousedown",n=>{var o;if(!document.querySelector(".popup-number-input"))return;!((o=document.querySelector(".popup-number-input"))!=null&&o.contains(n.target))&&this.isPopupInputVisible&&this.deletePopupInput()})}updated(){this.updateCurrentValueOverlay()}onMouseDownCurrentValue(e){this.longPressTimer=setTimeout(()=>{this.showPopupInput(e.pageX,e.pageY)},ca)}onMouseUpCurrentValue(e){this.longPressTimer&&!this.isPopupInputVisible&&(clearTimeout(this.longPressTimer),this.longPressTimer=null)}onTouchStartCurrentValue(e){this.longPressTimer=setTimeout(()=>{this.showPopupInput(e.touches[0].pageX,e.touches[0].pageY)},ca)}onTouchEndCurrentValue(e){this.longPressTimer&&!this.isPopupInputVisible&&(clearTimeout(this.longPressTimer),this.longPressTimer=null)}deletePopupInput(){const e=document.querySelector(".popup-number-input");e&&e.remove(),this.isPopupInputVisible=!1}showPopupInput(e,t){const i=document.createElement("input");i.type="number",i.value=this.inputRange.value,i.min=this.inputRange.min,i.max=this.inputRange.max,i.step=this.inputRange.step,i.classList.add("popup-number-input");const n=`
    position: absolute;
    left: ${e}px;
    top: ${t}px;
    width: 50px;
    -webkit-appearance: none;
    margin: 0;
    `;i.setAttribute("style",n),document.body.appendChild(i),i.addEventListener("contextmenu",s=>{s.preventDefault()}),i.addEventListener("change",s=>{var a,c;let o=s.target;this.inputRange.value=o==null?void 0:o.value;var r=new Event("input");(a=this.inputRange)==null||a.dispatchEvent(r);var r=new Event("change");(c=this.inputRange)==null||c.dispatchEvent(r)}),i.addEventListener("keydown",s=>{s.key==="Enter"&&this.deletePopupInput()}),i.focus(),this.isPopupInputVisible=!0}updateCurrentValueOverlay(){var n,s;const e=Number((this.inputRange.value-this.inputRange.min)*100/(this.inputRange.max-this.inputRange.min)),t=10-e*.2;this.currentValue.innerHTML=`<span>${(n=this.inputRange)==null?void 0:n.value}</span>`,this.currentValue.style.left=`calc(${e}% + (${t}px))`;const i=(s=this.currentValue)==null?void 0:s.querySelector("span");i==null||i.addEventListener("mousedown",this.onMouseDownCurrentValue.bind(this)),i==null||i.addEventListener("mouseup",this.onMouseUpCurrentValue.bind(this)),i==null||i.addEventListener("touchstart",this.onTouchStartCurrentValue.bind(this)),i==null||i.addEventListener("touchend",this.onTouchEndCurrentValue.bind(this)),i==null||i.addEventListener("contextmenu",o=>{o.preventDefault()})}onInputEvent(e){this.updateCurrentValueOverlay()}onInputChangeEvent(e){var t;this.sendState((t=this.inputRange)==null?void 0:t.value)}sendState(e){let t=new CustomEvent("state",{detail:{state:e,id:this.id}});this.dispatchEvent(t)}render(){return S`<div class="range-wrap"><label>${this.min||0}</label><div class="slider-wrap"><div class="range-value" id="rangeValue"></div><input id="${aa}" type="range" name="${this.name}" step="${this.step}" min="${this.min||Math.min(0,this.value)}" max="${this.max||Math.max(10,this.value)}" .value="${this.value}" @input="${this.onInputEvent}" @change="${this.onInputChangeEvent}"></div><label style="text-align:left">${this.max||100}</label></div>`}static get styles(){return[Sn,dt`:host{min-width:150px;flex:1}input[type=range]{background:0 0;-webkit-appearance:none;appearance:none;margin:20px 0;width:100%;touch-action:none}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{width:100%;height:4px;cursor:pointer;animate:.2s;background:#03a9f4;border-radius:25px}input[type=range]::-moz-range-track{width:100%;height:4px;cursor:pointer;animate:.2s;background:#03a9f4;border-radius:25px}input[type=range]::-ms-track{background:0 0;width:100%;height:4px;cursor:pointer;animate:.2s;background:0 0;border-color:transparent;color:transparent}input[type=range]::-ms-fill-lower{background:#03a9f4;border-radius:25px}input[type=range]::-ms-fill-upper{background:#03a9f4;border-radius:25px}input[type=range]::-webkit-slider-thumb{height:20px;width:20px;border-radius:50%;background:#fff;box-shadow:0 0 4px 0 #000;cursor:pointer;-webkit-appearance:none;margin-top:-8px}input[type=range]::-moz-range-thumb{height:20px;width:20px;border-radius:50%;background:#fff;box-shadow:0 0 4px 0 #000;cursor:pointer;border:none}input[type=range]::-ms-thumb{height:20px;width:20px;border-radius:50%;background:#fff;box-shadow:0 0 4px 0 #000;cursor:pointer;border:none}input[type=range]:focus::-webkit-slider-runnable-track{background:#03a9f4}input[type=range]:focus::-moz-range-track{background:#03a9f4}input[type=range]:focus::-ms-fill-lower{background:#03a9f4}input[type=range]:focus::-ms-fill-upper{background:#03a9f4}.range-wrap{display:flex;align-items:center}.slider-wrap{flex-grow:1;margin:0 15px;position:relative}.range-value{position:absolute;top:-50%}.range-value span{padding:0 3px 0 3px;height:19px;line-height:18px;text-align:center;background:#03a9f4;color:#fff;font-size:11px;display:block;position:absolute;left:50%;transform:translate(-50%,+80%);border-radius:6px}@-moz-document url-prefix(){.range-value span{transform:translate(-50%,+150%)}}.range-value span:before{content:"";position:absolute;width:0;height:0;border-top:10px solid #03a9f4;border-left:5px solid transparent;border-right:5px solid transparent;top:100%;left:50%;margin-left:-5px;margin-top:-1px;pointer-events:none}`]}};Qe([it({type:String})],fe.prototype,"value",2);Qe([it({type:String})],fe.prototype,"min",2);Qe([it({type:String})],fe.prototype,"max",2);Qe([it({type:String})],fe.prototype,"step",2);Qe([it({type:String})],fe.prototype,"name",2);fe=Qe([Vt("esp-range-slider")],fe);var Mg=`<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 124.68">
  <defs>
    <style>
      .cls-1 {
        fill: #f2f4f9;
      }

      .cls-1, .cls-2 {
        stroke-width: 0px;
      }

      .cls-2 {
        fill: #18bcf2;
      }
    </style>
  </defs>
  <g id="Layer_1-2" data-name="Layer 1">
    <g>
      <path class="cls-2" d="M128,116.68c0,4.4-3.6,8-8,8H8c-4.4,0-8-3.6-8-8v-48c0-4.4,2.55-10.55,5.66-13.66L58.34,2.33c3.11-3.11,8.2-3.11,11.31,0l52.69,52.69c3.11,3.11,5.66,9.26,5.66,13.66v48Z"/>
      <path class="cls-1" d="M85.33,41.83h-42.67c-1.77,0-3.2,1.43-3.2,3.2v79.65h6.4V48.23h36.27v6.4h-26.67c-1.77,0-3.2,1.43-3.2,3.2v12.8c0,1.77,1.43,3.2,3.2,3.2h26.67v6.4h-26.67c-1.77,0-3.2,1.43-3.2,3.2v12.8c0,1.77,1.43,3.2,3.2,3.2h26.67v6.4h-26.67c-1.77,0-3.2,1.43-3.2,3.2s1.43,3.2,3.2,3.2h29.87c1.77,0,3.2-1.43,3.2-3.2v-12.8c0-1.77-1.43-3.2-3.2-3.2h-26.67v-6.4h26.67c1.77,0,3.2-1.43,3.2-3.2v-12.8c0-1.77-1.43-3.2-3.2-3.2h-26.67v-6.4h26.67c1.77,0,3.2-1.43,3.2-3.2v-12.8c0-1.77-1.43-3.2-3.2-3.2Z"/>
    </g>
  </g>
</svg>`,Sg=Object.defineProperty,Ig=Object.getOwnPropertyDescriptor,Dg=(e,t,i,n)=>{for(var s=n>1?void 0:n?Ig(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&Sg(t,i,s),s};let la=class extends mt{render(){return Ql([Mg])}};la=Dg([Vt("esp-logo")],la);var Rg=dt`*,::after,::before{box-sizing:border-box}:host{position:relative}div.container[color-scheme=dark]{--maingrpbgcolor:var(--maingrpbgcolordark,#111);--btngrpbgcolor:var(--btngrpbgcolordark,#111);--buttonbgcolor:var(--buttonbgcolordark,#252525);--buttontextcolor:var(--buttontextcolordark,#03a9f4);--lcdbgcolor:var(--lcdbgcolordark1,#859c99);--lcdtextcolor:var(--lcdtextcolordark,#222);--sensoroff:var(--sensoroffdark,#303030);--bordercolor:var(--bordercolordark,#333);--hovercolor:var(--hovercolordark,#444);--activecolor:var(--activecolordark,#555);--focuscolor:var(--focuscolordark,#454545)}div.container[color-scheme=light]{--maingrpbgcolor:var(--maingrpbgcolorlight,#ddd);--btngrpbgcolor:var(--btngrpbgcolorlight,whitesmoke);--buttonbgcolor:var(--buttonbgcolorlight,#d9dcdf);--buttontextcolor:var(--buttontextcolorlight, #222);--lcdbgcolor:var(--lcdbgcolorlight,#859c99);--lcdtextcolor:var(--lcdtextcolorlight,#222);--sensoroff:var(--sensorofflight,#ccc);--bordercolor:var(--bordercolorlight,#bbb);--hovercolor:var(--hovercolorlight,#c0c0c0);--activecolor:var(--activecolorlight,#d0d0d0);--focuscolor:var(--focuscolorlight,#c5c5c5)}.container{justify-content:center;align-items:center;border-radius:1em;border:1px solid var(--bordercolor)}i.keypad-icon{font-family:keypad_icons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-star:before{content:"\\e905";font-size:.5rem}.icon-ac:before{content:"\\e90d";font-size:.8rem}.icon-trouble:before{content:"\\e90e";font-size:.8rem}.icon-armed:before{content:"\\e90f";font-size:.8rem}.icon-check:before{content:"\\e910";font-size:.8rem}.icon-thief:before{content:"\\e90b";font-size:1rem}.icon-alert:before{content:"\\e90c";font-size:1rem}.icon-sleep:before{content:"\\e90a";font-size:.8rem}.icon-bypass:before{content:"\\e909";font-size:.8rem}.icon-programming:before{content:"\\e908";font-size:.8rem}.icon-flame:before{content:"\\e907";font-size:1rem}.icon-info:before{content:"\\e906";font-size:.8rem}.icon-stay_away:before{content:"\\e904";font-size:.8rem}.icon-stay_empty:before{content:"\\e903";font-size:.8rem}.icon-bell:before{content:"\\e900";font-size:.8rem}.icon-refresh:before{content:"\\e902";font-size:.8rem}.icon-exit:before{content:"\\e901";font-size:.8rem}.flex-keypad{border-radius:20px;padding:4px;background-color:var(--maingrpbgcolor);max-width:600px;margin:5px}button.keypad_button{border-radius:1.5rem;background-color:var(--buttonbgcolor);border:2px solid var(--bordercolor);color:var(--buttontextcolor)}button.keypad_button_pad{width:28%;font-weight:700;font-size:.8rem;background-color:var(--buttonbgcolor);border:2px solid var(--bordercolor);min-height:2.3rem;color:var(--buttontextcolor);line-height:.8;margin-bottom:8px}button.keypad_button_small{font-weight:700;font-size:.8rem;line-height:.8;margin:0;background-color:var(--buttonbgcolor);border:2px solid var(--bordercolor);margin-top:.1rem;margin-bottom:.6rem;padding:8px}button.keypad_button_slim{line-height:.8;background-color:var(--buttonbgcolor);border:2px solid var(--bordercolor);margin-top:12px;width:100%}.keypad_cmd_text{font-size:.45rem;font-size:calc(.4em + .2vw);font-style:italic;margin-top:2px}button.keypad_button_control{background-color:var(--buttonbgcolor);line-height:1;width:100% margin: auto}.keypad_title{margin:auto;padding-bottom:5px;display:flex;justify-content:center}div.virtual_lcd{flex:1;font-family:Arial;background-color:var(--lcdbgcolor);font-size:1.2rem;border-radius:8px;text-align:center;color:var(--lcdtextcolor);overflow:auto;width:100%;margin:5px 0 5px 5px;padding:5px;padding-top:10px;border:1px solid var(--bordercolor)}div#first_line{height:1.5em}div#second_line{height:1.5em}div#lcd_container{margin:2px 4px 2px 4px;border:1px solid var(--bordercolor);padding:4px;background-color:var(--btngrpbgcolor);border-radius:10px;white-space:nowrap;display:flex}div.keypad_button_row{margin:6px;text-align:center;white-space:nowrap}div.container{border-radius:20px;padding:2px;background-color:var(--maingrpbgcolor);margin:5px}div.status_icons{text-align:center;padding:2px;margin:0 0 0 5px;flex:0;color:grey}div.status_icons i{display:block;padding:3px}div#keypad_container,div#right_buttons{margin:2px;border:1px solid var(--bordercolor);border-radius:8px;background-color:var(--btngrpbgcolor)}div#left_buttons{margin:2px;border:1px solid var(--bordercolor);border-radius:8px;background-color:var(--btngrpbgcolor)}div#keypad_container{width:100%;justify-content:center;flex-direction:column}div#buttons_area{display:flex}div#regular_icons{display:flex;justify-content:space-between}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:lscolor .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.btn:focus,.btn:hover{text-decoration:none}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-outline-dark.disabled,.btn-outline-dark:disabled{background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}`,ha=dt`@font-face{font-family:keypad_icons;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAACAwAAsAAAAAH+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIGHmNtYXAAAAFoAAAAVAAAAFQXVtKXZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAG7AAABuwcdLgO2hlYWQAAB10AAAANgAAADYSg5hzaGhlYQAAHawAAAAkAAAAJAfCA9ZobXR4AAAd0AAAAFQAAABUSgACqmxvY2EAAB4kAAAALAAAACw7KEOsbWF4cAAAHlAAAAAgAAAAIAAhAvRuYW1lAAAecAAAAZ4AAAGe6A/DA3Bvc3QAACAQAAAAIAAAACAAAwAAAAMD5AGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6RADwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkQ//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAwBY/8ADqwPAAEoAjQDaAAABJgY5ASMOAQcOAQcGBw4BBwYHDgEHBhYXHgEXHgEXDgEVFBYzMjY1NCYnPgE3OQE+ATc+AScuAScuAScuAScmJy4BJyYnOQEuASMHHgEXHgEXHgEXHgEXHgEXFgYHDgEHBgcOAQcGBy4BIyIGByInLgEnJic5AS4BJy4BNz4BNzkBPgE3PgE3PgE3PgEXFwcjFQcjES4BIyIGBw4BBw4BBw4BFRQWFx4BMzI2NzkBPgE3PgE1ETcVLgEjIgYHDgEHDgEHDgEVFBYXHgEzMjY3MzE+ATc5AT4BNRECGVNrARomDxAaCwwKCRIIBwcQIQYEAQgIHxQnl2YBAS4gIC0BAUGNShIcCAcEAQMcEwMJAwQIBgcLCiMbGiYsVCUCH0YlNjoNBwcEAwcLEhcDAQMDAwgIKykqUCYmJAUJBQYKBTszM1QfHxMNCwMCAgMFHhATIRYLGQ4OIA8BVUSJGgn3AwYMCAgRCQgQBwcNBAUFBwcIFAwMGAwMFQgJCdYGDQcIEQkIEAcIDAUFBAYIBxUMDBgLAQwUCQgJA8ABNhQ9JSRUKysrKkkdHBAkSCMSJBERGggPIwUFCQQgLi4gBQkFBRkXBhgQDyMRI00nBTQjJFUsLS4tUiIiFhgVOQERFR+VVStTJCQ4FSRFGQwTBgUIAg4JCgwDBAEBAgIBBgUQCQkHBQsFBhIMGUUlLJpUKlAiITELASsBpQkDUv6pAQIEBAMJBgYOCAcRCQsUBwcGBQUFDwkKGA0BPkf+AQEDBAMKBgYNCAgQCQsUBwcGBQQGDgoKGA0BOwAAAAADAAD/0AQAA7AAMQA2AEIAABMiBhUxESMwIjEiBhUUFjMwMjEzMDIxMwU1MzIwMyMzMDIxMjY1NCYjMCIxIxE0JiMxBSERIxEDMhYVFAYjIiY1NDbvEhqWARIaGhIBwQFnATGJAQEBwgESGhoSAZYaE/5HAY1dSAwREQwLEREDsBoT/SUaEhMZgIAZExIaAtsTGln9UQIw/o8RDAwREQwMEQAAAAMAE//AA+0DwABLAIcA0AAAASIGFRQWFzUXJicuAQcGBw4BFRQWMzI2NzE2NzYWFxYXJzgBIyIGFRQWMzgBOQEXOAE5ARc4ATEyNjU0JicxJzgBOQEnLgEjOAE5AQU4ATEiBgcVBw4BFRQWMzI2NzE3BhceARcWFx4BMzI2NTQmJzEmJy4BNzY3Fx4BMzI2NTQmJzEDLgEjMQEiBhU4ARUxFAcOAQcGBzc+ATU0JiMiBgcxBzgBMSMHDgEVFBYXMRc4ATkBFzoBMzI2NTQmJzEnNjc+ATc2NTQwMTQmIzgBOQEDHhIYAwIzLTQ1bjc3MQkKGREHDAUrMC9fKywiiAERGRkRi4oSGAIDREQFFAz93AoRBb0FBRgSCREGRxACAiQiIjEFDQYSGAoIKxwbGQUEFTAFFQ4RGQIBYgUVDQLJEhgREj4qKzFOAwQYEgoTBU8BTgQEFRCQkAEDAREZFhBsNi0tQhISGBIDwBkRBgoFAWAiExMDDw8hBhILEhgEAx0LDAsWFSQBGRERGQIBGREGCgSAfwoN+QgGAdsFDwgRGQkGUzc3OGktLiEEBBkRCxIGHSkoXDAwLX4NDxkRBAgEAQIMD/7XGREBMy4tSBgYCG8FDQcRGQoIcnEFDAcQGAIQEBkRERcCDBEiIVg2NjsBEhgAAgAi/8AD3gPAAB8AJAAAATAiMSIGBzEBDgEVMREUFjMhMjY1MRE0JicxAS4BIzEHAREhEQICAQcOBf5NCAoaEwNiExoKCP5PBQ0HAQGE/PYDwAUE/sYGEwv9lBMaGhMCbgsTBgE4BAVk/uj91gIoAAEABv/AA/oDwABgAAABIgYHMQEOARUxERQWMyEwMjEyNjU0JiMwIjEjEQkBESMwIjEiBgcxAzcXMwMjNT4BNTQmIyIGFRQWFxUjAzM3FwMzGwEzDgEVFBYzMDIxITI2NTERNCYnMQEuASM4ATkBAgEHDQX+MQkKGhIBEQESGxsSAeQBogGg7AENFQVEIDY2R2sSEyQkJSQTE2tHNjYkSUdHR0MBARoSAQEZEhoKCf4zBQ0HA8AEBP7GBhMM/ZQTGhoTEhsCJwEc/ub91w4KAVah3wEkGwcgGSMjIyMZIAcb/tzfof6kAR7+4gQHBBMaGhMCbgsUBgE4BAQAAAEAC//AA/UDwAARAAAlBSctATcFETMRJRcNAQclESMBj/7tcQET/u1xARPiARNx/u0BE3H+7eL4nMSen8SeAT3+w57En57EnP7IAAADAAD/wQQAA78CWALRAvEAAAErAQ8BIwcjDwEjDwQjD2UVDwcVDwMVDwEVBx0CBx0BBx0IFx0BFx0BHwEVFxUfARUfBBUfeDMXMxc7ARc7Aj8EMz9qNT8GNT8CNT8BNT8BNTc1Nz0FNz0FJz0CJzUnNSc1LwI1LwI1L2ojLwcjLwEjJyMnIycrBBc7AR8aFRcHFQ8ZKwEvGTUnPQE3NT8YMzcDIREfBDMfATMVITU3Mz8FEy8EIy8BAfUEBR4JBAUEBAQFBAQFBAQEBQQEBAwFBAQFBAQEBAQEBAQIBAUEAwgEBAQTBAMIAwQEAwQEAwQVAwQDAwMECgIEBgMDAwYDAwMDAwMCAwMCAwMCBgICAwMCAgMCAgMCAgwCAgECAgICAQICAQICAQIBAgMBAQECAgEBAQEBAQEBAQEBAQECAQEBAQEBAQEBAQECAQEBAQEBAgEBAQECAwECAQMCAgIBBAIBAgICAgICAgICAgIFAgMCAgMFAgMCAgMDAwMFAwMDAgMDAwMDAwMDBwMHAwMHAwMEAwMEAwQEBwMEBAMEBAcEBAMEBAQEBwQEBAgECAQECAUEBAQIBAUIBAQEBAUEBAQNBAUEBBIEBAUEBAUNIh8IBAkEBQQECQQEBQQIBQMFBAQEBQQECAQJBAgECAgEAwQEBAQEAwQICAQDBAMIBAMDBA4DBAMEAwQDAwcDCQMDAwMJAwMDAwIDAwMSAgMCAwIFAgICAgICAwYBAgICAgEEAgECAwIBAgEBAQIBAQIBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAgEBAgEHAgIBAgIBAgICAgIBAgIGAwEDAgIDAgICAwIDAgMCCAMDAgMDAwMOAwMDAwQGAwMDBwQDAwMHBAQKAwQDDAcEAwQEBAMEBAQEBAQEAwQEBQQICAQIBAgEBQQECAUEBAQEBQQEBAUEBBEFBAQJCAUFBAQEEgkHBwYHBwYGBwYGBgUGBgULBAUEBAMDAwIDAgEBAQEBAQECAgIGAwQEBQUFBQYFBgUMBgcGBwcHBggHCAcHBwcGBwYGDAUGBQYFBQUFBAMEAwIDAgECAQECAQICAgMDAwQEBAUFCgYFBgYGBgYGBwcGBwi5AU8CBQgICAgICAH+bQURCAkICAYBAQECCAgICQkGA78BAgEBAQEBAQEBAQEBAQQBAQEBAgECAQECAgEEAQICAgMCAgIKAgIFAgICAwIDAgMPAwMDAgMDCQIDBgMEAgcDBAMDAwQDAwQDBAMDBwQEAwQDBAQDBAQEAxcEBAQEBAMEBAQEBQQEBAQEBAgFBAMFBAQFBAQEBQMFBAQFBAQFBAQECQUEBAQFBAUEBAQFDQQFBAQECQQFBAUEBAQFBAQFBAQFCAQFAwUEBAQEBQQEBQQIBAQECAQEBQMIBAQEBAQDBAQEBAQEAwcEBAQDBAcEAwMDBQMDBAYEAwMDBAMDAwMEAgQFBAYCAwYCAwMCAwMCAwMEAwIDAgIDBAICAgMCAgEEAgICAwIDAgIDAgEBAQMCAQIBAQEBAQEBAQIBAQEDAQEBAQEBAQEBAQEBAQECAQEBAQEBAgEBAwEEAQMCAwQCAgECAgICAgIEBQICAgMEAwICAwsCAwMCAwMDAgYECAQCAwMKAwMEAwMEAwMZBAMEAwQHBAQDBAQEBAsEBAQEBAMJBAMFCAQEBQMEBAQFBAUEAwUEBAUEBAQFBAQEBAUEBAQFBAUEBAUEBQQECQMEBQQJBAUEBAQFBAUEBAUEBQQEBAQFBAQEBQQEBAQFBAQFBAQEBBUEAwUEAwUEAwUDBAQEBAsEBAQDBAQEAwQDBAQDBAMLAwMEAwMEAxADAwMDBAUDAwMGAwIDAwUDAggCAwMGBQMCAgICAgICAgICAgECAgIBAgMDAgMBAwECAQECAgEBAQEBAQEBAQMBAQE5AQIBAgIDAgMEBAQEBQsGBQYGBgUHBgcGBgcHBwcIBwgHBgcHDQYGBgYGBQUFBAQEBgMCAgIBAQEBAQEBAQICAgMGBAQEBQUFBgYGBgYGBwcGBwgHBwgHBwcHBwcGBgYHBQYGBgUFCgUEAwQDAwICAgIBAf60/iEICAQCAQEBFhYBAQECBAgJAa8BCAYDAgEBAAEApf/DA1QDwAA/AAABDgEHDgEXFhceARcWHwEWNjc2Nz4BNzY3NiYnLgEnFgcOAQcGBy4BNzY3PgE3NicuAScWBgcGBw4BBwYnNDYnAX8Ggi0bJx0TKChWJicQHQUlESYsLFUnJhwiDRASOjsaCwo1ICERChEEBRMTJgoKDRIfTBEOCAYQECYSEgglOAL1aEFgPIs6JxoZLxoaJ0QNPAwaFBQrGRkjLXo0OXEdLCgoZURDZBBvKi4vLlwtLi08lEJSSyEXMDBYHBsSLIwvAAALAOD/wAMgA8AANgBuAHsAhwCTAKAArQC5AMUA0QDoAAATIgYVMRE4ATEUFjsBDgEVFBYfAR4BFxQWFx4BMzI2Nz4BPwE+ATc+ATU0JiczMjY1MRE0JiMxBSERIy4BIwcuASc0NjE0JiMiBgcuASMiBgcuASc+ATU0Jic2NDU0JiMiBhUUFhcOAQcOAQcOAQcTIgYVFBYzMjY1NCYjMyIGFRQWMzI2NTQmMyIGFRQWMzI2NTQmByIGFRQWMzI2NTQmIzMiBhUUFjMyNjU0JiMHIgYVFBYzMjY1NCYzIgYVFBYzMjY1NCYHIgYVFBYzMjY1NCYBDgEVFBYXHgEzMjY1NCYnBxYGIyImN+8GCQkGCQICCAoxDwQDBg8WPxoZRRYIAwEHAgIKEhYKBZIGCQkG/ewCBosFEhYXAgUEARkRDRUEBxQODBYIAgcEAxMDBQEYEREYCQcIDQMMGAUDBAJjERgYEREYGBGgERgYEREZGZARGRkRERgYshEYGBERGRkRoREZGRERGBgRoREYGBERGRmQERkZEREYGBERGRkRERgY/oUGCCwTGj4bIH0HBgEBdh0fhwUDwAgG/esGCBEjEBgaFmcaHBwRFwoPCgsNBhQINxULEiApJhtGHQgGAhUGCB3+CBIbAgcMBQECEhgPDAsPEQkFCQQjQR8JKRICBQIRGBgRChIFEiMJI0YlDx4PAcoYEREYGBERGBgRERgYEREYGBERGBgRERh4GBERGBgRERgYEREYGBERGHgYEREZGRERGBgRERkZEREYeBgSERgYERIY/ggDCgcXHwcJCRgtCAwFCSoSGTEAAAYAAAAgBAADYAA0AEAAQwBHAFMAVwAAExcRByMwIjEiBhUUFjMwMjEhBR4BMzI2NTE1MzAyOQEhMDIxMjY1NCYjMCIxIycRNyMHIScHMxc3MwkBIwsBIwEnMwcXESc1AzIWFRQGIyImNTQ2HwEVI9A5R6ABDhMTDgEBAQE5AwYEDRRJAQEKAQ4TEw4BoEpYbxv+lRlRSs7fSf74AQhT1edMAQkLuDFbKFkKDAwKCQ0NYigoA2BK/iZUFA4NFIIBAhQOYxQNDhRYAbpmHx8P/v7+z/7FAQv+9QE73zkZ/uIvwf7+DQoJDQ0JCg1KMhkAAAEAEv/DA/EDwAA4AAAlBicuAScmJyYnLgEnJicmJy4BJyYnJicuATU2NwYHDgEHBhcWFx4BFxYXFhceARcWFxY3PgE3NjcD8S0sK1UpKigpJSZGICAeHRoaLBMTDw8KCgkBBi4gICcGBwYHDw8xIiErJCsqYDY2PDw3N2cvLytDAQQFEg4OFBMWFjMdHCAgIiJIJiYpKCkoUikqKTw6OnE4NzY2NDNiLy8sJx4eKw4NBQYGBSAbGyUAAAAAAgAA/9MEAAOtAEIAgQAAAQcOASMiJi8BBxceARceARcWBgcOARczFR4BFx4BFx4BHwEzNz4BNz4BNz4BNzYmJy4BNz4BNz4BPwEnBw4BIyImJwceATMyNjcXDgEHDgEHHQEGFhceAQcVMQ4BBw4BBw4BBy4BJy4BJy4BJyY2Nz4BLwIuAScuASc3HgEzMjY3Ag0WM0wmJVw+FH8WCyAREBkDDhkQEAgqARIxGxo4GzVWGAkjCRZTNRo2GRouECsCDQ4UEQEaEREiBhhwFT1XIyNKNRUyWSwsWDQvCRYLEh8IFRkNDAMkCh0UFDIaLV0iJWAuGzMVFB8LIQcPEB0TAQEJIhIJEgc6N1wuLlsyA60VNCQfFwiRFAoYDgwbBEFyOjyCRgEaIQkJCgQJHSkPECkjDAcNCwsiG0R5NTVjPAMnExMiBhOLCBcfJDRALCkeFDoKFw0VJxYBAUp4MjJZOAEQFgkIDQYLISYlHAcFCQcHFBE3Yjo5h1ACAxYeDwcNBkMVHiksAAAEAAAAAQQAA38AGwAeACgANAAAASIwIyIGBzEBDgEVFBYzITI2NTQmJzEBLgEnMQcBIQEiBhcTMxM2JiMRIgYVFBYzMjY1NCYCAgEBChAF/iQCAxUPA7gPFQMC/iQEEAkCAZ78xAGfQBMFLEgwAhhAHCsoHx8mKQN/Cgj8ygQJBQ8VFQ8FCQQDNgcKAWz9NgI8Qxz+8gEOIzz+dB8hHSQkHRwkAAMAAP/ABAADwADeAQYBtQAAASoBOQEHBiIHMQciBgcxBw4BBzEHDgEHMQcOAQcxBw4BBzEHDgEHFQcUBh0BBxwBFTEHBhQVOAE5ATAUMRwBFzEXHAEXIxceARcxFx4BFzUXHgEXMRceARcxFx4BFzEXHgEXMxceATsBFzIWMzEXOgEzOgEzMTcyNjMjNzI2MyM3PgE3Izc+ATcxNz4BPwE+ATcxNz4BNzE3PgE3MTc0NjUxNzwBNTwBNRUnNCY1FSc0JjUxJy4BJzEnLgEnMScuAScxJy4BJyMnLgEjNScuASMxJyYiJzEnKgEjMCI5AR8KDwkvCT8IByIGIzEHDgEHMQcOAQcxBw4BBzEHDgEHMQcOARUxBxQGFRQWMzI2NzE/BR8GFBYXNRceARcxFx4BFzEXHgEXFRceARcxFzoBMzoBMzE3PgE3Izc+ATcxNz4BNzE3PgE3Mzc+ATUxNzY0NTQmIyIGBxUPBS8FPAEnFTwBOQEnNCYnMScuAScxJy4BJzEnLgEnMScuAScjJyYiIzAiIzECAQECSAIEAkcCAwFEAgQBPgIDATgCAwEvAQEBKQECARwCEAYBAQYBARABAQEbAQIBKQEBAS8BAwE4AQQCPgEDAgFEAgMCAUcBBAJHAQIBAQIBRAIDAgFIAgQCAUUCAwIBPwIDAjcCAgEvAQEBKQECARsBAQEQAQYGARACHAECASkBAQEuAgMCOAEDAQE+AQMCRQEDAUgBBQJEAQIBAQE8QD44MSolGA4FBQ4YJSoyNz1APUBBPTcyKiUYDgUFDhkkKjI3PkFfAQMBKAMGAiUEBgMeAgQBGQIEARABAgYBHRMTGwIFCxIVGhsbGRYRCwUDAgIPAQMBGQIFAiACBgMlAwgEKAECAQECASgEBwQBJgMGAh8DBAIZAgIBAQ8BAgYBHBQSGwMFCxIUGB0dGBURCwIBBgIBEAEDAxgCAwIfAwYDJgIFAwEoAgQCAQEDwAYBARMBARsBAgElAQIBLwEDAjgBAgE/AQQCAUQBBAIBRwEDAkQBBAIBAgQBRAIDAUcDBAJBAgQCAT8BAwE3AgIBMgEDASYBAQEcAQEQAQYGARACHAEBASYBAwEyAQICNwEDAT4CBAJBAgQCSAEDAkcBAgEBAwEBSAIDAgFIAgQBRAMEAj4BAgE4AgMBLwECASUBAgEbAQETAQEGYQURGSIpMjg8QUBAQDk4MywhGQ4FBQ4ZISwzODlAQEBBPDgyKSIZEdABBgEBARABBAIZAgMCHwMFAyYCBgMpAQQCFBwXEiIaFhELBAQLEhUaICQEBwQBJgIFAiIDBQIZAgMBAQ8BAgEDAwECAQ8CAwIZAgQDIwIFAiYCBQMlAgUCFBwXEQEfGxkQCgICChAYGhwCAgEBAQImAwYCJQQFAx8CAwIZAgQBEAEBAQYBAAAEAAAABgQAA3oAAgAFAAgACwAACQEhCQEhAQMhAxcjAf/+AQQA/gABX/1CAV7+Af7/XrwDevyMArv9ogH0/kcBAKMAAAkAdP/AA4wDwAALABMAIwA3AE0AXgBuAH4AkAAAAREhETM2NzYyFxYXIzQnLgEHBhUTBzMnPgE1NCYjIgYVFBYXEyIHDgEHBgcjESERIyYnLgEnJiMVMhceARcWHQEzESERMzU0Nz4BNzYzByIHDgEHBh0BITU0Jy4BJyYHFhceARcWFyE2Nz4BNzYzEyIGFRQWFwczJz4BNTQmIxUyFhUUBg8BFyM3Jy4BNTQ2MwOA/QBWAV1d4F1dAURJSK1JSLotti4YHTooKTkcGC45NzdXGxsCVwMYVQIbHFY3Nzk1NDNRGRlU/RhWGRlRMzQ1AS4rLEQVFAHmFRVELCwuKCcmPhQTAv5JAhMUPScmKAEtQRwWLtMuFxxBLSQyGRUILJgrCBQaMyQCOf2TAm29X19eX76bTk4BTk6c/si3tw0uHCk5OSkcLg0CvxgZX0dHXf17AoVeR0dfGBgXFxZbRUZdC/2pAlcLXUVFWxcXLRQVUT08UAsLTz08URUVFwEREkc2NklJNzZHERL+YUAuHTAPvr4PMB0uQBgyJBgpCwWxsQULKRgkMgABAAH/5QQAA5sAcAAAASIGBzEPAQEHDgEjIiYnLgEnOQEuAScuAScxJy4BNTQmJy4BJyMxLgEjIgYHDgEHDgEHDgEHFTEGFh8BFBYXHgEXOQEeARceARceARcxFzEyNjc+ATc+ATc+ATczMQETNz4BNz4BPQE0JicuAScmIiMDyhMaDWS6/voWBQsCAQgEBQYBAwUBAgIBCwQJAQMDCQcBCxcNDycPGiQNEBIEBAECAgQFEQQMCx0MBxgNBw0HBgsHHg0YDQwaDAsTBgEBAQEBG/9aCg4FBQQBBwMLBQYNCAObCgpTs/7/FQUIAgICBQEDCwcHEAZGFDgRCA0HBwoGCAgHBQcsDxQUDAsbGQEqSCqbDB8NDRsLBRIIBAgEAwQBAgsICBMKCREGAQEBARABEmIKDQgIFQ5UDhUJBQUBAgAAAAABAAAAAQAA/nqAy18PPPUACwQAAAAAANeyKfsAAAAA17Ip+wAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAVBAAAAAAAAAAAAAAAAgAAAAQAAFgEAAAABAAAEwQAACIEAAAGBAAACwQAAAAEAAClBAAA4AQAAAAEAAASBAAAAAQAAAAEAAAABAAAAAQAAHQEAAABAAAAAAAKABQAHgFUAaYCoALYA1YDfAaeBwYIPAi0CRIJ1gooDEAMYg02DdgAAQAAABUC8gALAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAkAAAABAAAAAAACAAcAcgABAAAAAAADAAkAPAABAAAAAAAEAAkAhwABAAAAAAAFAAsAGwABAAAAAAAGAAkAVwABAAAAAAAKABoAogADAAEECQABABIACQADAAEECQACAA4AeQADAAEECQADABIARQADAAEECQAEABIAkAADAAEECQAFABYAJgADAAEECQAGABIAYAADAAEECQAKADQAvGRzY19pY29ucwBkAHMAYwBfAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGRzY19pY29ucwBkAHMAYwBfAGkAYwBvAG4Ac2RzY19pY29ucwBkAHMAYwBfAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmRzY19pY29ucwBkAHMAYwBfAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format('woff');font-weight:400;font-style:normal}`,Og=Object.defineProperty,Tg=Object.getOwnPropertyDescriptor,vt=(e,t,i,n)=>{for(var s=n>1?void 0:n?Tg(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&Og(t,i,s),s};let ua=_i(),At=class extends mt{constructor(){super(...arguments),this.scheme="",this.current_partition=1,this._line1="",this._line2="",this._readyStyle="color: var(--sensoroff);",this._armedStyle="color: var(--sensoroff);",this._chimeStyle="color: var(--sensoroff);",this._troubleStyle="color: var(--sensoroff);",this._acStyle="color: var(--sensoroff);",this._dscKeypad=!1,this._line1id="",this._line2id="",this._cmd_stay="",this._cmd_away="",this._cmd_chime="",this._cmd_reset="",this._cmd_exit="",this._cmd_fire="",this._cmd_alert="",this._cmd_panic="",this._sensor_ready="",this._sensor_armed="",this._sensor_trouble="",this._sensor_ac="",this._sensor_chime="",this._cmd_A="",this._cmd_B="",this._cmd_C="",this._cmd_D="",this._text_0="",this._text_1="",this._text_2="",this._text_3="",this._text_4="",this._text_5="",this._text_6="",this._text_7="",this._text_8="",this._text_9="",this._text_star="",this._text_pound="",this._partitions=1,this._vibration_duration=5}render(){return S`<div class="container" color-scheme="${this.scheme}"><div class="keypad_title">Partition: ${this.current_partition}</div><div id="lcd_container"><div class="virtual_lcd"><div id="first_line">${this._line1}</div><div id="second_line">${this._line2}</div></div><div class="status_icons"><i class="keypad-icon icon-check" id="ready_icon" title="Ready" style="${this._readyStyle}"></i> <i class="keypad-icon icon-armed" id="armed_icon" title="Armed" style="${this._armedStyle}"></i> ${this._sensor_chime?S`<i class="keypad-icon icon-bell" id="chime_icon" title="Chime" style="${this._chimeStyle}"></i>`:""} <i class="keypad-icon icon-trouble" id="trouble_icon" title="System Trouble" style="${this._troubleStyle}"></i> <i class="keypad-icon icon-ac" id="ac_icon" title="AC Power" style="${this._acStyle}"></i></div></div><div id="buttons_area"><div id="left_buttons"><div class="keypad_button_row"><button type="button" id="btn_<" class="btn btn-outline-dark keypad_button keypad_button_small" state="<" @click="${this.setState}" title="<">&lt;</button> <button type="button" id="btn_>" class="btn btn-outline-dark keypad_button keypad_button_small" state=">" @click="${this.setState}" title=">">></button></div><div class="keypad_button_row"><button type="button" id="btn_f" class="btn btn-outline-dark keypad_button keypad_button_slim" state="f" @click="${this.confirmState}" title="Fire"><i class="keypad-icon icon-flame"></i></button></div><div class="keypad_button_row"><button type="button" id="btn_a" class="btn btn-outline-dark keypad_button keypad_button_slim" state="a" @click="${this.confirmState}" title="Alert"><i class="keypad-icon icon-alert"></i></button></div><div class="keypad_button_row"><button type="button" id="btn_p" class="btn btn-outline-dark keypad_button keypad_button_slim" state="p" @click="${this.confirmState}" title="Panic"><i class="keypad-icon icon-thief"></i></button></div></div><div id="keypad_container"><div class="keypad_button_row"><button type="button" id="btn_1" class="btn btn-outline-dark keypad_button keypad_button_pad" state="1" @click="${this.setState}" title="1">1<div class="keypad_cmd_text">${this._text_1}</div></button> <button type="button" id="btn_2" class="btn btn-outline-dark keypad_button keypad_button_pad" state="2" @click="${this.setState}" title="2">2<div class="keypad_cmd_text">${this._text_2}</div></button> <button type="button" id="btn_3" class="btn btn-outline-dark keypad_button keypad_button_pad" state="3" @click="${this.setState}" title="3">3<div class="keypad_cmd_text">${this._text_3}</div></button></div><div class="keypad_button_row"><button type="button" id="btn_4" class="btn btn-outline-dark keypad_button keypad_button_pad" state="4" @click="${this.setState}" title="4">4<div class="keypad_cmd_text">${this._text_4}</div></button> <button type="button" id="btn_5" class="btn btn-outline-dark keypad_button keypad_button_pad" state="5" @click="${this.setState}" title="5">5<div class="keypad_cmd_text">${this._text_5}</div></button> <button type="button" id="btn_6" class="btn btn-outline-dark keypad_button keypad_button_pad" state="6" @click="${this.setState}" title="6">6<div class="keypad_cmd_text">${this._text_6}</div></button></div><div class="keypad_button_row"><button type="button" id="btn_7" class="btn btn-outline-dark keypad_button keypad_button_pad" state="7" @click="${this.setState}" title="7">7<div class="keypad_cmd_text">${this._text_7}</div></button> <button type="button" id="btn_8" class="btn btn-outline-dark keypad_button keypad_button_pad" state="8" @click="${this.setState}" title="8">8<div class="keypad_cmd_text">${this._text_8}</div></button> <button type="button" id="btn_9" class="btn btn-outline-dark keypad_button keypad_button_pad" state="9" @click="${this.setState}" title="9">9<div class="keypad_cmd_text">${this._text_9}</div></button></div><div class="keypad_button_row"><button type="button" id="btn_*" class="btn btn-outline-dark keypad_button keypad_button_pad" state="*" @click="${this.setState}" title="*"><i class="keypad-icon icon-star"></i><div class="keypad_cmd_text">${this._text_star}</div></button> <button type="button" id="btn_0" class="btn btn-outline-dark keypad_button keypad_button_pad" state="0" @click="${this.setState}" title="0">0<div class="keypad_cmd_text">${this._text_0}</div></button> <button type="button" id="btn_#" class="btn btn-outline-dark keypad_button keypad_button_pad" state="#" @click="${this.setState}" title="#">#<div class="keypad_cmd_text">${this._text_pound}</div></button></div></div><div id="right_buttons"><div class="keypad_button_row"><button type="button" id="btn_s" class="btn btn-outline-dark keypad_button keypad_button_control" state="s" @click="${this.setState}" title="stay"><i class="keypad-icon icon-stay_away"></i></button></div><div class="keypad_button_row"><button type="button" id="btn_w" class="btn btn-outline-dark keypad_button keypad_button_control" state="w" @click="${this.setState}" title="away"><i class="keypad-icon icon-stay_empty"></i></button></div><div class="keypad_button_row"><button type="button" id="btn_c" class="btn btn-outline-dark keypad_button keypad_button_control" state="c" @click="${this.setState}" title="chime"><i class="keypad-icon icon-bell"></i></button></div><div class="keypad_button_row"><button type="button" id="btn_r" class="btn btn-outline-dark keypad_button keypad_button_control" state="r" @click="${this.setState}" title="reset"><i class="keypad-icon icon-refresh"></i></button></div><div class="keypad_button_row"><button type="button" id="btn_x" class="btn btn-outline-dark keypad_button keypad_button_control" state="x" @click="${this.setState}" title="exit"><i class="keypad-icon icon-exit"></i></button></div></div></div></div><audio id="exitsound1" loop><source src="/local/1_beep.mp3" type="audio/mpeg"></audio><audio id="exitsound2" loop><source src="/local/2_beeps.mp3" type="audio/mpeg"></audio><audio id="chime"><source src="/local/3_beeps.mp3" type="audio/mpeg"></audio>`}setConfig(e){this._line1id=e.line_1!=null?e.line_1:"ln1_?",this._line2id=e.line_2!=null?e.line_2:"ln2_?",this._sensor_ready=e.sensor_ready!=null?e.sensor_ready:"rdy_?",this._sensor_armed=e.sensor_armed!=null?e.sensor_armed:"arm_?",this._sensor_trouble=e.sensor_trouble!=null?e.sensor_trouble:"tr",this._sensor_ac=e.sensor_ac!=null?e.sensor_ac:"ac",this._cmd_stay=e.cmd_stay!=null?e.cmd_stay:"S",this._cmd_away=e.cmd_away!=null?e.cmd_away:"W",this._cmd_chime=e.cmd_chime!=null?e.cmd_chime:"C",this._cmd_reset=e.cmd_reset!=null?e.cmd_reset:"R",this._cmd_exit=e.cmd_exit!=null?e.cmd_exit:"X",this._cmd_fire=e.cmd_fire!=null?e.cmd_fire:"F",this._cmd_alert=e.cmd_alert!=null?e.cmd_alert:"A",this._cmd_panic=e.cmd_panic!=null?e.cmd_panic:"P",this._text_0=e.text_0!=null?e.text_0:" ",this._text_1=e.text_1!=null?e.text_1:"BYPASS",this._text_2=e.text_2!=null?e.text_2:"SERV",this._text_3=e.text_3!=null?e.text_3:"ALARMS",this._text_4=e.text_4!=null?e.text_4:"CHIME",this._text_5=e.text_5!=null?e.text_5:"CODES",this._text_6=e.text_6!=null?e.text_6:"FUNC",this._text_7=e.text_7!=null?e.text_7:"OUTP",this._text_8=e.text_8!=null?e.text_8:"PROG",this._text_9=e.text_9!=null?e.text_9:"NIGHT",this._text_star=e.text_star!=null?e.text_star:"SELECT",this._text_pound=e.text_pound!=null?e.text_pound:"ENTER",this._vibration_duration=e.vibration_duration!=null?e.vibration_duration:5,this._beep=e.beep!=null?e.beep:"",this._style=e.style!=null?e.style:"";for(let i in this._style)if(this._style[i]!=null){var t=this._style[i].replace(/;/gi,"");this.style.setProperty(i,t)}}firstUpdated(){}connectedCallback(){var e,t;super.connectedCallback(),(e=window.source)==null||e.addEventListener("key_config",i=>{let n=localStorage.getItem("keypad_config");if(n===null){let o=i.data;Ot(o)&&(o=JSON.parse(o)),"iv"in o&&(o=zt(o)),this.setConfig(o),localStorage.setItem("keypad_config",JSON.stringify(o))}else{let s=JSON.parse(n);this.setConfig(s)}}),(t=window.source)==null||t.addEventListener("state",i=>{var s=i.data;if(Ot(s)&&(s=JSON.parse(s)),s.iv!=null&&(s=zt(s)),s.id){let o=s.id.split("-"),r="";s.id_code?r=s.id_code:o[2]!=null&&(r=o[2]),r!=""&&(r==this._beep.replace("?",this.current_partition)?this.beepChanged(s.value):r==this._line1id.replace("?",this.current_partition)?this._line1=s.value:r==this._line2id.replace("?",this.current_partition)?this._line2=s.value:r==this._sensor_ready.replace("?",this.current_partition)?this._readyStyle=s.value?"color: green;":"color: var(--sensoroff);":r==this._sensor_armed.replace("?",this.current_partition)?this._armedStyle=s.value?"color: red;":"color: var(--sensoroff);":r==this._sensor_trouble.replace("?",this.current_partition)?this._troubleStyle=s.value?"color: orange;":"color: var(--sensoroff);":r==this._sensor_ac.replace("?",this.current_partition)?this._acStyle=s.value?"color: green;":"color: var(--sensoroff);":r==this._sensor_chime.replace("?",this.current_partition)&&(this._chimeStyle=s.value?"color: green;":"color: var(--sensoroff);"))}})}applyStylesToRoot(){var t;const e=(t=ha.styleSheet)!=null?t:ha;document.adoptedStyleSheets.includes(e)||document.adoptedStyleSheets.push(e)}createRenderRoot(){return this.applyStylesToRoot(),super.createRenderRoot()}getConfig(){fetch(`${ua}/alarm_panel/alarm_panel/getconfig`).then(e=>e.text()).then(e=>{this.setConfig(e)}).catch(e=>console.error(e))}sendKey(e){let t=JSON.stringify({keys:e,partition:this.current_partition,method:"POST",action:"set",oid:"alarm_panel",domain:"alarm_panel"});fetch(`${ua}/api`,{method:"POST",body:bi(t)}).then(i=>{i.ok||(console.log(i),alert("Error: "+i.statusText+`
Press F5 to reload the page`))}).catch(i=>{console.log(i),alert(i+`
Press F5 to reload the page`)})}setPartition(e){var t=e.currentTarget.getAttribute("state");this.current_partition=t,this.sendKey("R")}confirmState(e){var t=e.currentTarget.getAttribute("state");let i="";switch(t){case"a":i="Alert";break;case"f":i="Fire";break;case"p":i="Panic";break}confirm("Are you sure you want to trigger the "+i+" command")==!0&&this.setState(e)}setState(e){var t=e.currentTarget.getAttribute("state");switch(t){case"s":t=this._cmd_stay;break;case"w":t=this._cmd_away;break;case"r":t=this._cmd_reset;break;case"x":t=this._cmd_exit;break;case"c":t=this._cmd_chime;break;case"a":t=this._cmd_alert;break;case"f":t=this._cmd_fire;break;case"p":t=this._cmd_panic;break;case"0":t="0";break;case"1":t="1";break;case"2":t="2";break;case"3":t="3";break;case"4":t="4";break;case"5":t="5";break;case"6":t="6";break;case"7":t="7";break;case"8":t="8";break;case"9":t="9";break;case"*":t="*";break;case"#":t="#";break;case">":t=">";break;case"<":t="<";break;default:return}t!=""&&("vibrate"in navigator&&navigator.vibrate(this._vibration_duration),this.sendKey(t))}beepChanged(e){if(e==null||e=="0"){var t=this.shadowRoot.getElementById("exitsound1").pause();this.shadowRoot.getElementById("exitsound2").pause(),this.shadowRoot.getElementById("chime").pause()}else if(e=="1")var t=this.shadowRoot.getElementById("exitsound1").play();else if(e=="2")var t=this.shadowRoot.getElementById("exitsound2").play();else if(e>2)var t=this.shadowRoot.getElementById("chime").play();t!==void 0&&t.then(i=>{}).catch(i=>{console.warn("Sound auto play not enabled, check browser settings")})}static get styles(){return[Rg]}};vt([it({type:String})],At.prototype,"scheme",2);vt([it({type:Number})],At.prototype,"current_partition",2);vt([nt({type:String})],At.prototype,"_line1",2);vt([nt({type:String})],At.prototype,"_line2",2);vt([nt({type:String})],At.prototype,"_readyStyle",2);vt([nt({type:String})],At.prototype,"_armedStyle",2);vt([nt({type:String})],At.prototype,"_chimeStyle",2);vt([nt({type:String})],At.prototype,"_troubleStyle",2);vt([nt({type:String})],At.prototype,"_acStyle",2);vt([nt({type:String})],At.prototype,"_dscKeypad",2);At=vt([Vt("esp-keypad")],At);var Fg=dt`.flex-grid-half{display:grid;grid-template-columns:700px 2fr}.flex-grid-half.expanded_entity,.flex-grid-half.expanded_logs{grid-template-columns:1fr}.flex-grid-half .col{margin:8px}.flex-grid-half .col:nth-child(2){overflow:hidden}.flex-grid-half.expanded_logs .col:nth-child(1){display:none}.flex-grid-half.expanded_entity .col:nth-child(2){display:none}@media (max-width:1024px){.flex-grid,.flex-grid-half{display:block}.flex-grid-half .col{width:100%!important;margin:0 0 10px 0!important;display:block!important}}*{box-sizing:border-box}.flex-grid{margin:0 0 20px 0}h1{text-align:center;width:100%;line-height:1.1em;margin-block:.25em}header div{text-align:center;width:100%}header #logo,header iconify-icon{float:right;font-size:2.5rem;color:rgba(127,127,127,.5)}header #logo{float:left;color:rgba(127,127,127,.5)}.connected{color:rgba(0,157,16,.75)}esp-logo{float:left;line-height:1em;font-size:initial}form{display:flex;justify-content:space-between;background-color:rgba(127,127,127,.05);border-radius:12px;border-width:1px;border-style:solid;border-color:rgba(127,127,127,.12)}form .btn{margin-right:0}`;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml license MIT */function rl(e){return typeof e=="undefined"||e===null}function Pg(e){return typeof e=="object"&&e!==null}function Qg(e){return Array.isArray(e)?e:rl(e)?[]:[e]}function Lg(e,t){var i,n,s,o;if(t)for(o=Object.keys(t),i=0,n=o.length;i<n;i+=1)s=o[i],e[s]=t[s];return e}function $g(e,t){var i="",n;for(n=0;n<t;n+=1)i+=e;return i}function Ng(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var zg=rl,Hg=Pg,Yg=Qg,Ug=$g,jg=Ng,Vg=Lg,j={isNothing:zg,isObject:Hg,toArray:Yg,repeat:Ug,isNegativeZero:jg,extend:Vg};function al(e,t){var i="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(i+='in "'+e.mark.name+'" '),i+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(i+=`

`+e.mark.snippet),n+" "+i):n}function yi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=al(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}yi.prototype=Object.create(Error.prototype);yi.prototype.constructor=yi;yi.prototype.toString=function(t){return this.name+": "+al(this,t)};var lt=yi;function ss(e,t,i,n,s){var o="",r="",a=Math.floor(s/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),i-n>a&&(r=" ...",i=n+a-r.length),{str:o+e.slice(t,i).replace(/\t/g,"\u2192")+r,pos:n-t+o.length}}function os(e,t){return j.repeat(" ",t-e.length)+e}function Gg(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var i=/\r?\n|\r|\0/g,n=[0],s=[],o,r=-1;o=i.exec(e.buffer);)s.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&r<0&&(r=n.length-2);r<0&&(r=n.length-1);var a="",c,l,h=Math.min(e.line+t.linesAfter,s.length).toString().length,u=t.maxLength-(t.indent+h+3);for(c=1;c<=t.linesBefore&&!(r-c<0);c++)l=ss(e.buffer,n[r-c],s[r-c],e.position-(n[r]-n[r-c]),u),a=j.repeat(" ",t.indent)+os((e.line-c+1).toString(),h)+" | "+l.str+`
`+a;for(l=ss(e.buffer,n[r],s[r],e.position,u),a+=j.repeat(" ",t.indent)+os((e.line+1).toString(),h)+" | "+l.str+`
`,a+=j.repeat("-",t.indent+h+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(r+c>=s.length);c++)l=ss(e.buffer,n[r+c],s[r+c],e.position-(n[r]-n[r+c]),u),a+=j.repeat(" ",t.indent)+os((e.line+c+1).toString(),h)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var Wg=Gg,Kg=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Jg=["scalar","sequence","mapping"];function qg(e){var t={};return e!==null&&Object.keys(e).forEach(function(i){e[i].forEach(function(n){t[String(n)]=i})}),t}function Xg(e,t){if(t=t||{},Object.keys(t).forEach(function(i){if(Kg.indexOf(i)===-1)throw new lt('Unknown option "'+i+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(i){return i},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=qg(t.styleAliases||null),Jg.indexOf(this.kind)===-1)throw new lt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var et=Xg;function da(e,t){var i=[];return e[t].forEach(function(n){var s=i.length;i.forEach(function(o,r){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(s=r)}),i[s]=n}),i}function Zg(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,i;function n(s){s.multi?(e.multi[s.kind].push(s),e.multi.fallback.push(s)):e[s.kind][s.tag]=e.fallback[s.tag]=s}for(t=0,i=arguments.length;t<i;t+=1)arguments[t].forEach(n);return e}function Ts(e){return this.extend(e)}Ts.prototype.extend=function(t){var i=[],n=[];if(t instanceof et)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(i=i.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new lt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(o){if(!(o instanceof et))throw new lt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new lt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new lt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof et))throw new lt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(Ts.prototype);return s.implicit=(this.implicit||[]).concat(i),s.explicit=(this.explicit||[]).concat(n),s.compiledImplicit=da(s,"implicit"),s.compiledExplicit=da(s,"explicit"),s.compiledTypeMap=Zg(s.compiledImplicit,s.compiledExplicit),s};var tm=Ts,em=new et("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),im=new et("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),nm=new et("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),sm=new tm({explicit:[em,im,nm]});function om(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function rm(){return null}function am(e){return e===null}var cm=new et("tag:yaml.org,2002:null",{kind:"scalar",resolve:om,construct:rm,predicate:am,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function lm(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function hm(e){return e==="true"||e==="True"||e==="TRUE"}function um(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var dm=new et("tag:yaml.org,2002:bool",{kind:"scalar",resolve:lm,construct:hm,predicate:um,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function fm(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function pm(e){return 48<=e&&e<=55}function gm(e){return 48<=e&&e<=57}function mm(e){if(e===null)return!1;var t=e.length,i=0,n=!1,s;if(!t)return!1;if(s=e[i],(s==="-"||s==="+")&&(s=e[++i]),s==="0"){if(i+1===t)return!0;if(s=e[++i],s==="b"){for(i++;i<t;i++)if(s=e[i],s!=="_"){if(s!=="0"&&s!=="1")return!1;n=!0}return n&&s!=="_"}if(s==="x"){for(i++;i<t;i++)if(s=e[i],s!=="_"){if(!fm(e.charCodeAt(i)))return!1;n=!0}return n&&s!=="_"}if(s==="o"){for(i++;i<t;i++)if(s=e[i],s!=="_"){if(!pm(e.charCodeAt(i)))return!1;n=!0}return n&&s!=="_"}}if(s==="_")return!1;for(;i<t;i++)if(s=e[i],s!=="_"){if(!gm(e.charCodeAt(i)))return!1;n=!0}return!(!n||s==="_")}function Am(e){var t=e,i=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(i=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return i*parseInt(t.slice(2),2);if(t[1]==="x")return i*parseInt(t.slice(2),16);if(t[1]==="o")return i*parseInt(t.slice(2),8)}return i*parseInt(t,10)}function bm(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!j.isNegativeZero(e)}var _m=new et("tag:yaml.org,2002:int",{kind:"scalar",resolve:mm,construct:Am,predicate:bm,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),xm=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ym(e){return!(e===null||!xm.test(e)||e[e.length-1]==="_")}function vm(e){var t,i;return t=e.replace(/_/g,"").toLowerCase(),i=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:i*parseFloat(t,10)}var wm=/^[-+]?[0-9]+e/;function Em(e,t){var i;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(j.isNegativeZero(e))return"-0.0";return i=e.toString(10),wm.test(i)?i.replace("e",".e"):i}function km(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||j.isNegativeZero(e))}var Bm=new et("tag:yaml.org,2002:float",{kind:"scalar",resolve:ym,construct:vm,predicate:km,represent:Em,defaultStyle:"lowercase"}),Cm=sm.extend({implicit:[cm,dm,_m,Bm]}),Mm=Cm,cl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ll=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Sm(e){return e===null?!1:cl.exec(e)!==null||ll.exec(e)!==null}function Im(e){var t,i,n,s,o,r,a,c=0,l=null,h,u,d;if(t=cl.exec(e),t===null&&(t=ll.exec(e)),t===null)throw new Error("Date resolve error");if(i=+t[1],n=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(i,n,s));if(o=+t[4],r=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(h=+t[10],u=+(t[11]||0),l=(h*60+u)*6e4,t[9]==="-"&&(l=-l)),d=new Date(Date.UTC(i,n,s,o,r,a,c)),l&&d.setTime(d.getTime()-l),d}function Dm(e){return e.toISOString()}var Rm=new et("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Sm,construct:Im,instanceOf:Date,represent:Dm});function Om(e){return e==="<<"||e===null}var Tm=new et("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Om}),lo=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fm(e){if(e===null)return!1;var t,i,n=0,s=e.length,o=lo;for(i=0;i<s;i++)if(t=o.indexOf(e.charAt(i)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Pm(e){var t,i,n=e.replace(/[\r\n=]/g,""),s=n.length,o=lo,r=0,a=[];for(t=0;t<s;t++)t%4===0&&t&&(a.push(r>>16&255),a.push(r>>8&255),a.push(r&255)),r=r<<6|o.indexOf(n.charAt(t));return i=s%4*6,i===0?(a.push(r>>16&255),a.push(r>>8&255),a.push(r&255)):i===18?(a.push(r>>10&255),a.push(r>>2&255)):i===12&&a.push(r>>4&255),new Uint8Array(a)}function Qm(e){var t="",i=0,n,s,o=e.length,r=lo;for(n=0;n<o;n++)n%3===0&&n&&(t+=r[i>>18&63],t+=r[i>>12&63],t+=r[i>>6&63],t+=r[i&63]),i=(i<<8)+e[n];return s=o%3,s===0?(t+=r[i>>18&63],t+=r[i>>12&63],t+=r[i>>6&63],t+=r[i&63]):s===2?(t+=r[i>>10&63],t+=r[i>>4&63],t+=r[i<<2&63],t+=r[64]):s===1&&(t+=r[i>>2&63],t+=r[i<<4&63],t+=r[64],t+=r[64]),t}function Lm(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var $m=new et("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fm,construct:Pm,predicate:Lm,represent:Qm}),Nm=Object.prototype.hasOwnProperty,zm=Object.prototype.toString;function Hm(e){if(e===null)return!0;var t=[],i,n,s,o,r,a=e;for(i=0,n=a.length;i<n;i+=1){if(s=a[i],r=!1,zm.call(s)!=="[object Object]")return!1;for(o in s)if(Nm.call(s,o))if(!r)r=!0;else return!1;if(!r)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Ym(e){return e!==null?e:[]}var Um=new et("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Hm,construct:Ym}),jm=Object.prototype.toString;function Vm(e){if(e===null)return!0;var t,i,n,s,o,r=e;for(o=new Array(r.length),t=0,i=r.length;t<i;t+=1){if(n=r[t],jm.call(n)!=="[object Object]"||(s=Object.keys(n),s.length!==1))return!1;o[t]=[s[0],n[s[0]]]}return!0}function Gm(e){if(e===null)return[];var t,i,n,s,o,r=e;for(o=new Array(r.length),t=0,i=r.length;t<i;t+=1)n=r[t],s=Object.keys(n),o[t]=[s[0],n[s[0]]];return o}var Wm=new et("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Vm,construct:Gm}),Km=Object.prototype.hasOwnProperty;function Jm(e){if(e===null)return!0;var t,i=e;for(t in i)if(Km.call(i,t)&&i[t]!==null)return!1;return!0}function qm(e){return e!==null?e:{}}var Xm=new et("tag:yaml.org,2002:set",{kind:"mapping",resolve:Jm,construct:qm}),hl=Mm.extend({implicit:[Rm,Tm],explicit:[$m,Um,Wm,Xm]}),jt=Object.prototype.hasOwnProperty,wn=1,ul=2,dl=3,En=4,rs=1,Zm=2,fa=3,tA=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,eA=/[\x85\u2028\u2029]/,iA=/[,\[\]\{\}]/,fl=/^(?:!|!!|![a-z\-]+!)$/i,pl=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function pa(e){return Object.prototype.toString.call(e)}function Bt(e){return e===10||e===13}function ce(e){return e===9||e===32}function ht(e){return e===9||e===32||e===10||e===13}function we(e){return e===44||e===91||e===93||e===123||e===125}function nA(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function sA(e){return e===120?2:e===117?4:e===85?8:0}function oA(e){return 48<=e&&e<=57?e-48:-1}function ga(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function rA(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var gl=new Array(256),ml=new Array(256);for(var xe=0;xe<256;xe++)gl[xe]=ga(xe)?1:0,ml[xe]=ga(xe);function aA(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||hl,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Al(e,t){var i={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return i.snippet=Wg(i),new lt(t,i)}function C(e,t){throw Al(e,t)}function kn(e,t){e.onWarning&&e.onWarning.call(null,Al(e,t))}var ma={YAML:function(t,i,n){var s,o,r;t.version!==null&&C(t,"duplication of %YAML directive"),n.length!==1&&C(t,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),s===null&&C(t,"ill-formed argument of the YAML directive"),o=parseInt(s[1],10),r=parseInt(s[2],10),o!==1&&C(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=r<2,r!==1&&r!==2&&kn(t,"unsupported YAML version of the document")},TAG:function(t,i,n){var s,o;n.length!==2&&C(t,"TAG directive accepts exactly two arguments"),s=n[0],o=n[1],fl.test(s)||C(t,"ill-formed tag handle (first argument) of the TAG directive"),jt.call(t.tagMap,s)&&C(t,'there is a previously declared suffix for "'+s+'" tag handle'),pl.test(o)||C(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{C(t,"tag prefix is malformed: "+o)}t.tagMap[s]=o}};function Ht(e,t,i,n){var s,o,r,a;if(t<i){if(a=e.input.slice(t,i),n)for(s=0,o=a.length;s<o;s+=1)r=a.charCodeAt(s),r===9||32<=r&&r<=1114111||C(e,"expected valid JSON character");else tA.test(a)&&C(e,"the stream contains non-printable characters");e.result+=a}}function Aa(e,t,i,n){var s,o,r,a;for(j.isObject(i)||C(e,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(i),r=0,a=s.length;r<a;r+=1)o=s[r],jt.call(t,o)||(t[o]=i[o],n[o]=!0)}function Ee(e,t,i,n,s,o,r,a,c){var l,h;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),l=0,h=s.length;l<h;l+=1)Array.isArray(s[l])&&C(e,"nested arrays are not supported inside keys"),typeof s=="object"&&pa(s[l])==="[object Object]"&&(s[l]="[object Object]");if(typeof s=="object"&&pa(s)==="[object Object]"&&(s="[object Object]"),s=String(s),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,h=o.length;l<h;l+=1)Aa(e,t,o[l],i);else Aa(e,t,o,i);else!e.json&&!jt.call(i,s)&&jt.call(t,s)&&(e.line=r||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,C(e,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[s]=o,delete i[s];return t}function ho(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):C(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function H(e,t,i){for(var n=0,s=e.input.charCodeAt(e.position);s!==0;){for(;ce(s);)s===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0);if(Bt(s))for(ho(e),s=e.input.charCodeAt(e.position),n++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);else break}return i!==-1&&n!==0&&e.lineIndent<i&&kn(e,"deficient indentation"),n}function Qn(e){var t=e.position,i;return i=e.input.charCodeAt(t),!!((i===45||i===46)&&i===e.input.charCodeAt(t+1)&&i===e.input.charCodeAt(t+2)&&(t+=3,i=e.input.charCodeAt(t),i===0||ht(i)))}function uo(e,t){t===1?e.result+=" ":t>1&&(e.result+=j.repeat(`
`,t-1))}function cA(e,t,i){var n,s,o,r,a,c,l,h,u=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),ht(p)||we(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(s=e.input.charCodeAt(e.position+1),ht(s)||i&&we(s)))return!1;for(e.kind="scalar",e.result="",o=r=e.position,a=!1;p!==0;){if(p===58){if(s=e.input.charCodeAt(e.position+1),ht(s)||i&&we(s))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),ht(n))break}else{if(e.position===e.lineStart&&Qn(e)||i&&we(p))break;if(Bt(p))if(c=e.line,l=e.lineStart,h=e.lineIndent,H(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=r,e.line=c,e.lineStart=l,e.lineIndent=h;break}}a&&(Ht(e,o,r,!1),uo(e,e.line-c),o=r=e.position,a=!1),ce(p)||(r=e.position+1),p=e.input.charCodeAt(++e.position)}return Ht(e,o,r,!1),e.result?!0:(e.kind=u,e.result=d,!1)}function lA(e,t){var i,n,s;if(i=e.input.charCodeAt(e.position),i!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=s=e.position;(i=e.input.charCodeAt(e.position))!==0;)if(i===39)if(Ht(e,n,e.position,!0),i=e.input.charCodeAt(++e.position),i===39)n=e.position,e.position++,s=e.position;else return!0;else Bt(i)?(Ht(e,n,s,!0),uo(e,H(e,!1,t)),n=s=e.position):e.position===e.lineStart&&Qn(e)?C(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);C(e,"unexpected end of the stream within a single quoted scalar")}function hA(e,t){var i,n,s,o,r,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Ht(e,i,e.position,!0),e.position++,!0;if(a===92){if(Ht(e,i,e.position,!0),a=e.input.charCodeAt(++e.position),Bt(a))H(e,!1,t);else if(a<256&&gl[a])e.result+=ml[a],e.position++;else if((r=sA(a))>0){for(s=r,o=0;s>0;s--)a=e.input.charCodeAt(++e.position),(r=nA(a))>=0?o=(o<<4)+r:C(e,"expected hexadecimal character");e.result+=rA(o),e.position++}else C(e,"unknown escape sequence");i=n=e.position}else Bt(a)?(Ht(e,i,n,!0),uo(e,H(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Qn(e)?C(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}C(e,"unexpected end of the stream within a double quoted scalar")}function uA(e,t){var i=!0,n,s,o,r=e.tag,a,c=e.anchor,l,h,u,d,p,g=Object.create(null),m,b,w,v;if(v=e.input.charCodeAt(e.position),v===91)h=93,p=!1,a=[];else if(v===123)h=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),v=e.input.charCodeAt(++e.position);v!==0;){if(H(e,!0,t),v=e.input.charCodeAt(e.position),v===h)return e.position++,e.tag=r,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=a,!0;i?v===44&&C(e,"expected the node content, but found ','"):C(e,"missed comma between flow collection entries"),b=m=w=null,u=d=!1,v===63&&(l=e.input.charCodeAt(e.position+1),ht(l)&&(u=d=!0,e.position++,H(e,!0,t))),n=e.line,s=e.lineStart,o=e.position,Fe(e,t,wn,!1,!0),b=e.tag,m=e.result,H(e,!0,t),v=e.input.charCodeAt(e.position),(d||e.line===n)&&v===58&&(u=!0,v=e.input.charCodeAt(++e.position),H(e,!0,t),Fe(e,t,wn,!1,!0),w=e.result),p?Ee(e,a,g,b,m,w,n,s,o):u?a.push(Ee(e,null,g,b,m,w,n,s,o)):a.push(m),H(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(i=!0,v=e.input.charCodeAt(++e.position)):i=!1}C(e,"unexpected end of the stream within a flow collection")}function dA(e,t){var i,n,s=rs,o=!1,r=!1,a=t,c=0,l=!1,h,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)rs===s?s=u===43?fa:Zm:C(e,"repeat of a chomping mode identifier");else if((h=oA(u))>=0)h===0?C(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):r?C(e,"repeat of an indentation width identifier"):(a=t+h-1,r=!0);else break;if(ce(u)){do u=e.input.charCodeAt(++e.position);while(ce(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!Bt(u)&&u!==0)}for(;u!==0;){for(ho(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!r||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!r&&e.lineIndent>a&&(a=e.lineIndent),Bt(u)){c++;continue}if(e.lineIndent<a){s===fa?e.result+=j.repeat(`
`,o?1+c:c):s===rs&&o&&(e.result+=`
`);break}for(n?ce(u)?(l=!0,e.result+=j.repeat(`
`,o?1+c:c)):l?(l=!1,e.result+=j.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=j.repeat(`
`,c):e.result+=j.repeat(`
`,o?1+c:c),o=!0,r=!0,c=0,i=e.position;!Bt(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Ht(e,i,e.position,!1)}return!0}function ba(e,t){var i,n=e.tag,s=e.anchor,o=[],r,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,C(e,"tab characters must not be used in indentation")),!(c!==45||(r=e.input.charCodeAt(e.position+1),!ht(r))));){if(a=!0,e.position++,H(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(i=e.line,Fe(e,t,dl,!1,!0),o.push(e.result),H(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>t)&&c!==0)C(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=s,e.kind="sequence",e.result=o,!0):!1}function fA(e,t,i){var n,s,o,r,a,c,l=e.tag,h=e.anchor,u={},d=Object.create(null),p=null,g=null,m=null,b=!1,w=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),v=e.input.charCodeAt(e.position);v!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,C(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(v===63||v===58)&&ht(n))v===63?(b&&(Ee(e,u,d,p,g,null,r,a,c),p=g=m=null),w=!0,b=!0,s=!0):b?(b=!1,s=!0):C(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(r=e.line,a=e.lineStart,c=e.position,!Fe(e,i,ul,!1,!0))break;if(e.line===o){for(v=e.input.charCodeAt(e.position);ce(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),ht(v)||C(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Ee(e,u,d,p,g,null,r,a,c),p=g=m=null),w=!0,b=!1,s=!1,p=e.tag,g=e.result;else if(w)C(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=h,!0}else if(w)C(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=h,!0}if((e.line===o||e.lineIndent>t)&&(b&&(r=e.line,a=e.lineStart,c=e.position),Fe(e,t,En,!0,s)&&(b?g=e.result:m=e.result),b||(Ee(e,u,d,p,g,m,r,a,c),p=g=m=null),H(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&v!==0)C(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Ee(e,u,d,p,g,null,r,a,c),w&&(e.tag=l,e.anchor=h,e.kind="mapping",e.result=u),w}function pA(e){var t,i=!1,n=!1,s,o,r;if(r=e.input.charCodeAt(e.position),r!==33)return!1;if(e.tag!==null&&C(e,"duplication of a tag property"),r=e.input.charCodeAt(++e.position),r===60?(i=!0,r=e.input.charCodeAt(++e.position)):r===33?(n=!0,s="!!",r=e.input.charCodeAt(++e.position)):s="!",t=e.position,i){do r=e.input.charCodeAt(++e.position);while(r!==0&&r!==62);e.position<e.length?(o=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):C(e,"unexpected end of the stream within a verbatim tag")}else{for(;r!==0&&!ht(r);)r===33&&(n?C(e,"tag suffix cannot contain exclamation marks"):(s=e.input.slice(t-1,e.position+1),fl.test(s)||C(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),iA.test(o)&&C(e,"tag suffix cannot contain flow indicator characters")}o&&!pl.test(o)&&C(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{C(e,"tag name is malformed: "+o)}return i?e.tag=o:jt.call(e.tagMap,s)?e.tag=e.tagMap[s]+o:s==="!"?e.tag="!"+o:s==="!!"?e.tag="tag:yaml.org,2002:"+o:C(e,'undeclared tag handle "'+s+'"'),!0}function gA(e){var t,i;if(i=e.input.charCodeAt(e.position),i!==38)return!1;for(e.anchor!==null&&C(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!ht(i)&&!we(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&C(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function mA(e){var t,i,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ht(n)&&!we(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&C(e,"name of an alias node must contain at least one character"),i=e.input.slice(t,e.position),jt.call(e.anchorMap,i)||C(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],H(e,!0,-1),!0}function Fe(e,t,i,n,s){var o,r,a,c=1,l=!1,h=!1,u,d,p,g,m,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=r=a=En===i||dl===i,n&&H(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;pA(e)||gA(e);)H(e,!0,-1)?(l=!0,a=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||s),(c===1||En===i)&&(wn===i||ul===i?m=t:m=t+1,b=e.position-e.lineStart,c===1?a&&(ba(e,b)||fA(e,b,m))||uA(e,m)?h=!0:(r&&dA(e,m)||lA(e,m)||hA(e,m)?h=!0:mA(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&C(e,"alias node should not have any properties")):cA(e,m,wn===i)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(h=a&&ba(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&C(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,d=e.implicitTypes.length;u<d;u+=1)if(g=e.implicitTypes[u],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(jt.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],u=0,d=p.length;u<d;u+=1)if(e.tag.slice(0,p[u].tag.length)===p[u].tag){g=p[u];break}g||C(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&C(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):C(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function AA(e){var t=e.position,i,n,s,o=!1,r;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(r=e.input.charCodeAt(e.position))!==0&&(H(e,!0,-1),r=e.input.charCodeAt(e.position),!(e.lineIndent>0||r!==37));){for(o=!0,r=e.input.charCodeAt(++e.position),i=e.position;r!==0&&!ht(r);)r=e.input.charCodeAt(++e.position);for(n=e.input.slice(i,e.position),s=[],n.length<1&&C(e,"directive name must not be less than one character in length");r!==0;){for(;ce(r);)r=e.input.charCodeAt(++e.position);if(r===35){do r=e.input.charCodeAt(++e.position);while(r!==0&&!Bt(r));break}if(Bt(r))break;for(i=e.position;r!==0&&!ht(r);)r=e.input.charCodeAt(++e.position);s.push(e.input.slice(i,e.position))}r!==0&&ho(e),jt.call(ma,n)?ma[n](e,n,s):kn(e,'unknown document directive "'+n+'"')}if(H(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,H(e,!0,-1)):o&&C(e,"directives end mark is expected"),Fe(e,e.lineIndent-1,En,!1,!0),H(e,!0,-1),e.checkLineBreaks&&eA.test(e.input.slice(t,e.position))&&kn(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Qn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,H(e,!0,-1));return}if(e.position<e.length-1)C(e,"end of the stream or a document separator is expected");else return}function bl(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var i=new aA(e,t),n=e.indexOf("\0");for(n!==-1&&(i.position=n,C(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)AA(i);return i.documents}function bA(e,t,i){t!==null&&typeof t=="object"&&typeof i=="undefined"&&(i=t,t=null);var n=bl(e,i);if(typeof t!="function")return n;for(var s=0,o=n.length;s<o;s+=1)t(n[s])}function _A(e,t){var i=bl(e,t);if(i.length!==0){if(i.length===1)return i[0];throw new lt("expected a single document in the stream, but found more")}}var xA=bA,yA=_A,vA={loadAll:xA,load:yA},_l=Object.prototype.toString,xl=Object.prototype.hasOwnProperty,fo=65279,wA=9,vi=10,EA=13,kA=32,BA=33,CA=34,Fs=35,MA=37,SA=38,IA=39,DA=42,yl=44,RA=45,Bn=58,OA=61,TA=62,FA=63,PA=64,vl=91,wl=93,QA=96,El=123,LA=124,kl=125,st={};st[0]="\\0";st[7]="\\a";st[8]="\\b";st[9]="\\t";st[10]="\\n";st[11]="\\v";st[12]="\\f";st[13]="\\r";st[27]="\\e";st[34]='\\"';st[92]="\\\\";st[133]="\\N";st[160]="\\_";st[8232]="\\L";st[8233]="\\P";var $A=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],NA=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function zA(e,t){var i,n,s,o,r,a,c;if(t===null)return{};for(i={},n=Object.keys(t),s=0,o=n.length;s<o;s+=1)r=n[s],a=String(t[r]),r.slice(0,2)==="!!"&&(r="tag:yaml.org,2002:"+r.slice(2)),c=e.compiledTypeMap.fallback[r],c&&xl.call(c.styleAliases,a)&&(a=c.styleAliases[a]),i[r]=a;return i}function HA(e){var t,i,n;if(t=e.toString(16).toUpperCase(),e<=255)i="x",n=2;else if(e<=65535)i="u",n=4;else if(e<=4294967295)i="U",n=8;else throw new lt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+j.repeat("0",n-t.length)+t}var YA=1,wi=2;function UA(e){this.schema=e.schema||hl,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=j.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=zA(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?wi:YA,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function _a(e,t){for(var i=j.repeat(" ",t),n=0,s=-1,o="",r,a=e.length;n<a;)s=e.indexOf(`
`,n),s===-1?(r=e.slice(n),n=a):(r=e.slice(n,s+1),n=s+1),r.length&&r!==`
`&&(o+=i),o+=r;return o}function Ps(e,t){return`
`+j.repeat(" ",e.indent*t)}function jA(e,t){var i,n,s;for(i=0,n=e.implicitTypes.length;i<n;i+=1)if(s=e.implicitTypes[i],s.resolve(t))return!0;return!1}function Cn(e){return e===kA||e===wA}function Ei(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==fo||65536<=e&&e<=1114111}function xa(e){return Ei(e)&&e!==fo&&e!==EA&&e!==vi}function ya(e,t,i){var n=xa(e),s=n&&!Cn(e);return(i?n:n&&e!==yl&&e!==vl&&e!==wl&&e!==El&&e!==kl)&&e!==Fs&&!(t===Bn&&!s)||xa(t)&&!Cn(t)&&e===Fs||t===Bn&&s}function VA(e){return Ei(e)&&e!==fo&&!Cn(e)&&e!==RA&&e!==FA&&e!==Bn&&e!==yl&&e!==vl&&e!==wl&&e!==El&&e!==kl&&e!==Fs&&e!==SA&&e!==DA&&e!==BA&&e!==LA&&e!==OA&&e!==TA&&e!==IA&&e!==CA&&e!==MA&&e!==PA&&e!==QA}function GA(e){return!Cn(e)&&e!==Bn}function Ze(e,t){var i=e.charCodeAt(t),n;return i>=55296&&i<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(i-55296)*1024+n-56320+65536:i}function Bl(e){var t=/^\n* /;return t.test(e)}var Cl=1,Qs=2,Ml=3,Sl=4,ve=5;function WA(e,t,i,n,s,o,r,a){var c,l=0,h=null,u=!1,d=!1,p=n!==-1,g=-1,m=VA(Ze(e,0))&&GA(Ze(e,e.length-1));if(t||r)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ze(e,c),!Ei(l))return ve;m=m&&ya(l,h,a),h=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ze(e,c),l===vi)u=!0,p&&(d=d||c-g-1>n&&e[g+1]!==" ",g=c);else if(!Ei(l))return ve;m=m&&ya(l,h,a),h=l}d=d||p&&c-g-1>n&&e[g+1]!==" "}return!u&&!d?m&&!r&&!s(e)?Cl:o===wi?ve:Qs:i>9&&Bl(e)?ve:r?o===wi?ve:Qs:d?Sl:Ml}function KA(e,t,i,n,s){e.dump=function(){if(t.length===0)return e.quotingType===wi?'""':"''";if(!e.noCompatMode&&($A.indexOf(t)!==-1||NA.test(t)))return e.quotingType===wi?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,i),r=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&i>=e.flowLevel;function c(l){return jA(e,l)}switch(WA(t,a,e.indent,r,c,e.quotingType,e.forceQuotes&&!n,s)){case Cl:return t;case Qs:return"'"+t.replace(/'/g,"''")+"'";case Ml:return"|"+va(t,e.indent)+wa(_a(t,o));case Sl:return">"+va(t,e.indent)+wa(_a(JA(t,r),o));case ve:return'"'+qA(t)+'"';default:throw new lt("impossible error: invalid scalar style")}}()}function va(e,t){var i=Bl(e)?String(t):"",n=e[e.length-1]===`
`,s=n&&(e[e.length-2]===`
`||e===`
`),o=s?"+":n?"":"-";return i+o+`
`}function wa(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function JA(e,t){for(var i=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,i.lastIndex=l,Ea(e.slice(0,l),t)}(),s=e[0]===`
`||e[0]===" ",o,r;r=i.exec(e);){var a=r[1],c=r[2];o=c[0]===" ",n+=a+(!s&&!o&&c!==""?`
`:"")+Ea(c,t),s=o}return n}function Ea(e,t){if(e===""||e[0]===" ")return e;for(var i=/ [^ ]/g,n,s=0,o,r=0,a=0,c="";n=i.exec(e);)a=n.index,a-s>t&&(o=r>s?r:a,c+=`
`+e.slice(s,o),s=o+1),r=a;return c+=`
`,e.length-s>t&&r>s?c+=e.slice(s,r)+`
`+e.slice(r+1):c+=e.slice(s),c.slice(1)}function qA(e){for(var t="",i=0,n,s=0;s<e.length;i>=65536?s+=2:s++)i=Ze(e,s),n=st[i],!n&&Ei(i)?(t+=e[s],i>=65536&&(t+=e[s+1])):t+=n||HA(i);return t}function XA(e,t,i){var n="",s=e.tag,o,r,a;for(o=0,r=i.length;o<r;o+=1)a=i[o],e.replacer&&(a=e.replacer.call(i,String(o),a)),(Ft(e,t,a,!1,!1)||typeof a=="undefined"&&Ft(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=s,e.dump="["+n+"]"}function ka(e,t,i,n){var s="",o=e.tag,r,a,c;for(r=0,a=i.length;r<a;r+=1)c=i[r],e.replacer&&(c=e.replacer.call(i,String(r),c)),(Ft(e,t+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&Ft(e,t+1,null,!0,!0,!1,!0))&&((!n||s!=="")&&(s+=Ps(e,t)),e.dump&&vi===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=o,e.dump=s||"[]"}function ZA(e,t,i){var n="",s=e.tag,o=Object.keys(i),r,a,c,l,h;for(r=0,a=o.length;r<a;r+=1)h="",n!==""&&(h+=", "),e.condenseFlow&&(h+='"'),c=o[r],l=i[c],e.replacer&&(l=e.replacer.call(i,c,l)),Ft(e,t,c,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ft(e,t,l,!1,!1)&&(h+=e.dump,n+=h));e.tag=s,e.dump="{"+n+"}"}function t0(e,t,i,n){var s="",o=e.tag,r=Object.keys(i),a,c,l,h,u,d;if(e.sortKeys===!0)r.sort();else if(typeof e.sortKeys=="function")r.sort(e.sortKeys);else if(e.sortKeys)throw new lt("sortKeys must be a boolean or a function");for(a=0,c=r.length;a<c;a+=1)d="",(!n||s!=="")&&(d+=Ps(e,t)),l=r[a],h=i[l],e.replacer&&(h=e.replacer.call(i,l,h)),Ft(e,t+1,l,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&vi===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,u&&(d+=Ps(e,t)),Ft(e,t+1,h,!0,u)&&(e.dump&&vi===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,s+=d));e.tag=o,e.dump=s||"{}"}function Ba(e,t,i){var n,s,o,r,a,c;for(s=i?e.explicitTypes:e.implicitTypes,o=0,r=s.length;o<r;o+=1)if(a=s[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(i?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,_l.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(xl.call(a.represent,c))n=a.represent[c](t,c);else throw new lt("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function Ft(e,t,i,n,s,o,r){e.tag=null,e.dump=i,Ba(e,i,!1)||Ba(e,i,!0);var a=_l.call(e.dump),c=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var h=a==="[object Object]"||a==="[object Array]",u,d;if(h&&(u=e.duplicates.indexOf(i),d=u!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(s=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(t0(e,t,e.dump,s),d&&(e.dump="&ref_"+u+e.dump)):(ZA(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!r&&t>0?ka(e,t-1,e.dump,s):ka(e,t,e.dump,s),d&&(e.dump="&ref_"+u+e.dump)):(XA(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&KA(e,e.dump,t,o,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new lt("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function e0(e,t){var i=[],n=[],s,o;for(Ls(e,i,n),s=0,o=n.length;s<o;s+=1)t.duplicates.push(i[n[s]]);t.usedDuplicates=new Array(o)}function Ls(e,t,i){var n,s,o;if(e!==null&&typeof e=="object")if(s=t.indexOf(e),s!==-1)i.indexOf(s)===-1&&i.push(s);else if(t.push(e),Array.isArray(e))for(s=0,o=e.length;s<o;s+=1)Ls(e[s],t,i);else for(n=Object.keys(e),s=0,o=n.length;s<o;s+=1)Ls(e[n[s]],t,i)}function i0(e,t){t=t||{};var i=new UA(t);i.noRefs||e0(e,i);var n=e;return i.replacer&&(n=i.replacer.call({"":n},"",n)),Ft(i,0,n,!0,!0)?i.dump+`
`:""}var n0=i0,s0={dump:n0},o0=vA.load,r0=s0.dump,a0=Object.defineProperty,c0=Object.getOwnPropertyDescriptor,Le=(e,t,i,n)=>{for(var s=n>1?void 0:n?c0(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&a0(t,i,s),s};window.source=new EventSource(_i()+"/events");var Ca=0,as=[];function l0(e){const t=Math.sign(e);if(e===0)return new Intl.RelativeTimeFormat("en").format(0,"second");const i=[{type:"year",seconds:12*30*24*60*60*1e3},{type:"month",seconds:30*24*60*60*1e3},{type:"week",seconds:7*24*60*60*1e3},{type:"day",seconds:24*60*60*1e3},{type:"hour",seconds:60*60*1e3},{type:"minute",seconds:60*1e3},{type:"second",seconds:1e3}];let n="";const s=new Intl.RelativeTimeFormat("en");let o=0;for(let r of i){const a=Math.trunc(Math.abs(e/r.seconds));if(a>0){const c=s.format(a*t,r.type);if(e-=a*r.seconds*t,n+=o===0&&r.type!="second"?c.replace(" ago"," "):c,o++>=1)break}}return n}let pe=class extends mt{constructor(){super(),this.scheme="",this.ping=0,this.connected=!0,this.lastUpdate=0,this.version="3.0.0",this.config={ota:!1,log:!0,title:"",comment:"",cid:0,token:""},this.darkQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.frames=[{},{color:"rgba(0, 196, 21, 0.75)"},{}];const e=document.querySelector("script#config");e&&this.setConfig(JSON.parse(e.innerText))}sendAck(e){let t=_i(),i=JSON.stringify({cid:e,method:"POST",action:"set",oid:"auth",domain:"auth"});fetch(`${t}/api`,{method:"POST",body:bi(i)}).then(n=>{n.ok||console.log(n)}).catch(n=>console.log(n))}setConfig(e){"log"in e||(e.log=this.config.log),this.config=e,Ca=e.partitions,document.title=e.title,document.title=e.title,document.documentElement.lang=e.lang;var t={};t.cid=e.cid,t.token=e.token,t.seq=1,t.crypt=e.crypt,sa(t),e.cid&&this.sendAck(e.cid),e.cid&&this.hideLoginForm(),this.requestUpdate()}firstUpdated(e){var n;super.firstUpdated(e),document.getElementsByTagName("head")[0].innerHTML+='<meta name=viewport content="width=device-width, initial-scale=1,user-scalable=no">';const t=document.querySelector("link[rel~='icon']");t.href='data:image/svg+xml,<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"><style>path{stroke-width:1;fill:black;stroke:black;stroke-linecap:round;stroke-linejoin:round}@media (prefers-color-scheme:dark){path{fill:white;stroke:white}}</style><path d="M1.3 18H5v10h21.8V18h3.7l-3.7-3.7V7.8h-2.4V12l-8.7-8.7L1.3 18Z"/></svg>',this.scheme=localStorage.getItem("scheme")===null?this.schemeDefault():localStorage.getItem("scheme"),window.source.addEventListener("ping",s=>{var o;if((o=s.data)!=null&&o.length){let r=s.data;Ot(r)&&(r=JSON.parse(r)),r.iv!=null&&(r=zt(r)),r&&this.setConfig(r),this.requestUpdate()}this._updateUptime(s),this.lastUpdate=Date.now()}),(n=window.source)==null||n.addEventListener("ota",s=>{var o=s.data;Ot(o)&&(o=JSON.parse(o)),o.iv!=null&&(o=zt(o)),this.renderRoot.querySelector("#el3").innerText=o,this.requestUpdate()}),window.source.addEventListener("log",s=>{this._updateUptime(s),this.lastUpdate=Date.now()}),window.source.addEventListener("state",s=>{this.lastUpdate=Date.now()}),window.source.addEventListener("error",s=>{console.dir(s),this.connected=!1,this.requestUpdate()}),setInterval(()=>{this.connected=!!this.ping&&Date.now()-this.lastUpdate<15e3},5e3),document.addEventListener("entity-tab-header-double-clicked",s=>{var r;const o=(r=this.shadowRoot)==null?void 0:r.querySelector("main.flex-grid-half");o==null||o.classList.toggle("expanded_entity")}),document.addEventListener("log-tab-header-double-clicked",s=>{var r;const o=(r=this.shadowRoot)==null?void 0:r.querySelector("main.flex-grid-half");o==null||o.classList.toggle("expanded_logs")});var i={};i.cid=this.config.cid,i.token=this.config.token,i.seq=1,i.crypt=this.config.crypt,sa(i)}schemeDefault(){return this.darkQuery.matches?"dark":"light"}updated(e){super.updated(e),e.has("scheme")&&(document.documentElement.style.setProperty("color-scheme",this.scheme),localStorage.setItem("scheme",this.scheme)),e.has("ping")&&this.ping&&this.beat.animate(this.frames,1e3)}uptime(){return`${l0(-this.ping|0)}`}selectfile(e){f=e.target.files[0],f&&(this.renderRoot.querySelector("#el4").innerText=f.name,this.renderRoot.querySelector("#el5").removeAttribute("disabled"),this.renderRoot.querySelector("#el3").innerText=" ")}openselect(e){this.renderRoot.querySelector("#el1").click()}renderOta(){if(this.config.ota)return S`<div class="tab-header">OTA Update</div><div class="tab-container"><input type="file" @change="${this.selectfile}" id="el1" style="display:none"> <button class="btn" id="el2" @click="${this.openselect}">choose file...</button> <span>Selected file:</span> <span id="el4"></span><br><button class="btn" id="el5" @click="${this.upload}" disabled="disabled">upload file</button><div id="el3" style="margin-top:1em"></div></div>`}upload(e){var t=new FileReader;t.readAsArrayBuffer(f),t.onload=function(){e.target.value="",e.target.renderRoot.querySelector("#el3").innerText="Uploading...",fetch("/update/"+encodeURIComponent(f.name),{method:"POST",body:t.result}).then(function(i){i.ok?e.target.renderRoot.querySelector("#el3").innerText="Uploaded "+t.result.byteLength+" bytes":(console.log(i),e.target.renderRoot.querySelector("#el3").innerText="OTA upload error: "+i.statusText),e.target.renderRoot.querySelector("#el5").setAttribute("disabled","")}).catch(i=>console.log(i))}}renderLog(){return this.config.cid&&this.config.log?S`<section id="col_logs" class="col"><esp-log rows="50" .scheme="${this.scheme}"></esp-log></section>`:P}renderTitle(){return S`<h1>${this.config.title||S``}</h1><div>${[this.config.comment,`started ${this.uptime()}`].filter(e=>e).map(e=>`${e}`).join(" \xB7 ")}</div>`}render(){return S`<header>${this.renderCryptState()}<br><a href="https://esphome.io/web-api" id="logo" title="${this.version}"><esp-logo style="width:52px;height:40px"></esp-logo></a><iconify-icon .icon="${this.connected?"mdi:circle":"mdi:circle-off-outline"}" .title="${this.uptime()}" class="top-icon ${this.connected?"connected":""}" id="beat"></iconify-icon><a href="#" id="scheme" @click="${()=>{this.scheme=this.scheme!=="dark"?"dark":"light"}}"><iconify-icon icon="mdi:theme-light-dark" class="top-icon"></iconify-icon></a>${this.renderTitle()} ${this.renderConfig()}</header>${this.renderLogin()}<div class="keypad_row">${this.renderKeypads()}</div><main class="flex-grid-half" @toggle-layout="${this._handleLayoutToggle}"><section id="col_entities" class="col"><esp-entity-table .scheme="${this.scheme}"></esp-entity-table>${this.renderOta()}</section>${this.renderLog()}</main>`}_updateUptime(e){e.lastEventId&&(this.ping=parseInt(e.lastEventId),this.connected=!0,this.requestUpdate())}sendConfig(e){let t=_i(),i=JSON.stringify({config:e,method:"POST",action:"set",oid:"alarm_panel",domain:"alarm_panel"});fetch(`${t}/api`,{method:"POST",body:bi(i)}).then(n=>{n.ok||console.log(n)}).catch(n=>console.log(n))}hideLoginForm(){this.renderRoot.querySelector("#login").className="",this.renderRoot.querySelector("#login").classList.add("hide")}showLoginForm(){this.renderRoot.querySelector("#login").className=""}toggleLoginForm(){this.renderRoot.querySelector("#login").classList=="hide"?this.renderRoot.querySelector("#showlogin").innerText="Hide Login":this.renderRoot.querySelector("#showlogin").innerText="Login",this.renderRoot.querySelector("#login").classList.toggle("hide")}renderLoginButton(){return this.config.cid?S`<button id="logout" @click="${mg}">Logout</button>`:S`<button id="showlogin" @click="${this.toggleLoginForm}">Login</button>`}renderKeypads(){if(!this.config.keypad)return P;as=[];for(let e=1;e<=Ca;e++)as.push(e);return S`${as.map(e=>S`<div class="keypad"><esp-keypad .current_partition="${e}" .scheme="${this.scheme}"></esp-keypad></div>`)}`}toggleEditForm(){if(this.renderRoot.querySelector("#editform").classList=="hide"){const e=this.shadowRoot.getElementById("yaml_error");try{this.renderRoot.querySelector("#config_field").value=r0(JSON.parse(localStorage.getItem("keypad_config")))}catch(t){e.innerText=t,console.log(t)}this.renderRoot.querySelector("#showedit").className="hide",this.renderRoot.querySelector("#editform").className=""}else this.renderRoot.querySelector("#config_field").value="",this.shadowRoot.getElementById("yaml_error").innerText="",this.renderRoot.querySelector("#showedit").innerText="Config",this.renderRoot.querySelector("#showedit").className="",this.renderRoot.querySelector("#editform").className="hide"}resetConfig(){confirm("Are you sure you want reset the config to default?")==!0&&(localStorage.removeItem("keypad_config"),location.reload())}renderConfig(){if(this.config.cid!=0)return S`<div><button @click="${this.toggleEditForm}" id="showedit" style="font-size:.6rem">Config</button><div class="hide" id="editform"><div><button style="font-size:.6rem" @click="${this.toggleEditForm}">Exit</button> <button style="font-size:.6rem" @click="${this.saveConfig}">Save</button> <button style="font-size:.6rem" @click="${this.resetConfig}">Reset</button></div><textarea id="config_field" rows="20" cols="50"></textarea><div><span id="yaml_error" style="color:red"></span></div></div></div>`}saveConfig(){if(confirm("Save this configuration?")==!1)return;const e=this.shadowRoot.getElementById("config_field").value,t=this.shadowRoot.getElementById("yaml_error");try{let i=JSON.stringify(o0(e));localStorage.setItem("keypad_config",i),location.reload()}catch(i){t.innerText=i,console.log(i)}}renderCryptState(){let e="\u{1F513}";return this.config.crypt&&(e="\u{1F510}"),S`<div id="cryptstate">${e}${this.renderLoginButton()}</div>`}renderLogin(){return S`<div id="login"><h3 class="login_row">Alarm Panel Login</h3><div class="login_row"><input class="keypad" id="username" type="username" placeholder="Your username" autocomplete="off"> <input class="keypad" id="password" type="password" placeholder="Password"></div><div class="login_row"><button @click="${Ag}">Submit</button></div></div>`}static get styles(){return[Sn,za,Fg,zs,dt`.keypad_row{display:flex;flex-wrap:wrap;justify-content:center}.keypad{margin:10px;max-width:450px;width:100%}.login_row{display:flex;flex-wrap:wrap;justify-content:center;padding-bottom:15px}#cryptstate{float:left;height:1rem}.right{float:right}.hide{display:none}`]}};Le([nt()],pe.prototype,"scheme",2);Le([nt()],pe.prototype,"ping",2);Le([nt()],pe.prototype,"connected",2);Le([nt()],pe.prototype,"lastUpdate",2);Le([Kl("#beat")],pe.prototype,"beat",2);pe=Le([Vt("esp-app")],pe);
